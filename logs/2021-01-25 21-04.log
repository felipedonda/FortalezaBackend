2021-01-25 21:04:19.865 -03:00 [INF] Starting web host
2021-01-25 21:04:21.848 -03:00 [INF] Now listening on: http://[::]:8000
2021-01-25 21:04:21.867 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-01-25 21:04:21.877 -03:00 [INF] Hosting environment: Development
2021-01-25 21:04:21.878 -03:00 [INF] Content root path: C:\Users\felip\source\repos\FortalezaServer
2021-01-25 21:04:23.417 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/status  
2021-01-25 21:04:23.476 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.IndexController.GetStatus (FortalezaServer)'
2021-01-25 21:04:23.531 -03:00 [INF] Route matched with {action = "GetStatus", controller = "Index"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FortalezaServer.Controllers.IndexController+Status]] GetStatus() on controller FortalezaServer.Controllers.IndexController (FortalezaServer).
2021-01-25 21:04:24.759 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-01-25 21:04:25.174 -03:00 [INF] Executing ObjectResult, writing value of type 'FortalezaServer.Controllers.IndexController+Status'.
2021-01-25 21:04:25.328 -03:00 [INF] Executed action FortalezaServer.Controllers.IndexController.GetStatus (FortalezaServer) in 1788.2321ms
2021-01-25 21:04:25.333 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.IndexController.GetStatus (FortalezaServer)'
2021-01-25 21:04:25.342 -03:00 [INF] Request finished in 1927.4779ms 200 application/json; charset=utf-8
2021-01-25 21:04:44.657 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api  
2021-01-25 21:04:44.669 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.IndexController.Get (FortalezaServer)'
2021-01-25 21:04:44.681 -03:00 [INF] Route matched with {action = "Get", controller = "Index"}. Executing controller action with signature System.String Get() on controller FortalezaServer.Controllers.IndexController (FortalezaServer).
2021-01-25 21:04:44.689 -03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2021-01-25 21:04:44.694 -03:00 [INF] Executed action FortalezaServer.Controllers.IndexController.Get (FortalezaServer) in 6.458ms
2021-01-25 21:04:44.696 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.IndexController.Get (FortalezaServer)'
2021-01-25 21:04:44.699 -03:00 [INF] Request finished in 42.5174ms 200 text/plain; charset=utf-8
2021-01-25 21:04:44.737 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api  
2021-01-25 21:04:44.739 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.IndexController.Get (FortalezaServer)'
2021-01-25 21:04:44.740 -03:00 [INF] Route matched with {action = "Get", controller = "Index"}. Executing controller action with signature System.String Get() on controller FortalezaServer.Controllers.IndexController (FortalezaServer).
2021-01-25 21:04:44.746 -03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2021-01-25 21:04:44.750 -03:00 [INF] Executed action FortalezaServer.Controllers.IndexController.Get (FortalezaServer) in 5.2015ms
2021-01-25 21:04:44.758 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.IndexController.Get (FortalezaServer)'
2021-01-25 21:04:44.759 -03:00 [INF] Request finished in 22.4796ms 200 text/plain; charset=utf-8
2021-01-25 21:04:44.975 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/vendas/actions/aberta  
2021-01-25 21:04:45.005 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.VendasController.GetVendaAberta (FortalezaServer)'
2021-01-25 21:04:45.025 -03:00 [INF] Route matched with {action = "GetVendaAberta", controller = "Vendas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Int32]] GetVendaAberta(Int32) on controller FortalezaServer.Controllers.VendasController (FortalezaServer).
2021-01-25 21:04:45.057 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-01-25 21:04:45.088 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/grupos  
2021-01-25 21:04:45.090 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.GruposController.GetGrupo (FortalezaServer)'
2021-01-25 21:04:45.095 -03:00 [INF] Route matched with {action = "GetGrupo", controller = "Grupos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[FortalezaServer.Models.Grupo]]] GetGrupo() on controller FortalezaServer.Controllers.GruposController (FortalezaServer).
2021-01-25 21:04:45.145 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-01-25 21:04:45.327 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`idgrupo`, `g`.`descricao`, `g`.`nome`, `g`.`visivel`
FROM `grupo` AS `g`
2021-01-25 21:04:45.327 -03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__tipo_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `v`.`idvenda`, `v`.`aberta`, `v`.`acrescimo`, `v`.`desconto`, `v`.`descricao`, `v`.`hora_entrada`, `v`.`hora_fechamento`, `v`.`idcaixa`, `v`.`idcliente`, `v`.`idpdv`, `v`.`idresponsavel`, `v`.`numero_venda`, `v`.`paga`, `v`.`tipo`, `v`.`valor_pago`
FROM `venda` AS `v`
WHERE (`v`.`aberta` = 1) & (`v`.`tipo` = @__tipo_0)
LIMIT 1
2021-01-25 21:04:45.350 -03:00 [INF] Executing ObjectResult, writing value of type 'System.Int32'.
2021-01-25 21:04:45.353 -03:00 [INF] Executed action FortalezaServer.Controllers.VendasController.GetVendaAberta (FortalezaServer) in 324.7355ms
2021-01-25 21:04:45.355 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.VendasController.GetVendaAberta (FortalezaServer)'
2021-01-25 21:04:45.360 -03:00 [INF] Request finished in 385.3785ms 200 application/json; charset=utf-8
2021-01-25 21:04:45.395 -03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[FortalezaServer.Models.Grupo, FortalezaServer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-01-25 21:04:45.414 -03:00 [INF] Executed action FortalezaServer.Controllers.GruposController.GetGrupo (FortalezaServer) in 314.1736ms
2021-01-25 21:04:45.415 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.GruposController.GetGrupo (FortalezaServer)'
2021-01-25 21:04:45.418 -03:00 [INF] Request finished in 329.2338ms 200 application/json; charset=utf-8
2021-01-25 21:04:45.447 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/items  
2021-01-25 21:04:45.449 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.ItemsController.GetItem (FortalezaServer)'
2021-01-25 21:04:45.455 -03:00 [INF] Route matched with {action = "GetItem", controller = "Items"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[FortalezaServer.Models.Item]]] GetItem(Boolean, Boolean, Boolean) on controller FortalezaServer.Controllers.ItemsController (FortalezaServer).
2021-01-25 21:04:45.462 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-01-25 21:04:45.477 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`iditem`, `i`.`atacado`, `i`.`codigo_barras`, `i`.`descricao`, `i`.`disponivel`, `i`.`estoque`, `i`.`estoque_minimo`, `i`.`imagem`, `i`.`permite_combo`, `i`.`quantidade_atacado`, `i`.`tipo`, `i`.`unidade`, `i`.`unidade_inteira`, `i`.`valor`, `i`.`valor_atacado`, `i`.`visivel`
FROM `item` AS `i`
WHERE `i`.`visivel` = 1
2021-01-25 21:04:45.528 -03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[FortalezaServer.Models.Item, FortalezaServer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-01-25 21:04:45.564 -03:00 [INF] Executed action FortalezaServer.Controllers.ItemsController.GetItem (FortalezaServer) in 105.1916ms
2021-01-25 21:04:45.575 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.ItemsController.GetItem (FortalezaServer)'
2021-01-25 21:04:45.578 -03:00 [INF] Request finished in 130.7608ms 200 application/json; charset=utf-8
2021-01-25 21:04:55.070 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/caixas/actions/aberto?movimentos=true&idnomeCaixa=1  
2021-01-25 21:04:55.073 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.CaixasController.GetCaixaAberto (FortalezaServer)'
2021-01-25 21:04:55.080 -03:00 [INF] Route matched with {action = "GetCaixaAberto", controller = "Caixas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FortalezaServer.Models.Caixa]] GetCaixaAberto(Int32, Boolean) on controller FortalezaServer.Controllers.CaixasController (FortalezaServer).
2021-01-25 21:04:55.089 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-01-25 21:04:55.151 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__idnomeCaixa_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`idcaixa`, `c`.`aberto`, `c`.`idnome_caixa`, `n`.`idnome_caixa`, `n`.`nome`, `a`.`idcaixa`, `a`.`hora`, `a`.`idpdv`, `a`.`idusuario`, `p`.`idpdv`, `p`.`nome`, `u`.`idusuario`, `u`.`cpf`, `u`.`idendereco`, `u`.`login`, `u`.`nome`, `u`.`senha`, `u`.`telefone1`, `u`.`telefone2`
FROM `caixa` AS `c`
INNER JOIN `nome_caixa` AS `n` ON `c`.`idnome_caixa` = `n`.`idnome_caixa`
LEFT JOIN `abertura` AS `a` ON `c`.`idcaixa` = `a`.`idcaixa`
LEFT JOIN `pdv` AS `p` ON `a`.`idpdv` = `p`.`idpdv`
LEFT JOIN `usuario` AS `u` ON `a`.`idusuario` = `u`.`idusuario`
WHERE (`c`.`aberto` = 1) AND (`c`.`idnome_caixa` = @__idnomeCaixa_0)
LIMIT 1
2021-01-25 21:04:55.160 -03:00 [INF] Executing HttpStatusCodeResult, setting HTTP status code 204
2021-01-25 21:04:55.161 -03:00 [INF] Executed action FortalezaServer.Controllers.CaixasController.GetCaixaAberto (FortalezaServer) in 78.562ms
2021-01-25 21:04:55.164 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.CaixasController.GetCaixaAberto (FortalezaServer)'
2021-01-25 21:04:55.165 -03:00 [INF] Request finished in 95.455ms 204 
2021-01-25 21:04:55.201 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/caixas?filtroData=true&dataInicial=2021-01-18&dataFinal=2021-01-25  
2021-01-25 21:04:55.202 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.CaixasController.GetCaixa (FortalezaServer)'
2021-01-25 21:04:55.208 -03:00 [INF] Route matched with {action = "GetCaixa", controller = "Caixas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[FortalezaServer.Models.Caixa]]] GetCaixa(Boolean, System.String, System.String) on controller FortalezaServer.Controllers.CaixasController (FortalezaServer).
2021-01-25 21:04:55.217 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-01-25 21:04:55.250 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@___dataInicial_0='?' (DbType = DateTime), @___dataFinal_1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`idcaixa`, `c`.`aberto`, `c`.`idnome_caixa`, `n`.`idnome_caixa`, `n`.`nome`, `a`.`idcaixa`, `a`.`hora`, `a`.`idpdv`, `a`.`idusuario`, `p`.`idpdv`, `p`.`nome`, `u`.`idusuario`, `u`.`cpf`, `u`.`idendereco`, `u`.`login`, `u`.`nome`, `u`.`senha`, `u`.`telefone1`, `u`.`telefone2`, `f`.`idcaixa`, `f`.`hora`, `f`.`idpdv`, `f`.`idusuario`, `p0`.`idpdv`, `p0`.`nome`, `u0`.`idusuario`, `u0`.`cpf`, `u0`.`idendereco`, `u0`.`login`, `u0`.`nome`, `u0`.`senha`, `u0`.`telefone1`, `u0`.`telefone2`
FROM `caixa` AS `c`
LEFT JOIN `abertura` AS `a` ON `c`.`idcaixa` = `a`.`idcaixa`
INNER JOIN `nome_caixa` AS `n` ON `c`.`idnome_caixa` = `n`.`idnome_caixa`
LEFT JOIN `pdv` AS `p` ON `a`.`idpdv` = `p`.`idpdv`
LEFT JOIN `usuario` AS `u` ON `a`.`idusuario` = `u`.`idusuario`
LEFT JOIN `fechamento` AS `f` ON `c`.`idcaixa` = `f`.`idcaixa`
LEFT JOIN `pdv` AS `p0` ON `f`.`idpdv` = `p0`.`idpdv`
LEFT JOIN `usuario` AS `u0` ON `f`.`idusuario` = `u0`.`idusuario`
WHERE (`a`.`hora` > @___dataInicial_0) & (`a`.`hora` < @___dataFinal_1)
2021-01-25 21:04:55.255 -03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[FortalezaServer.Models.Caixa, FortalezaServer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-01-25 21:04:55.258 -03:00 [INF] Executed action FortalezaServer.Controllers.CaixasController.GetCaixa (FortalezaServer) in 44.9339ms
2021-01-25 21:04:55.261 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.CaixasController.GetCaixa (FortalezaServer)'
2021-01-25 21:04:55.263 -03:00 [INF] Request finished in 61.9106ms 200 application/json; charset=utf-8
2021-01-25 21:05:02.662 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/caixas/actions/aberto?movimentos=true&idnomeCaixa=1  
2021-01-25 21:05:02.665 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.CaixasController.GetCaixaAberto (FortalezaServer)'
2021-01-25 21:05:02.670 -03:00 [INF] Route matched with {action = "GetCaixaAberto", controller = "Caixas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FortalezaServer.Models.Caixa]] GetCaixaAberto(Int32, Boolean) on controller FortalezaServer.Controllers.CaixasController (FortalezaServer).
2021-01-25 21:05:02.678 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-01-25 21:05:02.688 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__idnomeCaixa_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`idcaixa`, `c`.`aberto`, `c`.`idnome_caixa`, `n`.`idnome_caixa`, `n`.`nome`, `a`.`idcaixa`, `a`.`hora`, `a`.`idpdv`, `a`.`idusuario`, `p`.`idpdv`, `p`.`nome`, `u`.`idusuario`, `u`.`cpf`, `u`.`idendereco`, `u`.`login`, `u`.`nome`, `u`.`senha`, `u`.`telefone1`, `u`.`telefone2`
FROM `caixa` AS `c`
INNER JOIN `nome_caixa` AS `n` ON `c`.`idnome_caixa` = `n`.`idnome_caixa`
LEFT JOIN `abertura` AS `a` ON `c`.`idcaixa` = `a`.`idcaixa`
LEFT JOIN `pdv` AS `p` ON `a`.`idpdv` = `p`.`idpdv`
LEFT JOIN `usuario` AS `u` ON `a`.`idusuario` = `u`.`idusuario`
WHERE (`c`.`aberto` = 1) AND (`c`.`idnome_caixa` = @__idnomeCaixa_0)
LIMIT 1
2021-01-25 21:05:02.697 -03:00 [INF] Executing HttpStatusCodeResult, setting HTTP status code 204
2021-01-25 21:05:02.699 -03:00 [INF] Executed action FortalezaServer.Controllers.CaixasController.GetCaixaAberto (FortalezaServer) in 22.0286ms
2021-01-25 21:05:02.702 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.CaixasController.GetCaixaAberto (FortalezaServer)'
2021-01-25 21:05:02.705 -03:00 [INF] Request finished in 43.5233ms 204 
2021-01-25 21:05:02.800 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/caixas?filtroData=true&dataInicial=2021-01-18&dataFinal=2021-01-25  
2021-01-25 21:05:02.801 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.CaixasController.GetCaixa (FortalezaServer)'
2021-01-25 21:05:02.805 -03:00 [INF] Route matched with {action = "GetCaixa", controller = "Caixas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[FortalezaServer.Models.Caixa]]] GetCaixa(Boolean, System.String, System.String) on controller FortalezaServer.Controllers.CaixasController (FortalezaServer).
2021-01-25 21:05:02.814 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-01-25 21:05:02.817 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@___dataInicial_0='?' (DbType = DateTime), @___dataFinal_1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`idcaixa`, `c`.`aberto`, `c`.`idnome_caixa`, `n`.`idnome_caixa`, `n`.`nome`, `a`.`idcaixa`, `a`.`hora`, `a`.`idpdv`, `a`.`idusuario`, `p`.`idpdv`, `p`.`nome`, `u`.`idusuario`, `u`.`cpf`, `u`.`idendereco`, `u`.`login`, `u`.`nome`, `u`.`senha`, `u`.`telefone1`, `u`.`telefone2`, `f`.`idcaixa`, `f`.`hora`, `f`.`idpdv`, `f`.`idusuario`, `p0`.`idpdv`, `p0`.`nome`, `u0`.`idusuario`, `u0`.`cpf`, `u0`.`idendereco`, `u0`.`login`, `u0`.`nome`, `u0`.`senha`, `u0`.`telefone1`, `u0`.`telefone2`
FROM `caixa` AS `c`
LEFT JOIN `abertura` AS `a` ON `c`.`idcaixa` = `a`.`idcaixa`
INNER JOIN `nome_caixa` AS `n` ON `c`.`idnome_caixa` = `n`.`idnome_caixa`
LEFT JOIN `pdv` AS `p` ON `a`.`idpdv` = `p`.`idpdv`
LEFT JOIN `usuario` AS `u` ON `a`.`idusuario` = `u`.`idusuario`
LEFT JOIN `fechamento` AS `f` ON `c`.`idcaixa` = `f`.`idcaixa`
LEFT JOIN `pdv` AS `p0` ON `f`.`idpdv` = `p0`.`idpdv`
LEFT JOIN `usuario` AS `u0` ON `f`.`idusuario` = `u0`.`idusuario`
WHERE (`a`.`hora` > @___dataInicial_0) & (`a`.`hora` < @___dataFinal_1)
2021-01-25 21:05:02.828 -03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[FortalezaServer.Models.Caixa, FortalezaServer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-01-25 21:05:02.832 -03:00 [INF] Executed action FortalezaServer.Controllers.CaixasController.GetCaixa (FortalezaServer) in 18.7539ms
2021-01-25 21:05:02.833 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.CaixasController.GetCaixa (FortalezaServer)'
2021-01-25 21:05:02.835 -03:00 [INF] Request finished in 35.0404ms 200 application/json; charset=utf-8
2021-01-25 21:05:04.000 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/caixas/actions/aberto?idnomeCaixa=1  
2021-01-25 21:05:04.002 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.CaixasController.GetCaixaAberto (FortalezaServer)'
2021-01-25 21:05:04.005 -03:00 [INF] Route matched with {action = "GetCaixaAberto", controller = "Caixas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FortalezaServer.Models.Caixa]] GetCaixaAberto(Int32, Boolean) on controller FortalezaServer.Controllers.CaixasController (FortalezaServer).
2021-01-25 21:05:04.015 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-01-25 21:05:04.021 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__idnomeCaixa_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`idcaixa`, `c`.`aberto`, `c`.`idnome_caixa`, `n`.`idnome_caixa`, `n`.`nome`, `a`.`idcaixa`, `a`.`hora`, `a`.`idpdv`, `a`.`idusuario`, `p`.`idpdv`, `p`.`nome`, `u`.`idusuario`, `u`.`cpf`, `u`.`idendereco`, `u`.`login`, `u`.`nome`, `u`.`senha`, `u`.`telefone1`, `u`.`telefone2`
FROM `caixa` AS `c`
INNER JOIN `nome_caixa` AS `n` ON `c`.`idnome_caixa` = `n`.`idnome_caixa`
LEFT JOIN `abertura` AS `a` ON `c`.`idcaixa` = `a`.`idcaixa`
LEFT JOIN `pdv` AS `p` ON `a`.`idpdv` = `p`.`idpdv`
LEFT JOIN `usuario` AS `u` ON `a`.`idusuario` = `u`.`idusuario`
WHERE (`c`.`aberto` = 1) AND (`c`.`idnome_caixa` = @__idnomeCaixa_0)
LIMIT 1
2021-01-25 21:05:04.030 -03:00 [INF] Executing HttpStatusCodeResult, setting HTTP status code 204
2021-01-25 21:05:04.031 -03:00 [INF] Executed action FortalezaServer.Controllers.CaixasController.GetCaixaAberto (FortalezaServer) in 17.0704ms
2021-01-25 21:05:04.034 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.CaixasController.GetCaixaAberto (FortalezaServer)'
2021-01-25 21:05:04.036 -03:00 [INF] Request finished in 35.5091ms 204 
2021-01-25 21:05:04.042 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/nomecaixas/1  
2021-01-25 21:05:04.043 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.NomeCaixasController.GetNomeCaixa (FortalezaServer)'
2021-01-25 21:05:04.048 -03:00 [INF] Route matched with {action = "GetNomeCaixa", controller = "NomeCaixas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FortalezaServer.Models.NomeCaixa]] GetNomeCaixa(Int32) on controller FortalezaServer.Controllers.NomeCaixasController (FortalezaServer).
2021-01-25 21:05:04.052 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-01-25 21:05:04.065 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `n`.`idnome_caixa`, `n`.`nome`
FROM `nome_caixa` AS `n`
WHERE `n`.`idnome_caixa` = @__p_0
LIMIT 1
2021-01-25 21:05:04.076 -03:00 [INF] Executing ObjectResult, writing value of type 'FortalezaServer.Models.NomeCaixa'.
2021-01-25 21:05:04.079 -03:00 [INF] Executed action FortalezaServer.Controllers.NomeCaixasController.GetNomeCaixa (FortalezaServer) in 29.3358ms
2021-01-25 21:05:04.081 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.NomeCaixasController.GetNomeCaixa (FortalezaServer)'
2021-01-25 21:05:04.082 -03:00 [INF] Request finished in 40.7397ms 200 application/json; charset=utf-8
2021-01-25 21:05:04.088 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/pdvs/1  
2021-01-25 21:05:04.091 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.PdvsController.GetPdv (FortalezaServer)'
2021-01-25 21:05:04.094 -03:00 [INF] Route matched with {action = "GetPdv", controller = "Pdvs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FortalezaServer.Models.Pdv]] GetPdv(Int32) on controller FortalezaServer.Controllers.PdvsController (FortalezaServer).
2021-01-25 21:05:04.098 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-01-25 21:05:04.106 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`idpdv`, `p`.`nome`
FROM `pdv` AS `p`
WHERE `p`.`idpdv` = @__p_0
LIMIT 1
2021-01-25 21:05:04.124 -03:00 [INF] Executing ObjectResult, writing value of type 'FortalezaServer.Models.Pdv'.
2021-01-25 21:05:04.139 -03:00 [INF] Executed action FortalezaServer.Controllers.PdvsController.GetPdv (FortalezaServer) in 41.7682ms
2021-01-25 21:05:04.141 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.PdvsController.GetPdv (FortalezaServer)'
2021-01-25 21:05:04.142 -03:00 [INF] Request finished in 54.7281ms 200 application/json; charset=utf-8
2021-01-25 21:05:04.179 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/formapagamentos  
2021-01-25 21:05:04.181 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.FormaPagamentosController.GetFormaPagamento (FortalezaServer)'
2021-01-25 21:05:04.187 -03:00 [INF] Route matched with {action = "GetFormaPagamento", controller = "FormaPagamentos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[FortalezaServer.Models.FormaPagamento]]] GetFormaPagamento() on controller FortalezaServer.Controllers.FormaPagamentosController (FortalezaServer).
2021-01-25 21:05:04.195 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-01-25 21:05:04.201 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `f`.`idforma_pagamento`, `f`.`bandeira`, `f`.`debitar_cliente`, `f`.`debito`, `f`.`gerar_contas_receber`, `f`.`nome`, `f`.`ordem`
FROM `forma_pagamento` AS `f`
2021-01-25 21:05:04.213 -03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[FortalezaServer.Models.FormaPagamento, FortalezaServer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-01-25 21:05:04.218 -03:00 [INF] Executed action FortalezaServer.Controllers.FormaPagamentosController.GetFormaPagamento (FortalezaServer) in 24.3104ms
2021-01-25 21:05:04.220 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.FormaPagamentosController.GetFormaPagamento (FortalezaServer)'
2021-01-25 21:05:04.221 -03:00 [INF] Request finished in 42.013ms 200 application/json; charset=utf-8
2021-01-25 21:05:15.224 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/bandeiras  
2021-01-25 21:05:15.226 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.BandeirasController.GetBandeira (FortalezaServer)'
2021-01-25 21:05:15.238 -03:00 [INF] Route matched with {action = "GetBandeira", controller = "Bandeiras"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[FortalezaServer.Models.Bandeira]]] GetBandeira() on controller FortalezaServer.Controllers.BandeirasController (FortalezaServer).
2021-01-25 21:05:15.243 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-01-25 21:05:15.254 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `b`.`idbandeira`, `b`.`nome`, `b`.`ordem`, `b`.`prazo_credito`, `b`.`prazo_debito`, `b`.`taxa_credito`, `b`.`taxa_debito`
FROM `bandeira` AS `b`
2021-01-25 21:05:15.265 -03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[FortalezaServer.Models.Bandeira, FortalezaServer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-01-25 21:05:15.273 -03:00 [INF] Executed action FortalezaServer.Controllers.BandeirasController.GetBandeira (FortalezaServer) in 31.3864ms
2021-01-25 21:05:15.275 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.BandeirasController.GetBandeira (FortalezaServer)'
2021-01-25 21:05:15.279 -03:00 [INF] Request finished in 55.0307ms 200 application/json; charset=utf-8
2021-01-25 21:05:29.711 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8000/api/caixas application/json; charset=utf-8 170
2021-01-25 21:05:29.713 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.CaixasController.PostCaixa (FortalezaServer)'
2021-01-25 21:05:29.718 -03:00 [INF] Route matched with {action = "PostCaixa", controller = "Caixas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FortalezaServer.Models.Caixa]] PostCaixa(FortalezaServer.Models.Caixa) on controller FortalezaServer.Controllers.CaixasController (FortalezaServer).
2021-01-25 21:05:29.794 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-01-25 21:05:29.900 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = SByte), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `caixa` (`aberto`, `idnome_caixa`)
VALUES (@p0, @p1);
SELECT `idcaixa`
FROM `caixa`
WHERE ROW_COUNT() = 1
 AND `idcaixa`=LAST_INSERT_ID();
2021-01-25 21:05:29.939 -03:00 [INF] Executing ObjectResult, writing value of type 'FortalezaServer.Models.Caixa'.
2021-01-25 21:05:29.973 -03:00 [INF] Executed action FortalezaServer.Controllers.CaixasController.PostCaixa (FortalezaServer) in 250.8614ms
2021-01-25 21:05:29.975 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.CaixasController.PostCaixa (FortalezaServer)'
2021-01-25 21:05:29.976 -03:00 [INF] Request finished in 265.7162ms 201 application/json; charset=utf-8
2021-01-25 21:05:29.981 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8000/api/caixas/1/abrir?idusuario=1&idpdv=1  0
2021-01-25 21:05:29.983 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.CaixasController.AbrirCaixa (FortalezaServer)'
2021-01-25 21:05:29.993 -03:00 [INF] Route matched with {action = "AbrirCaixa", controller = "Caixas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AbrirCaixa(Int32, Int32, Int32) on controller FortalezaServer.Controllers.CaixasController (FortalezaServer).
2021-01-25 21:05:29.998 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-01-25 21:05:30.005 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`idcaixa`, `c`.`aberto`, `c`.`idnome_caixa`
FROM `caixa` AS `c`
WHERE `c`.`idcaixa` = @__p_0
LIMIT 1
2021-01-25 21:05:30.038 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `abertura` (`idcaixa`, `hora`, `idpdv`, `idusuario`)
VALUES (@p0, @p1, @p2, @p3);
2021-01-25 21:05:30.056 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = SByte), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE `caixa` SET `aberto` = @p0, `idnome_caixa` = @p1
WHERE `idcaixa` = @p2;
SELECT ROW_COUNT();
2021-01-25 21:05:30.065 -03:00 [INF] Executing HttpStatusCodeResult, setting HTTP status code 204
2021-01-25 21:05:30.066 -03:00 [INF] Executed action FortalezaServer.Controllers.CaixasController.AbrirCaixa (FortalezaServer) in 69.5789ms
2021-01-25 21:05:30.069 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.CaixasController.AbrirCaixa (FortalezaServer)'
2021-01-25 21:05:30.072 -03:00 [INF] Request finished in 90.8597ms 204 
2021-01-25 21:05:30.119 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8000/api/movimentos application/json; charset=utf-8 1001
2021-01-25 21:05:30.120 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.MovimentosController.PostMovimento (FortalezaServer)'
2021-01-25 21:05:30.124 -03:00 [INF] Route matched with {action = "PostMovimento", controller = "Movimentos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FortalezaServer.Models.Movimento]] PostMovimento(FortalezaServer.Models.Movimento) on controller FortalezaServer.Controllers.MovimentosController (FortalezaServer).
2021-01-25 21:05:30.150 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-01-25 21:05:30.176 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `movimento` (`descricao`, `hora_entrada`, `idbandeira`, `idcaixa`, `idforma_pagamento`, `idpdv`, `idusuario`, `tipo`, `valor`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT `idmovimento`
FROM `movimento`
WHERE ROW_COUNT() = 1
 AND `idmovimento`=LAST_INSERT_ID();
2021-01-25 21:05:30.188 -03:00 [INF] Executing ObjectResult, writing value of type 'FortalezaServer.Models.Movimento'.
2021-01-25 21:05:30.193 -03:00 [INF] Executed action FortalezaServer.Controllers.MovimentosController.PostMovimento (FortalezaServer) in 66.3272ms
2021-01-25 21:05:30.194 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.MovimentosController.PostMovimento (FortalezaServer)'
2021-01-25 21:05:30.197 -03:00 [INF] Request finished in 77.9029ms 201 application/json; charset=utf-8
2021-01-25 21:05:30.206 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/caixas/actions/aberto?movimentos=true&idnomeCaixa=1  
2021-01-25 21:05:30.208 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.CaixasController.GetCaixaAberto (FortalezaServer)'
2021-01-25 21:05:30.212 -03:00 [INF] Route matched with {action = "GetCaixaAberto", controller = "Caixas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FortalezaServer.Models.Caixa]] GetCaixaAberto(Int32, Boolean) on controller FortalezaServer.Controllers.CaixasController (FortalezaServer).
2021-01-25 21:05:30.219 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-01-25 21:05:30.231 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__idnomeCaixa_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`idcaixa`, `c`.`aberto`, `c`.`idnome_caixa`, `n`.`idnome_caixa`, `n`.`nome`, `a`.`idcaixa`, `a`.`hora`, `a`.`idpdv`, `a`.`idusuario`, `p`.`idpdv`, `p`.`nome`, `u`.`idusuario`, `u`.`cpf`, `u`.`idendereco`, `u`.`login`, `u`.`nome`, `u`.`senha`, `u`.`telefone1`, `u`.`telefone2`
FROM `caixa` AS `c`
INNER JOIN `nome_caixa` AS `n` ON `c`.`idnome_caixa` = `n`.`idnome_caixa`
LEFT JOIN `abertura` AS `a` ON `c`.`idcaixa` = `a`.`idcaixa`
LEFT JOIN `pdv` AS `p` ON `a`.`idpdv` = `p`.`idpdv`
LEFT JOIN `usuario` AS `u` ON `a`.`idusuario` = `u`.`idusuario`
WHERE (`c`.`aberto` = 1) AND (`c`.`idnome_caixa` = @__idnomeCaixa_0)
LIMIT 1
2021-01-25 21:05:30.279 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `m`.`idmovimento`, `m`.`descricao`, `m`.`hora_entrada`, `m`.`idbandeira`, `m`.`idcaixa`, `m`.`idforma_pagamento`, `m`.`idpdv`, `m`.`idusuario`, `m`.`tipo`, `m`.`valor`, `f`.`idforma_pagamento`, `f`.`bandeira`, `f`.`debitar_cliente`, `f`.`debito`, `f`.`gerar_contas_receber`, `f`.`nome`, `f`.`ordem`
FROM `movimento` AS `m`
LEFT JOIN `forma_pagamento` AS `f` ON `m`.`idforma_pagamento` = `f`.`idforma_pagamento`
WHERE `m`.`idcaixa` = @__p_0
2021-01-25 21:05:30.286 -03:00 [INF] Executing ObjectResult, writing value of type 'FortalezaServer.Models.Caixa'.
2021-01-25 21:05:30.292 -03:00 [INF] Executed action FortalezaServer.Controllers.CaixasController.GetCaixaAberto (FortalezaServer) in 73.7291ms
2021-01-25 21:05:30.294 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.CaixasController.GetCaixaAberto (FortalezaServer)'
2021-01-25 21:05:30.295 -03:00 [INF] Request finished in 89.0879ms 200 application/json; charset=utf-8
2021-01-25 21:05:30.307 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/caixas?filtroData=true&dataInicial=2021-01-18&dataFinal=2021-01-25  
2021-01-25 21:05:30.308 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.CaixasController.GetCaixa (FortalezaServer)'
2021-01-25 21:05:30.309 -03:00 [INF] Route matched with {action = "GetCaixa", controller = "Caixas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[FortalezaServer.Models.Caixa]]] GetCaixa(Boolean, System.String, System.String) on controller FortalezaServer.Controllers.CaixasController (FortalezaServer).
2021-01-25 21:05:30.313 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-01-25 21:05:30.316 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@___dataInicial_0='?' (DbType = DateTime), @___dataFinal_1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`idcaixa`, `c`.`aberto`, `c`.`idnome_caixa`, `n`.`idnome_caixa`, `n`.`nome`, `a`.`idcaixa`, `a`.`hora`, `a`.`idpdv`, `a`.`idusuario`, `p`.`idpdv`, `p`.`nome`, `u`.`idusuario`, `u`.`cpf`, `u`.`idendereco`, `u`.`login`, `u`.`nome`, `u`.`senha`, `u`.`telefone1`, `u`.`telefone2`, `f`.`idcaixa`, `f`.`hora`, `f`.`idpdv`, `f`.`idusuario`, `p0`.`idpdv`, `p0`.`nome`, `u0`.`idusuario`, `u0`.`cpf`, `u0`.`idendereco`, `u0`.`login`, `u0`.`nome`, `u0`.`senha`, `u0`.`telefone1`, `u0`.`telefone2`
FROM `caixa` AS `c`
LEFT JOIN `abertura` AS `a` ON `c`.`idcaixa` = `a`.`idcaixa`
INNER JOIN `nome_caixa` AS `n` ON `c`.`idnome_caixa` = `n`.`idnome_caixa`
LEFT JOIN `pdv` AS `p` ON `a`.`idpdv` = `p`.`idpdv`
LEFT JOIN `usuario` AS `u` ON `a`.`idusuario` = `u`.`idusuario`
LEFT JOIN `fechamento` AS `f` ON `c`.`idcaixa` = `f`.`idcaixa`
LEFT JOIN `pdv` AS `p0` ON `f`.`idpdv` = `p0`.`idpdv`
LEFT JOIN `usuario` AS `u0` ON `f`.`idusuario` = `u0`.`idusuario`
WHERE (`a`.`hora` > @___dataInicial_0) & (`a`.`hora` < @___dataFinal_1)
2021-01-25 21:05:30.338 -03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[FortalezaServer.Models.Caixa, FortalezaServer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-01-25 21:05:30.340 -03:00 [INF] Executed action FortalezaServer.Controllers.CaixasController.GetCaixa (FortalezaServer) in 27.8891ms
2021-01-25 21:05:30.342 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.CaixasController.GetCaixa (FortalezaServer)'
2021-01-25 21:05:30.344 -03:00 [INF] Request finished in 36.6395ms 200 application/json; charset=utf-8
2021-01-25 21:05:44.279 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/caixas/actions/aberto?idnomeCaixa=1  
2021-01-25 21:05:44.281 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.CaixasController.GetCaixaAberto (FortalezaServer)'
2021-01-25 21:05:44.284 -03:00 [INF] Route matched with {action = "GetCaixaAberto", controller = "Caixas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FortalezaServer.Models.Caixa]] GetCaixaAberto(Int32, Boolean) on controller FortalezaServer.Controllers.CaixasController (FortalezaServer).
2021-01-25 21:05:44.295 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-01-25 21:05:44.305 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__idnomeCaixa_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`idcaixa`, `c`.`aberto`, `c`.`idnome_caixa`, `n`.`idnome_caixa`, `n`.`nome`, `a`.`idcaixa`, `a`.`hora`, `a`.`idpdv`, `a`.`idusuario`, `p`.`idpdv`, `p`.`nome`, `u`.`idusuario`, `u`.`cpf`, `u`.`idendereco`, `u`.`login`, `u`.`nome`, `u`.`senha`, `u`.`telefone1`, `u`.`telefone2`
FROM `caixa` AS `c`
INNER JOIN `nome_caixa` AS `n` ON `c`.`idnome_caixa` = `n`.`idnome_caixa`
LEFT JOIN `abertura` AS `a` ON `c`.`idcaixa` = `a`.`idcaixa`
LEFT JOIN `pdv` AS `p` ON `a`.`idpdv` = `p`.`idpdv`
LEFT JOIN `usuario` AS `u` ON `a`.`idusuario` = `u`.`idusuario`
WHERE (`c`.`aberto` = 1) AND (`c`.`idnome_caixa` = @__idnomeCaixa_0)
LIMIT 1
2021-01-25 21:05:44.316 -03:00 [INF] Executing ObjectResult, writing value of type 'FortalezaServer.Models.Caixa'.
2021-01-25 21:05:44.320 -03:00 [INF] Executed action FortalezaServer.Controllers.CaixasController.GetCaixaAberto (FortalezaServer) in 28.1289ms
2021-01-25 21:05:44.324 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.CaixasController.GetCaixaAberto (FortalezaServer)'
2021-01-25 21:05:44.325 -03:00 [INF] Request finished in 45.9379ms 200 application/json; charset=utf-8
2021-01-25 21:05:44.354 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8000/api/vendas application/json; charset=utf-8 504
2021-01-25 21:05:44.355 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.VendasController.PostVenda (FortalezaServer)'
2021-01-25 21:05:44.362 -03:00 [INF] Route matched with {action = "PostVenda", controller = "Vendas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FortalezaServer.Models.Venda]] PostVenda(FortalezaServer.Models.Venda) on controller FortalezaServer.Controllers.VendasController (FortalezaServer).
2021-01-25 21:05:44.382 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-01-25 21:05:44.400 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `v`.`numero_venda`
FROM `venda` AS `v`
ORDER BY `v`.`idvenda` DESC
LIMIT 1
2021-01-25 21:05:44.435 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = SByte), @p1='?' (DbType = Decimal), @p2='?' (DbType = Decimal), @p3='?' (Size = 255), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = SByte), @p12='?' (DbType = Int32), @p13='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `venda` (`aberta`, `acrescimo`, `desconto`, `descricao`, `hora_entrada`, `hora_fechamento`, `idcaixa`, `idcliente`, `idpdv`, `idresponsavel`, `numero_venda`, `paga`, `tipo`, `valor_pago`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
SELECT `idvenda`
FROM `venda`
WHERE ROW_COUNT() = 1
 AND `idvenda`=LAST_INSERT_ID();
2021-01-25 21:05:44.446 -03:00 [INF] Executing ObjectResult, writing value of type 'FortalezaServer.Models.Venda'.
2021-01-25 21:05:44.453 -03:00 [INF] Executed action FortalezaServer.Controllers.VendasController.PostVenda (FortalezaServer) in 88.2695ms
2021-01-25 21:05:44.456 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.VendasController.PostVenda (FortalezaServer)'
2021-01-25 21:05:44.457 -03:00 [INF] Request finished in 103.8922ms 201 application/json; charset=utf-8
2021-01-25 21:05:44.476 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8000/api/vendas/1/itemvendas application/json; charset=utf-8 337
2021-01-25 21:05:44.478 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.VendasController.PostItemvenda (FortalezaServer)'
2021-01-25 21:05:44.483 -03:00 [INF] Route matched with {action = "PostItemvenda", controller = "Vendas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FortalezaServer.Models.Venda]] PostItemvenda(Int32, FortalezaServer.Models.ItemVenda) on controller FortalezaServer.Controllers.VendasController (FortalezaServer).
2021-01-25 21:05:44.498 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-01-25 21:05:44.509 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `v`.`idvenda`, `v`.`aberta`, `v`.`acrescimo`, `v`.`desconto`, `v`.`descricao`, `v`.`hora_entrada`, `v`.`hora_fechamento`, `v`.`idcaixa`, `v`.`idcliente`, `v`.`idpdv`, `v`.`idresponsavel`, `v`.`numero_venda`, `v`.`paga`, `v`.`tipo`, `v`.`valor_pago`
FROM `venda` AS `v`
WHERE `v`.`idvenda` = @__p_0
LIMIT 1
2021-01-25 21:05:44.525 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`iditem`, `i`.`atacado`, `i`.`codigo_barras`, `i`.`descricao`, `i`.`disponivel`, `i`.`estoque`, `i`.`estoque_minimo`, `i`.`imagem`, `i`.`permite_combo`, `i`.`quantidade_atacado`, `i`.`tipo`, `i`.`unidade`, `i`.`unidade_inteira`, `i`.`valor`, `i`.`valor_atacado`, `i`.`visivel`
FROM `item` AS `i`
WHERE `i`.`iditem` = @__p_0
LIMIT 1
2021-01-25 21:05:44.540 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`iditem_venda`, `i`.`cancelado`, `i`.`custo`, `i`.`iditem`, `i`.`idvenda`, `i`.`indice`, `i`.`quantidade`, `i`.`valor`
FROM `item_venda` AS `i`
WHERE `i`.`idvenda` = @__p_0
2021-01-25 21:05:44.573 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Decimal), @p1='?' (DbType = AnsiString), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Decimal), @p6='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `item_venda` (`cancelado`, `custo`, `iditem`, `idvenda`, `indice`, `quantidade`, `valor`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `iditem_venda`
FROM `item_venda`
WHERE ROW_COUNT() = 1
 AND `iditem_venda`=LAST_INSERT_ID();
2021-01-25 21:05:44.589 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p14='?' (DbType = Int32), @p0='?' (DbType = SByte), @p1='?' (DbType = Decimal), @p2='?' (DbType = Decimal), @p3='?' (Size = 255), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = SByte), @p12='?' (DbType = Int32), @p13='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
UPDATE `venda` SET `aberta` = @p0, `acrescimo` = @p1, `desconto` = @p2, `descricao` = @p3, `hora_entrada` = @p4, `hora_fechamento` = @p5, `idcaixa` = @p6, `idcliente` = @p7, `idpdv` = @p8, `idresponsavel` = @p9, `numero_venda` = @p10, `paga` = @p11, `tipo` = @p12, `valor_pago` = @p13
WHERE `idvenda` = @p14;
SELECT ROW_COUNT();
2021-01-25 21:05:44.596 -03:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType2`2[[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-01-25 21:05:44.602 -03:00 [INF] Executed action FortalezaServer.Controllers.VendasController.PostItemvenda (FortalezaServer) in 115.2553ms
2021-01-25 21:05:44.604 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.VendasController.PostItemvenda (FortalezaServer)'
2021-01-25 21:05:44.606 -03:00 [INF] Request finished in 129.721ms 201 application/json; charset=utf-8
2021-01-25 21:05:44.608 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/vendas/1?itemvendas=true  
2021-01-25 21:05:44.609 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer)'
2021-01-25 21:05:44.613 -03:00 [INF] Route matched with {action = "GetVenda", controller = "Vendas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FortalezaServer.Models.Venda]] GetVenda(Int32, Boolean, Boolean, Boolean) on controller FortalezaServer.Controllers.VendasController (FortalezaServer).
2021-01-25 21:05:44.618 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-01-25 21:05:44.622 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `v`.`idvenda`, `v`.`aberta`, `v`.`acrescimo`, `v`.`desconto`, `v`.`descricao`, `v`.`hora_entrada`, `v`.`hora_fechamento`, `v`.`idcaixa`, `v`.`idcliente`, `v`.`idpdv`, `v`.`idresponsavel`, `v`.`numero_venda`, `v`.`paga`, `v`.`tipo`, `v`.`valor_pago`
FROM `venda` AS `v`
WHERE `v`.`idvenda` = @__p_0
LIMIT 1
2021-01-25 21:05:44.632 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`iditem_venda`, `i`.`cancelado`, `i`.`custo`, `i`.`iditem`, `i`.`idvenda`, `i`.`indice`, `i`.`quantidade`, `i`.`valor`, `i0`.`iditem`, `i0`.`atacado`, `i0`.`codigo_barras`, `i0`.`descricao`, `i0`.`disponivel`, `i0`.`estoque`, `i0`.`estoque_minimo`, `i0`.`imagem`, `i0`.`permite_combo`, `i0`.`quantidade_atacado`, `i0`.`tipo`, `i0`.`unidade`, `i0`.`unidade_inteira`, `i0`.`valor`, `i0`.`valor_atacado`, `i0`.`visivel`
FROM `item_venda` AS `i`
INNER JOIN `item` AS `i0` ON `i`.`iditem` = `i0`.`iditem`
WHERE `i`.`idvenda` = @__p_0
2021-01-25 21:05:44.637 -03:00 [INF] Executing ObjectResult, writing value of type 'FortalezaServer.Models.Venda'.
2021-01-25 21:05:44.642 -03:00 [INF] Executed action FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer) in 26.457ms
2021-01-25 21:05:44.643 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer)'
2021-01-25 21:05:44.645 -03:00 [INF] Request finished in 37.1599ms 200 application/json; charset=utf-8
2021-01-25 21:05:44.651 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/vendas/1?itemvendas=true  
2021-01-25 21:05:44.652 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer)'
2021-01-25 21:05:44.654 -03:00 [INF] Route matched with {action = "GetVenda", controller = "Vendas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FortalezaServer.Models.Venda]] GetVenda(Int32, Boolean, Boolean, Boolean) on controller FortalezaServer.Controllers.VendasController (FortalezaServer).
2021-01-25 21:05:44.658 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-01-25 21:05:44.662 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `v`.`idvenda`, `v`.`aberta`, `v`.`acrescimo`, `v`.`desconto`, `v`.`descricao`, `v`.`hora_entrada`, `v`.`hora_fechamento`, `v`.`idcaixa`, `v`.`idcliente`, `v`.`idpdv`, `v`.`idresponsavel`, `v`.`numero_venda`, `v`.`paga`, `v`.`tipo`, `v`.`valor_pago`
FROM `venda` AS `v`
WHERE `v`.`idvenda` = @__p_0
LIMIT 1
2021-01-25 21:05:44.667 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`iditem_venda`, `i`.`cancelado`, `i`.`custo`, `i`.`iditem`, `i`.`idvenda`, `i`.`indice`, `i`.`quantidade`, `i`.`valor`, `i0`.`iditem`, `i0`.`atacado`, `i0`.`codigo_barras`, `i0`.`descricao`, `i0`.`disponivel`, `i0`.`estoque`, `i0`.`estoque_minimo`, `i0`.`imagem`, `i0`.`permite_combo`, `i0`.`quantidade_atacado`, `i0`.`tipo`, `i0`.`unidade`, `i0`.`unidade_inteira`, `i0`.`valor`, `i0`.`valor_atacado`, `i0`.`visivel`
FROM `item_venda` AS `i`
INNER JOIN `item` AS `i0` ON `i`.`iditem` = `i0`.`iditem`
WHERE `i`.`idvenda` = @__p_0
2021-01-25 21:05:44.673 -03:00 [INF] Executing ObjectResult, writing value of type 'FortalezaServer.Models.Venda'.
2021-01-25 21:05:44.674 -03:00 [INF] Executed action FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer) in 16.476ms
2021-01-25 21:05:44.676 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer)'
2021-01-25 21:05:44.677 -03:00 [INF] Request finished in 26.1047ms 200 application/json; charset=utf-8
2021-01-25 21:05:44.743 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8000/api/vendas/1/itemvendas application/json; charset=utf-8 337
2021-01-25 21:05:44.745 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.VendasController.PostItemvenda (FortalezaServer)'
2021-01-25 21:05:44.747 -03:00 [INF] Route matched with {action = "PostItemvenda", controller = "Vendas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FortalezaServer.Models.Venda]] PostItemvenda(Int32, FortalezaServer.Models.ItemVenda) on controller FortalezaServer.Controllers.VendasController (FortalezaServer).
2021-01-25 21:05:44.751 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-01-25 21:05:44.756 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `v`.`idvenda`, `v`.`aberta`, `v`.`acrescimo`, `v`.`desconto`, `v`.`descricao`, `v`.`hora_entrada`, `v`.`hora_fechamento`, `v`.`idcaixa`, `v`.`idcliente`, `v`.`idpdv`, `v`.`idresponsavel`, `v`.`numero_venda`, `v`.`paga`, `v`.`tipo`, `v`.`valor_pago`
FROM `venda` AS `v`
WHERE `v`.`idvenda` = @__p_0
LIMIT 1
2021-01-25 21:05:44.764 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`iditem`, `i`.`atacado`, `i`.`codigo_barras`, `i`.`descricao`, `i`.`disponivel`, `i`.`estoque`, `i`.`estoque_minimo`, `i`.`imagem`, `i`.`permite_combo`, `i`.`quantidade_atacado`, `i`.`tipo`, `i`.`unidade`, `i`.`unidade_inteira`, `i`.`valor`, `i`.`valor_atacado`, `i`.`visivel`
FROM `item` AS `i`
WHERE `i`.`iditem` = @__p_0
LIMIT 1
2021-01-25 21:05:44.770 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`iditem_venda`, `i`.`cancelado`, `i`.`custo`, `i`.`iditem`, `i`.`idvenda`, `i`.`indice`, `i`.`quantidade`, `i`.`valor`
FROM `item_venda` AS `i`
WHERE `i`.`idvenda` = @__p_0
2021-01-25 21:05:44.778 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Decimal), @p1='?' (DbType = AnsiString), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Decimal), @p6='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `item_venda` (`cancelado`, `custo`, `iditem`, `idvenda`, `indice`, `quantidade`, `valor`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `iditem_venda`
FROM `item_venda`
WHERE ROW_COUNT() = 1
 AND `iditem_venda`=LAST_INSERT_ID();
2021-01-25 21:05:44.788 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p14='?' (DbType = Int32), @p0='?' (DbType = SByte), @p1='?' (DbType = Decimal), @p2='?' (DbType = Decimal), @p3='?' (Size = 255), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = SByte), @p12='?' (DbType = Int32), @p13='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
UPDATE `venda` SET `aberta` = @p0, `acrescimo` = @p1, `desconto` = @p2, `descricao` = @p3, `hora_entrada` = @p4, `hora_fechamento` = @p5, `idcaixa` = @p6, `idcliente` = @p7, `idpdv` = @p8, `idresponsavel` = @p9, `numero_venda` = @p10, `paga` = @p11, `tipo` = @p12, `valor_pago` = @p13
WHERE `idvenda` = @p14;
SELECT ROW_COUNT();
2021-01-25 21:05:44.796 -03:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType2`2[[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-01-25 21:05:44.798 -03:00 [INF] Executed action FortalezaServer.Controllers.VendasController.PostItemvenda (FortalezaServer) in 47.4873ms
2021-01-25 21:05:44.799 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.VendasController.PostItemvenda (FortalezaServer)'
2021-01-25 21:05:44.800 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/vendas/1?itemvendas=true  
2021-01-25 21:05:44.801 -03:00 [INF] Request finished in 58.7342ms 201 application/json; charset=utf-8
2021-01-25 21:05:44.805 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer)'
2021-01-25 21:05:44.809 -03:00 [INF] Route matched with {action = "GetVenda", controller = "Vendas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FortalezaServer.Models.Venda]] GetVenda(Int32, Boolean, Boolean, Boolean) on controller FortalezaServer.Controllers.VendasController (FortalezaServer).
2021-01-25 21:05:44.813 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-01-25 21:05:44.817 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `v`.`idvenda`, `v`.`aberta`, `v`.`acrescimo`, `v`.`desconto`, `v`.`descricao`, `v`.`hora_entrada`, `v`.`hora_fechamento`, `v`.`idcaixa`, `v`.`idcliente`, `v`.`idpdv`, `v`.`idresponsavel`, `v`.`numero_venda`, `v`.`paga`, `v`.`tipo`, `v`.`valor_pago`
FROM `venda` AS `v`
WHERE `v`.`idvenda` = @__p_0
LIMIT 1
2021-01-25 21:05:44.826 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`iditem_venda`, `i`.`cancelado`, `i`.`custo`, `i`.`iditem`, `i`.`idvenda`, `i`.`indice`, `i`.`quantidade`, `i`.`valor`, `i0`.`iditem`, `i0`.`atacado`, `i0`.`codigo_barras`, `i0`.`descricao`, `i0`.`disponivel`, `i0`.`estoque`, `i0`.`estoque_minimo`, `i0`.`imagem`, `i0`.`permite_combo`, `i0`.`quantidade_atacado`, `i0`.`tipo`, `i0`.`unidade`, `i0`.`unidade_inteira`, `i0`.`valor`, `i0`.`valor_atacado`, `i0`.`visivel`
FROM `item_venda` AS `i`
INNER JOIN `item` AS `i0` ON `i`.`iditem` = `i0`.`iditem`
WHERE `i`.`idvenda` = @__p_0
2021-01-25 21:05:44.830 -03:00 [INF] Executing ObjectResult, writing value of type 'FortalezaServer.Models.Venda'.
2021-01-25 21:05:44.831 -03:00 [INF] Executed action FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer) in 18.791ms
2021-01-25 21:05:44.834 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/vendas/1?itemvendas=true  
2021-01-25 21:05:44.835 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer)'
2021-01-25 21:05:44.837 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer)'
2021-01-25 21:05:44.839 -03:00 [INF] Request finished in 39.0806ms 200 application/json; charset=utf-8
2021-01-25 21:05:44.841 -03:00 [INF] Route matched with {action = "GetVenda", controller = "Vendas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FortalezaServer.Models.Venda]] GetVenda(Int32, Boolean, Boolean, Boolean) on controller FortalezaServer.Controllers.VendasController (FortalezaServer).
2021-01-25 21:05:44.847 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-01-25 21:05:44.850 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `v`.`idvenda`, `v`.`aberta`, `v`.`acrescimo`, `v`.`desconto`, `v`.`descricao`, `v`.`hora_entrada`, `v`.`hora_fechamento`, `v`.`idcaixa`, `v`.`idcliente`, `v`.`idpdv`, `v`.`idresponsavel`, `v`.`numero_venda`, `v`.`paga`, `v`.`tipo`, `v`.`valor_pago`
FROM `venda` AS `v`
WHERE `v`.`idvenda` = @__p_0
LIMIT 1
2021-01-25 21:05:44.860 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`iditem_venda`, `i`.`cancelado`, `i`.`custo`, `i`.`iditem`, `i`.`idvenda`, `i`.`indice`, `i`.`quantidade`, `i`.`valor`, `i0`.`iditem`, `i0`.`atacado`, `i0`.`codigo_barras`, `i0`.`descricao`, `i0`.`disponivel`, `i0`.`estoque`, `i0`.`estoque_minimo`, `i0`.`imagem`, `i0`.`permite_combo`, `i0`.`quantidade_atacado`, `i0`.`tipo`, `i0`.`unidade`, `i0`.`unidade_inteira`, `i0`.`valor`, `i0`.`valor_atacado`, `i0`.`visivel`
FROM `item_venda` AS `i`
INNER JOIN `item` AS `i0` ON `i`.`iditem` = `i0`.`iditem`
WHERE `i`.`idvenda` = @__p_0
2021-01-25 21:05:44.866 -03:00 [INF] Executing ObjectResult, writing value of type 'FortalezaServer.Models.Venda'.
2021-01-25 21:05:44.868 -03:00 [INF] Executed action FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer) in 21.3874ms
2021-01-25 21:05:44.871 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer)'
2021-01-25 21:05:44.873 -03:00 [INF] Request finished in 38.5866ms 200 application/json; charset=utf-8
2021-01-25 21:05:45.211 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8000/api/vendas/1/itemvendas application/json; charset=utf-8 337
2021-01-25 21:05:45.222 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.VendasController.PostItemvenda (FortalezaServer)'
2021-01-25 21:05:45.226 -03:00 [INF] Route matched with {action = "PostItemvenda", controller = "Vendas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FortalezaServer.Models.Venda]] PostItemvenda(Int32, FortalezaServer.Models.ItemVenda) on controller FortalezaServer.Controllers.VendasController (FortalezaServer).
2021-01-25 21:05:45.231 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-01-25 21:05:45.236 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `v`.`idvenda`, `v`.`aberta`, `v`.`acrescimo`, `v`.`desconto`, `v`.`descricao`, `v`.`hora_entrada`, `v`.`hora_fechamento`, `v`.`idcaixa`, `v`.`idcliente`, `v`.`idpdv`, `v`.`idresponsavel`, `v`.`numero_venda`, `v`.`paga`, `v`.`tipo`, `v`.`valor_pago`
FROM `venda` AS `v`
WHERE `v`.`idvenda` = @__p_0
LIMIT 1
2021-01-25 21:05:45.243 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`iditem`, `i`.`atacado`, `i`.`codigo_barras`, `i`.`descricao`, `i`.`disponivel`, `i`.`estoque`, `i`.`estoque_minimo`, `i`.`imagem`, `i`.`permite_combo`, `i`.`quantidade_atacado`, `i`.`tipo`, `i`.`unidade`, `i`.`unidade_inteira`, `i`.`valor`, `i`.`valor_atacado`, `i`.`visivel`
FROM `item` AS `i`
WHERE `i`.`iditem` = @__p_0
LIMIT 1
2021-01-25 21:05:45.250 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`iditem_venda`, `i`.`cancelado`, `i`.`custo`, `i`.`iditem`, `i`.`idvenda`, `i`.`indice`, `i`.`quantidade`, `i`.`valor`
FROM `item_venda` AS `i`
WHERE `i`.`idvenda` = @__p_0
2021-01-25 21:05:45.258 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Decimal), @p1='?' (DbType = AnsiString), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Decimal), @p6='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `item_venda` (`cancelado`, `custo`, `iditem`, `idvenda`, `indice`, `quantidade`, `valor`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `iditem_venda`
FROM `item_venda`
WHERE ROW_COUNT() = 1
 AND `iditem_venda`=LAST_INSERT_ID();
2021-01-25 21:05:45.268 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p14='?' (DbType = Int32), @p0='?' (DbType = SByte), @p1='?' (DbType = Decimal), @p2='?' (DbType = Decimal), @p3='?' (Size = 255), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = SByte), @p12='?' (DbType = Int32), @p13='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
UPDATE `venda` SET `aberta` = @p0, `acrescimo` = @p1, `desconto` = @p2, `descricao` = @p3, `hora_entrada` = @p4, `hora_fechamento` = @p5, `idcaixa` = @p6, `idcliente` = @p7, `idpdv` = @p8, `idresponsavel` = @p9, `numero_venda` = @p10, `paga` = @p11, `tipo` = @p12, `valor_pago` = @p13
WHERE `idvenda` = @p14;
SELECT ROW_COUNT();
2021-01-25 21:05:45.280 -03:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType2`2[[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-01-25 21:05:45.287 -03:00 [INF] Executed action FortalezaServer.Controllers.VendasController.PostItemvenda (FortalezaServer) in 58.1905ms
2021-01-25 21:05:45.291 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.VendasController.PostItemvenda (FortalezaServer)'
2021-01-25 21:05:45.294 -03:00 [INF] Request finished in 82.6444ms 201 application/json; charset=utf-8
2021-01-25 21:05:45.300 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/vendas/1?itemvendas=true  
2021-01-25 21:05:45.303 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer)'
2021-01-25 21:05:45.307 -03:00 [INF] Route matched with {action = "GetVenda", controller = "Vendas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FortalezaServer.Models.Venda]] GetVenda(Int32, Boolean, Boolean, Boolean) on controller FortalezaServer.Controllers.VendasController (FortalezaServer).
2021-01-25 21:05:45.313 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-01-25 21:05:45.318 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `v`.`idvenda`, `v`.`aberta`, `v`.`acrescimo`, `v`.`desconto`, `v`.`descricao`, `v`.`hora_entrada`, `v`.`hora_fechamento`, `v`.`idcaixa`, `v`.`idcliente`, `v`.`idpdv`, `v`.`idresponsavel`, `v`.`numero_venda`, `v`.`paga`, `v`.`tipo`, `v`.`valor_pago`
FROM `venda` AS `v`
WHERE `v`.`idvenda` = @__p_0
LIMIT 1
2021-01-25 21:05:45.329 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`iditem_venda`, `i`.`cancelado`, `i`.`custo`, `i`.`iditem`, `i`.`idvenda`, `i`.`indice`, `i`.`quantidade`, `i`.`valor`, `i0`.`iditem`, `i0`.`atacado`, `i0`.`codigo_barras`, `i0`.`descricao`, `i0`.`disponivel`, `i0`.`estoque`, `i0`.`estoque_minimo`, `i0`.`imagem`, `i0`.`permite_combo`, `i0`.`quantidade_atacado`, `i0`.`tipo`, `i0`.`unidade`, `i0`.`unidade_inteira`, `i0`.`valor`, `i0`.`valor_atacado`, `i0`.`visivel`
FROM `item_venda` AS `i`
INNER JOIN `item` AS `i0` ON `i`.`iditem` = `i0`.`iditem`
WHERE `i`.`idvenda` = @__p_0
2021-01-25 21:05:45.336 -03:00 [INF] Executing ObjectResult, writing value of type 'FortalezaServer.Models.Venda'.
2021-01-25 21:05:45.341 -03:00 [INF] Executed action FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer) in 28.1309ms
2021-01-25 21:05:45.344 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer)'
2021-01-25 21:05:45.345 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/vendas/1?itemvendas=true  
2021-01-25 21:05:45.347 -03:00 [INF] Request finished in 46.6799ms 200 application/json; charset=utf-8
2021-01-25 21:05:45.348 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer)'
2021-01-25 21:05:45.351 -03:00 [INF] Route matched with {action = "GetVenda", controller = "Vendas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FortalezaServer.Models.Venda]] GetVenda(Int32, Boolean, Boolean, Boolean) on controller FortalezaServer.Controllers.VendasController (FortalezaServer).
2021-01-25 21:05:45.357 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-01-25 21:05:45.360 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `v`.`idvenda`, `v`.`aberta`, `v`.`acrescimo`, `v`.`desconto`, `v`.`descricao`, `v`.`hora_entrada`, `v`.`hora_fechamento`, `v`.`idcaixa`, `v`.`idcliente`, `v`.`idpdv`, `v`.`idresponsavel`, `v`.`numero_venda`, `v`.`paga`, `v`.`tipo`, `v`.`valor_pago`
FROM `venda` AS `v`
WHERE `v`.`idvenda` = @__p_0
LIMIT 1
2021-01-25 21:05:45.365 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`iditem_venda`, `i`.`cancelado`, `i`.`custo`, `i`.`iditem`, `i`.`idvenda`, `i`.`indice`, `i`.`quantidade`, `i`.`valor`, `i0`.`iditem`, `i0`.`atacado`, `i0`.`codigo_barras`, `i0`.`descricao`, `i0`.`disponivel`, `i0`.`estoque`, `i0`.`estoque_minimo`, `i0`.`imagem`, `i0`.`permite_combo`, `i0`.`quantidade_atacado`, `i0`.`tipo`, `i0`.`unidade`, `i0`.`unidade_inteira`, `i0`.`valor`, `i0`.`valor_atacado`, `i0`.`visivel`
FROM `item_venda` AS `i`
INNER JOIN `item` AS `i0` ON `i`.`iditem` = `i0`.`iditem`
WHERE `i`.`idvenda` = @__p_0
2021-01-25 21:05:45.373 -03:00 [INF] Executing ObjectResult, writing value of type 'FortalezaServer.Models.Venda'.
2021-01-25 21:05:45.375 -03:00 [INF] Executed action FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer) in 18.2226ms
2021-01-25 21:05:45.377 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer)'
2021-01-25 21:05:45.379 -03:00 [INF] Request finished in 33.3998ms 200 application/json; charset=utf-8
2021-01-25 21:05:46.325 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/vendas/1?pagamentos=true  
2021-01-25 21:05:46.327 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer)'
2021-01-25 21:05:46.328 -03:00 [INF] Route matched with {action = "GetVenda", controller = "Vendas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FortalezaServer.Models.Venda]] GetVenda(Int32, Boolean, Boolean, Boolean) on controller FortalezaServer.Controllers.VendasController (FortalezaServer).
2021-01-25 21:05:46.332 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-01-25 21:05:46.339 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `v`.`idvenda`, `v`.`aberta`, `v`.`acrescimo`, `v`.`desconto`, `v`.`descricao`, `v`.`hora_entrada`, `v`.`hora_fechamento`, `v`.`idcaixa`, `v`.`idcliente`, `v`.`idpdv`, `v`.`idresponsavel`, `v`.`numero_venda`, `v`.`paga`, `v`.`tipo`, `v`.`valor_pago`
FROM `venda` AS `v`
WHERE `v`.`idvenda` = @__p_0
LIMIT 1
2021-01-25 21:05:46.346 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`iditem_venda`, `i`.`cancelado`, `i`.`custo`, `i`.`iditem`, `i`.`idvenda`, `i`.`indice`, `i`.`quantidade`, `i`.`valor`
FROM `item_venda` AS `i`
WHERE `i`.`idvenda` = @__p_0
2021-01-25 21:05:46.365 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`idvenda`, `p`.`idmovimento`, `m`.`idmovimento`, `m`.`descricao`, `m`.`hora_entrada`, `m`.`idbandeira`, `m`.`idcaixa`, `m`.`idforma_pagamento`, `m`.`idpdv`, `m`.`idusuario`, `m`.`tipo`, `m`.`valor`, `f`.`idforma_pagamento`, `f`.`bandeira`, `f`.`debitar_cliente`, `f`.`debito`, `f`.`gerar_contas_receber`, `f`.`nome`, `f`.`ordem`
FROM `pagamento` AS `p`
INNER JOIN `movimento` AS `m` ON `p`.`idmovimento` = `m`.`idmovimento`
LEFT JOIN `forma_pagamento` AS `f` ON `m`.`idforma_pagamento` = `f`.`idforma_pagamento`
WHERE `p`.`idvenda` = @__p_0
2021-01-25 21:05:46.372 -03:00 [INF] Executing ObjectResult, writing value of type 'FortalezaServer.Models.Venda'.
2021-01-25 21:05:46.373 -03:00 [INF] Executed action FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer) in 42.2787ms
2021-01-25 21:05:46.376 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer)'
2021-01-25 21:05:46.377 -03:00 [INF] Request finished in 52.5319ms 200 application/json; charset=utf-8
2021-01-25 21:05:46.448 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/caixas/actions/aberto?idnomeCaixa=1  
2021-01-25 21:05:46.450 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.CaixasController.GetCaixaAberto (FortalezaServer)'
2021-01-25 21:05:46.452 -03:00 [INF] Route matched with {action = "GetCaixaAberto", controller = "Caixas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FortalezaServer.Models.Caixa]] GetCaixaAberto(Int32, Boolean) on controller FortalezaServer.Controllers.CaixasController (FortalezaServer).
2021-01-25 21:05:46.459 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-01-25 21:05:46.463 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__idnomeCaixa_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`idcaixa`, `c`.`aberto`, `c`.`idnome_caixa`, `n`.`idnome_caixa`, `n`.`nome`, `a`.`idcaixa`, `a`.`hora`, `a`.`idpdv`, `a`.`idusuario`, `p`.`idpdv`, `p`.`nome`, `u`.`idusuario`, `u`.`cpf`, `u`.`idendereco`, `u`.`login`, `u`.`nome`, `u`.`senha`, `u`.`telefone1`, `u`.`telefone2`
FROM `caixa` AS `c`
INNER JOIN `nome_caixa` AS `n` ON `c`.`idnome_caixa` = `n`.`idnome_caixa`
LEFT JOIN `abertura` AS `a` ON `c`.`idcaixa` = `a`.`idcaixa`
LEFT JOIN `pdv` AS `p` ON `a`.`idpdv` = `p`.`idpdv`
LEFT JOIN `usuario` AS `u` ON `a`.`idusuario` = `u`.`idusuario`
WHERE (`c`.`aberto` = 1) AND (`c`.`idnome_caixa` = @__idnomeCaixa_0)
LIMIT 1
2021-01-25 21:05:46.470 -03:00 [INF] Executing ObjectResult, writing value of type 'FortalezaServer.Models.Caixa'.
2021-01-25 21:05:46.472 -03:00 [INF] Executed action FortalezaServer.Controllers.CaixasController.GetCaixaAberto (FortalezaServer) in 13.939ms
2021-01-25 21:05:46.474 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.CaixasController.GetCaixaAberto (FortalezaServer)'
2021-01-25 21:05:46.480 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/formapagamentos  
2021-01-25 21:05:46.480 -03:00 [INF] Request finished in 32.7882ms 200 application/json; charset=utf-8
2021-01-25 21:05:46.481 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.FormaPagamentosController.GetFormaPagamento (FortalezaServer)'
2021-01-25 21:05:46.484 -03:00 [INF] Route matched with {action = "GetFormaPagamento", controller = "FormaPagamentos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[FortalezaServer.Models.FormaPagamento]]] GetFormaPagamento() on controller FortalezaServer.Controllers.FormaPagamentosController (FortalezaServer).
2021-01-25 21:05:46.490 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-01-25 21:05:46.493 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `f`.`idforma_pagamento`, `f`.`bandeira`, `f`.`debitar_cliente`, `f`.`debito`, `f`.`gerar_contas_receber`, `f`.`nome`, `f`.`ordem`
FROM `forma_pagamento` AS `f`
2021-01-25 21:05:46.504 -03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[FortalezaServer.Models.FormaPagamento, FortalezaServer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-01-25 21:05:46.508 -03:00 [INF] Executed action FortalezaServer.Controllers.FormaPagamentosController.GetFormaPagamento (FortalezaServer) in 18.0205ms
2021-01-25 21:05:46.510 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.FormaPagamentosController.GetFormaPagamento (FortalezaServer)'
2021-01-25 21:05:46.514 -03:00 [INF] Request finished in 34.0471ms 200 application/json; charset=utf-8
2021-01-25 21:05:48.091 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/clientes  
2021-01-25 21:05:48.092 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.ClientesController.GetCliente (FortalezaServer)'
2021-01-25 21:05:48.098 -03:00 [INF] Route matched with {action = "GetCliente", controller = "Clientes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[FortalezaServer.Models.Cliente]]] GetCliente() on controller FortalezaServer.Controllers.ClientesController (FortalezaServer).
2021-01-25 21:05:48.108 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-01-25 21:05:48.125 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`idcliente`, `c`.`celular`, `c`.`cpf`, `c`.`email`, `c`.`idendereco`, `c`.`nome`, `c`.`telefone`, `e`.`idendereco`, `e`.`bairro`, `e`.`cep`, `e`.`complemento`, `e`.`descricao`, `e`.`logradouro`, `e`.`municipio`, `e`.`numero`, `e`.`tipo`, `e`.`UF`
FROM `cliente` AS `c`
LEFT JOIN `endereco` AS `e` ON `c`.`idendereco` = `e`.`idendereco`
2021-01-25 21:05:48.132 -03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[FortalezaServer.Models.Cliente, FortalezaServer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-01-25 21:05:48.134 -03:00 [INF] Executed action FortalezaServer.Controllers.ClientesController.GetCliente (FortalezaServer) in 30.49ms
2021-01-25 21:05:48.137 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.ClientesController.GetCliente (FortalezaServer)'
2021-01-25 21:05:48.143 -03:00 [INF] Request finished in 52.8212ms 200 application/json; charset=utf-8
2021-01-25 21:06:13.214 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8000/api/clientes application/json; charset=utf-8 481
2021-01-25 21:06:13.215 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.ClientesController.PostCliente (FortalezaServer)'
2021-01-25 21:06:13.221 -03:00 [INF] Route matched with {action = "PostCliente", controller = "Clientes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FortalezaServer.Models.Cliente]] PostCliente(FortalezaServer.Models.Cliente) on controller FortalezaServer.Controllers.ClientesController (FortalezaServer).
2021-01-25 21:06:13.236 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-01-25 21:06:13.263 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (Size = 8), @p2='?' (Size = 255), @p3='?' (Size = 255), @p4='?' (Size = 255), @p5='?' (Size = 255), @p6='?' (Size = 255), @p7='?' (Size = 255), @p8='?' (Size = 2)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `endereco` (`bairro`, `cep`, `complemento`, `descricao`, `logradouro`, `municipio`, `numero`, `tipo`, `UF`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT `idendereco`
FROM `endereco`
WHERE ROW_COUNT() = 1
 AND `idendereco`=LAST_INSERT_ID();
2021-01-25 21:06:13.272 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p9='?' (Size = 20), @p10='?' (Size = 14), @p11='?' (Size = 255), @p12='?' (DbType = Int32), @p13='?' (Size = 255), @p14='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `cliente` (`celular`, `cpf`, `email`, `idendereco`, `nome`, `telefone`)
VALUES (@p9, @p10, @p11, @p12, @p13, @p14);
SELECT `idcliente`
FROM `cliente`
WHERE ROW_COUNT() = 1
 AND `idcliente`=LAST_INSERT_ID();
2021-01-25 21:06:13.280 -03:00 [INF] Executing ObjectResult, writing value of type 'FortalezaServer.Models.Cliente'.
2021-01-25 21:06:13.287 -03:00 [INF] Executed action FortalezaServer.Controllers.ClientesController.PostCliente (FortalezaServer) in 61.2524ms
2021-01-25 21:06:13.289 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.ClientesController.PostCliente (FortalezaServer)'
2021-01-25 21:06:13.292 -03:00 [INF] Request finished in 77.6409ms 201 application/json; charset=utf-8
2021-01-25 21:06:13.299 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/clientes  
2021-01-25 21:06:13.300 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.ClientesController.GetCliente (FortalezaServer)'
2021-01-25 21:06:13.303 -03:00 [INF] Route matched with {action = "GetCliente", controller = "Clientes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[FortalezaServer.Models.Cliente]]] GetCliente() on controller FortalezaServer.Controllers.ClientesController (FortalezaServer).
2021-01-25 21:06:13.314 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-01-25 21:06:13.330 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`idcliente`, `c`.`celular`, `c`.`cpf`, `c`.`email`, `c`.`idendereco`, `c`.`nome`, `c`.`telefone`, `e`.`idendereco`, `e`.`bairro`, `e`.`cep`, `e`.`complemento`, `e`.`descricao`, `e`.`logradouro`, `e`.`municipio`, `e`.`numero`, `e`.`tipo`, `e`.`UF`
FROM `cliente` AS `c`
LEFT JOIN `endereco` AS `e` ON `c`.`idendereco` = `e`.`idendereco`
2021-01-25 21:06:13.334 -03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[FortalezaServer.Models.Cliente, FortalezaServer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-01-25 21:06:13.336 -03:00 [INF] Executed action FortalezaServer.Controllers.ClientesController.GetCliente (FortalezaServer) in 22.4497ms
2021-01-25 21:06:13.339 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.ClientesController.GetCliente (FortalezaServer)'
2021-01-25 21:06:13.342 -03:00 [INF] Request finished in 43.2664ms 200 application/json; charset=utf-8
2021-01-25 21:06:16.334 -03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:8000/api/vendas/1 application/json; charset=utf-8 1510
2021-01-25 21:06:16.338 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.VendasController.PutVenda (FortalezaServer)'
2021-01-25 21:06:16.347 -03:00 [INF] Route matched with {action = "PutVenda", controller = "Vendas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PutVenda(Int32, FortalezaServer.Models.Venda) on controller FortalezaServer.Controllers.VendasController (FortalezaServer).
2021-01-25 21:06:16.361 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-01-25 21:06:16.366 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p14='?' (DbType = Int32), @p0='?' (DbType = SByte), @p1='?' (DbType = Decimal), @p2='?' (DbType = Decimal), @p3='?' (Size = 255), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = SByte), @p12='?' (DbType = Int32), @p13='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
UPDATE `venda` SET `aberta` = @p0, `acrescimo` = @p1, `desconto` = @p2, `descricao` = @p3, `hora_entrada` = @p4, `hora_fechamento` = @p5, `idcaixa` = @p6, `idcliente` = @p7, `idpdv` = @p8, `idresponsavel` = @p9, `numero_venda` = @p10, `paga` = @p11, `tipo` = @p12, `valor_pago` = @p13
WHERE `idvenda` = @p14;
SELECT ROW_COUNT();
2021-01-25 21:06:16.377 -03:00 [INF] Executing HttpStatusCodeResult, setting HTTP status code 204
2021-01-25 21:06:16.378 -03:00 [INF] Executed action FortalezaServer.Controllers.VendasController.PutVenda (FortalezaServer) in 21.4546ms
2021-01-25 21:06:16.380 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.VendasController.PutVenda (FortalezaServer)'
2021-01-25 21:06:16.382 -03:00 [INF] Request finished in 47.4971ms 204 
2021-01-25 21:06:16.385 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/vendas/1?pagamentos=true  
2021-01-25 21:06:16.387 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer)'
2021-01-25 21:06:16.389 -03:00 [INF] Route matched with {action = "GetVenda", controller = "Vendas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FortalezaServer.Models.Venda]] GetVenda(Int32, Boolean, Boolean, Boolean) on controller FortalezaServer.Controllers.VendasController (FortalezaServer).
2021-01-25 21:06:16.392 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-01-25 21:06:16.395 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `v`.`idvenda`, `v`.`aberta`, `v`.`acrescimo`, `v`.`desconto`, `v`.`descricao`, `v`.`hora_entrada`, `v`.`hora_fechamento`, `v`.`idcaixa`, `v`.`idcliente`, `v`.`idpdv`, `v`.`idresponsavel`, `v`.`numero_venda`, `v`.`paga`, `v`.`tipo`, `v`.`valor_pago`
FROM `venda` AS `v`
WHERE `v`.`idvenda` = @__p_0
LIMIT 1
2021-01-25 21:06:16.402 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`iditem_venda`, `i`.`cancelado`, `i`.`custo`, `i`.`iditem`, `i`.`idvenda`, `i`.`indice`, `i`.`quantidade`, `i`.`valor`
FROM `item_venda` AS `i`
WHERE `i`.`idvenda` = @__p_0
2021-01-25 21:06:16.408 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`idvenda`, `p`.`idmovimento`, `m`.`idmovimento`, `m`.`descricao`, `m`.`hora_entrada`, `m`.`idbandeira`, `m`.`idcaixa`, `m`.`idforma_pagamento`, `m`.`idpdv`, `m`.`idusuario`, `m`.`tipo`, `m`.`valor`, `f`.`idforma_pagamento`, `f`.`bandeira`, `f`.`debitar_cliente`, `f`.`debito`, `f`.`gerar_contas_receber`, `f`.`nome`, `f`.`ordem`
FROM `pagamento` AS `p`
INNER JOIN `movimento` AS `m` ON `p`.`idmovimento` = `m`.`idmovimento`
LEFT JOIN `forma_pagamento` AS `f` ON `m`.`idforma_pagamento` = `f`.`idforma_pagamento`
WHERE `p`.`idvenda` = @__p_0
2021-01-25 21:06:16.419 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`idcliente`, `c`.`celular`, `c`.`cpf`, `c`.`email`, `c`.`idendereco`, `c`.`nome`, `c`.`telefone`, `e`.`idendereco`, `e`.`bairro`, `e`.`cep`, `e`.`complemento`, `e`.`descricao`, `e`.`logradouro`, `e`.`municipio`, `e`.`numero`, `e`.`tipo`, `e`.`UF`
FROM `cliente` AS `c`
LEFT JOIN `endereco` AS `e` ON `c`.`idendereco` = `e`.`idendereco`
WHERE `c`.`idcliente` = @__p_0
2021-01-25 21:06:16.424 -03:00 [INF] Executing ObjectResult, writing value of type 'FortalezaServer.Models.Venda'.
2021-01-25 21:06:16.427 -03:00 [INF] Executed action FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer) in 35.3774ms
2021-01-25 21:06:16.428 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer)'
2021-01-25 21:06:16.430 -03:00 [INF] Request finished in 44.9686ms 200 application/json; charset=utf-8
2021-01-25 21:06:19.384 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/clientes  
2021-01-25 21:06:19.387 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.ClientesController.GetCliente (FortalezaServer)'
2021-01-25 21:06:19.392 -03:00 [INF] Route matched with {action = "GetCliente", controller = "Clientes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[FortalezaServer.Models.Cliente]]] GetCliente() on controller FortalezaServer.Controllers.ClientesController (FortalezaServer).
2021-01-25 21:06:19.401 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-01-25 21:06:19.412 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`idcliente`, `c`.`celular`, `c`.`cpf`, `c`.`email`, `c`.`idendereco`, `c`.`nome`, `c`.`telefone`, `e`.`idendereco`, `e`.`bairro`, `e`.`cep`, `e`.`complemento`, `e`.`descricao`, `e`.`logradouro`, `e`.`municipio`, `e`.`numero`, `e`.`tipo`, `e`.`UF`
FROM `cliente` AS `c`
LEFT JOIN `endereco` AS `e` ON `c`.`idendereco` = `e`.`idendereco`
2021-01-25 21:06:19.422 -03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[FortalezaServer.Models.Cliente, FortalezaServer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-01-25 21:06:19.426 -03:00 [INF] Executed action FortalezaServer.Controllers.ClientesController.GetCliente (FortalezaServer) in 25.9229ms
2021-01-25 21:06:19.427 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.ClientesController.GetCliente (FortalezaServer)'
2021-01-25 21:06:19.433 -03:00 [INF] Request finished in 49.1237ms 200 application/json; charset=utf-8
2021-01-25 21:06:20.846 -03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:8000/api/vendas/1 application/json; charset=utf-8 1984
2021-01-25 21:06:20.848 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.VendasController.PutVenda (FortalezaServer)'
2021-01-25 21:06:20.849 -03:00 [INF] Route matched with {action = "PutVenda", controller = "Vendas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PutVenda(Int32, FortalezaServer.Models.Venda) on controller FortalezaServer.Controllers.VendasController (FortalezaServer).
2021-01-25 21:06:20.864 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-01-25 21:06:20.872 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p14='?' (DbType = Int32), @p0='?' (DbType = SByte), @p1='?' (DbType = Decimal), @p2='?' (DbType = Decimal), @p3='?' (Size = 255), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = SByte), @p12='?' (DbType = Int32), @p13='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
UPDATE `venda` SET `aberta` = @p0, `acrescimo` = @p1, `desconto` = @p2, `descricao` = @p3, `hora_entrada` = @p4, `hora_fechamento` = @p5, `idcaixa` = @p6, `idcliente` = @p7, `idpdv` = @p8, `idresponsavel` = @p9, `numero_venda` = @p10, `paga` = @p11, `tipo` = @p12, `valor_pago` = @p13
WHERE `idvenda` = @p14;
SELECT ROW_COUNT();
2021-01-25 21:06:20.877 -03:00 [INF] Executing HttpStatusCodeResult, setting HTTP status code 204
2021-01-25 21:06:20.878 -03:00 [INF] Executed action FortalezaServer.Controllers.VendasController.PutVenda (FortalezaServer) in 17.535ms
2021-01-25 21:06:20.879 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.VendasController.PutVenda (FortalezaServer)'
2021-01-25 21:06:20.881 -03:00 [INF] Request finished in 34.4613ms 204 
2021-01-25 21:06:20.884 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/vendas/1?pagamentos=true  
2021-01-25 21:06:20.886 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer)'
2021-01-25 21:06:20.890 -03:00 [INF] Route matched with {action = "GetVenda", controller = "Vendas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FortalezaServer.Models.Venda]] GetVenda(Int32, Boolean, Boolean, Boolean) on controller FortalezaServer.Controllers.VendasController (FortalezaServer).
2021-01-25 21:06:20.895 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-01-25 21:06:20.899 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `v`.`idvenda`, `v`.`aberta`, `v`.`acrescimo`, `v`.`desconto`, `v`.`descricao`, `v`.`hora_entrada`, `v`.`hora_fechamento`, `v`.`idcaixa`, `v`.`idcliente`, `v`.`idpdv`, `v`.`idresponsavel`, `v`.`numero_venda`, `v`.`paga`, `v`.`tipo`, `v`.`valor_pago`
FROM `venda` AS `v`
WHERE `v`.`idvenda` = @__p_0
LIMIT 1
2021-01-25 21:06:20.908 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`iditem_venda`, `i`.`cancelado`, `i`.`custo`, `i`.`iditem`, `i`.`idvenda`, `i`.`indice`, `i`.`quantidade`, `i`.`valor`
FROM `item_venda` AS `i`
WHERE `i`.`idvenda` = @__p_0
2021-01-25 21:06:20.913 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`idvenda`, `p`.`idmovimento`, `m`.`idmovimento`, `m`.`descricao`, `m`.`hora_entrada`, `m`.`idbandeira`, `m`.`idcaixa`, `m`.`idforma_pagamento`, `m`.`idpdv`, `m`.`idusuario`, `m`.`tipo`, `m`.`valor`, `f`.`idforma_pagamento`, `f`.`bandeira`, `f`.`debitar_cliente`, `f`.`debito`, `f`.`gerar_contas_receber`, `f`.`nome`, `f`.`ordem`
FROM `pagamento` AS `p`
INNER JOIN `movimento` AS `m` ON `p`.`idmovimento` = `m`.`idmovimento`
LEFT JOIN `forma_pagamento` AS `f` ON `m`.`idforma_pagamento` = `f`.`idforma_pagamento`
WHERE `p`.`idvenda` = @__p_0
2021-01-25 21:06:20.919 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`idcliente`, `c`.`celular`, `c`.`cpf`, `c`.`email`, `c`.`idendereco`, `c`.`nome`, `c`.`telefone`, `e`.`idendereco`, `e`.`bairro`, `e`.`cep`, `e`.`complemento`, `e`.`descricao`, `e`.`logradouro`, `e`.`municipio`, `e`.`numero`, `e`.`tipo`, `e`.`UF`
FROM `cliente` AS `c`
LEFT JOIN `endereco` AS `e` ON `c`.`idendereco` = `e`.`idendereco`
WHERE `c`.`idcliente` = @__p_0
2021-01-25 21:06:20.926 -03:00 [INF] Executing ObjectResult, writing value of type 'FortalezaServer.Models.Venda'.
2021-01-25 21:06:20.928 -03:00 [INF] Executed action FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer) in 34.5078ms
2021-01-25 21:06:20.930 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer)'
2021-01-25 21:06:20.934 -03:00 [INF] Request finished in 50.0746ms 200 application/json; charset=utf-8
2021-01-25 21:06:21.876 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/clientes  
2021-01-25 21:06:21.878 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.ClientesController.GetCliente (FortalezaServer)'
2021-01-25 21:06:21.881 -03:00 [INF] Route matched with {action = "GetCliente", controller = "Clientes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[FortalezaServer.Models.Cliente]]] GetCliente() on controller FortalezaServer.Controllers.ClientesController (FortalezaServer).
2021-01-25 21:06:21.888 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-01-25 21:06:21.894 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`idcliente`, `c`.`celular`, `c`.`cpf`, `c`.`email`, `c`.`idendereco`, `c`.`nome`, `c`.`telefone`, `e`.`idendereco`, `e`.`bairro`, `e`.`cep`, `e`.`complemento`, `e`.`descricao`, `e`.`logradouro`, `e`.`municipio`, `e`.`numero`, `e`.`tipo`, `e`.`UF`
FROM `cliente` AS `c`
LEFT JOIN `endereco` AS `e` ON `c`.`idendereco` = `e`.`idendereco`
2021-01-25 21:06:21.903 -03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[FortalezaServer.Models.Cliente, FortalezaServer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-01-25 21:06:21.908 -03:00 [INF] Executed action FortalezaServer.Controllers.ClientesController.GetCliente (FortalezaServer) in 20.8611ms
2021-01-25 21:06:21.911 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.ClientesController.GetCliente (FortalezaServer)'
2021-01-25 21:06:21.912 -03:00 [INF] Request finished in 36.4731ms 200 application/json; charset=utf-8
2021-01-25 21:13:56.443 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api  
2021-01-25 21:13:56.449 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.IndexController.Get (FortalezaServer)'
2021-01-25 21:13:56.456 -03:00 [INF] Route matched with {action = "Get", controller = "Index"}. Executing controller action with signature System.String Get() on controller FortalezaServer.Controllers.IndexController (FortalezaServer).
2021-01-25 21:13:56.468 -03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2021-01-25 21:13:56.473 -03:00 [INF] Executed action FortalezaServer.Controllers.IndexController.Get (FortalezaServer) in 5.4527ms
2021-01-25 21:13:56.550 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.IndexController.Get (FortalezaServer)'
2021-01-25 21:13:56.554 -03:00 [INF] Request finished in 111.3465ms 200 text/plain; charset=utf-8
2021-01-25 21:13:56.720 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api  
2021-01-25 21:13:56.721 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.IndexController.Get (FortalezaServer)'
2021-01-25 21:13:56.725 -03:00 [INF] Route matched with {action = "Get", controller = "Index"}. Executing controller action with signature System.String Get() on controller FortalezaServer.Controllers.IndexController (FortalezaServer).
2021-01-25 21:13:56.733 -03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2021-01-25 21:13:56.737 -03:00 [INF] Executed action FortalezaServer.Controllers.IndexController.Get (FortalezaServer) in 3.8216ms
2021-01-25 21:13:56.741 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.IndexController.Get (FortalezaServer)'
2021-01-25 21:13:56.744 -03:00 [INF] Request finished in 24.9414ms 200 text/plain; charset=utf-8
2021-01-25 21:13:56.815 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/vendas/actions/aberta  
2021-01-25 21:13:56.818 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.VendasController.GetVendaAberta (FortalezaServer)'
2021-01-25 21:13:56.820 -03:00 [INF] Route matched with {action = "GetVendaAberta", controller = "Vendas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Int32]] GetVendaAberta(Int32) on controller FortalezaServer.Controllers.VendasController (FortalezaServer).
2021-01-25 21:13:56.825 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-01-25 21:13:56.848 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tipo_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `v`.`idvenda`, `v`.`aberta`, `v`.`acrescimo`, `v`.`desconto`, `v`.`descricao`, `v`.`hora_entrada`, `v`.`hora_fechamento`, `v`.`idcaixa`, `v`.`idcliente`, `v`.`idpdv`, `v`.`idresponsavel`, `v`.`numero_venda`, `v`.`paga`, `v`.`tipo`, `v`.`valor_pago`
FROM `venda` AS `v`
WHERE (`v`.`aberta` = 1) & (`v`.`tipo` = @__tipo_0)
LIMIT 1
2021-01-25 21:13:56.854 -03:00 [INF] Executing ObjectResult, writing value of type 'System.Int32'.
2021-01-25 21:13:56.856 -03:00 [INF] Executed action FortalezaServer.Controllers.VendasController.GetVendaAberta (FortalezaServer) in 32.7297ms
2021-01-25 21:13:56.860 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.VendasController.GetVendaAberta (FortalezaServer)'
2021-01-25 21:13:56.862 -03:00 [INF] Request finished in 46.2504ms 200 application/json; charset=utf-8
2021-01-25 21:13:56.908 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/grupos  
2021-01-25 21:13:56.910 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.GruposController.GetGrupo (FortalezaServer)'
2021-01-25 21:13:56.912 -03:00 [INF] Route matched with {action = "GetGrupo", controller = "Grupos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[FortalezaServer.Models.Grupo]]] GetGrupo() on controller FortalezaServer.Controllers.GruposController (FortalezaServer).
2021-01-25 21:13:56.915 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-01-25 21:13:56.922 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`idgrupo`, `g`.`descricao`, `g`.`nome`, `g`.`visivel`
FROM `grupo` AS `g`
2021-01-25 21:13:56.927 -03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[FortalezaServer.Models.Grupo, FortalezaServer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-01-25 21:13:56.923 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/vendas/1?itemvendas=true  
2021-01-25 21:13:56.932 -03:00 [INF] Executed action FortalezaServer.Controllers.GruposController.GetGrupo (FortalezaServer) in 17.1917ms
2021-01-25 21:13:56.933 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer)'
2021-01-25 21:13:56.935 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.GruposController.GetGrupo (FortalezaServer)'
2021-01-25 21:13:56.937 -03:00 [INF] Route matched with {action = "GetVenda", controller = "Vendas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FortalezaServer.Models.Venda]] GetVenda(Int32, Boolean, Boolean, Boolean) on controller FortalezaServer.Controllers.VendasController (FortalezaServer).
2021-01-25 21:13:56.938 -03:00 [INF] Request finished in 32.9242ms 200 application/json; charset=utf-8
2021-01-25 21:13:56.944 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-01-25 21:13:56.949 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `v`.`idvenda`, `v`.`aberta`, `v`.`acrescimo`, `v`.`desconto`, `v`.`descricao`, `v`.`hora_entrada`, `v`.`hora_fechamento`, `v`.`idcaixa`, `v`.`idcliente`, `v`.`idpdv`, `v`.`idresponsavel`, `v`.`numero_venda`, `v`.`paga`, `v`.`tipo`, `v`.`valor_pago`
FROM `venda` AS `v`
WHERE `v`.`idvenda` = @__p_0
LIMIT 1
2021-01-25 21:13:56.956 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`iditem_venda`, `i`.`cancelado`, `i`.`custo`, `i`.`iditem`, `i`.`idvenda`, `i`.`indice`, `i`.`quantidade`, `i`.`valor`, `i0`.`iditem`, `i0`.`atacado`, `i0`.`codigo_barras`, `i0`.`descricao`, `i0`.`disponivel`, `i0`.`estoque`, `i0`.`estoque_minimo`, `i0`.`imagem`, `i0`.`permite_combo`, `i0`.`quantidade_atacado`, `i0`.`tipo`, `i0`.`unidade`, `i0`.`unidade_inteira`, `i0`.`valor`, `i0`.`valor_atacado`, `i0`.`visivel`
FROM `item_venda` AS `i`
INNER JOIN `item` AS `i0` ON `i`.`iditem` = `i0`.`iditem`
WHERE `i`.`idvenda` = @__p_0
2021-01-25 21:13:56.964 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/items  
2021-01-25 21:13:56.967 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.ItemsController.GetItem (FortalezaServer)'
2021-01-25 21:13:56.969 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`idcliente`, `c`.`celular`, `c`.`cpf`, `c`.`email`, `c`.`idendereco`, `c`.`nome`, `c`.`telefone`, `e`.`idendereco`, `e`.`bairro`, `e`.`cep`, `e`.`complemento`, `e`.`descricao`, `e`.`logradouro`, `e`.`municipio`, `e`.`numero`, `e`.`tipo`, `e`.`UF`
FROM `cliente` AS `c`
LEFT JOIN `endereco` AS `e` ON `c`.`idendereco` = `e`.`idendereco`
WHERE `c`.`idcliente` = @__p_0
2021-01-25 21:13:56.970 -03:00 [INF] Route matched with {action = "GetItem", controller = "Items"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[FortalezaServer.Models.Item]]] GetItem(Boolean, Boolean, Boolean) on controller FortalezaServer.Controllers.ItemsController (FortalezaServer).
2021-01-25 21:13:56.975 -03:00 [INF] Executing ObjectResult, writing value of type 'FortalezaServer.Models.Venda'.
2021-01-25 21:13:56.982 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-01-25 21:13:56.984 -03:00 [INF] Executed action FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer) in 40.7966ms
2021-01-25 21:13:56.987 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`iditem`, `i`.`atacado`, `i`.`codigo_barras`, `i`.`descricao`, `i`.`disponivel`, `i`.`estoque`, `i`.`estoque_minimo`, `i`.`imagem`, `i`.`permite_combo`, `i`.`quantidade_atacado`, `i`.`tipo`, `i`.`unidade`, `i`.`unidade_inteira`, `i`.`valor`, `i`.`valor_atacado`, `i`.`visivel`
FROM `item` AS `i`
WHERE `i`.`visivel` = 1
2021-01-25 21:13:56.987 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer)'
2021-01-25 21:13:56.998 -03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[FortalezaServer.Models.Item, FortalezaServer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-01-25 21:13:57.000 -03:00 [INF] Request finished in 76.5165ms 200 application/json; charset=utf-8
2021-01-25 21:13:57.004 -03:00 [INF] Executed action FortalezaServer.Controllers.ItemsController.GetItem (FortalezaServer) in 23.1667ms
2021-01-25 21:13:57.008 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.ItemsController.GetItem (FortalezaServer)'
2021-01-25 21:13:57.015 -03:00 [INF] Request finished in 50.5421ms 200 application/json; charset=utf-8
2021-01-25 21:14:01.259 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/vendas/1?pagamentos=true  
2021-01-25 21:14:01.261 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer)'
2021-01-25 21:14:01.263 -03:00 [INF] Route matched with {action = "GetVenda", controller = "Vendas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FortalezaServer.Models.Venda]] GetVenda(Int32, Boolean, Boolean, Boolean) on controller FortalezaServer.Controllers.VendasController (FortalezaServer).
2021-01-25 21:14:01.267 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-01-25 21:14:01.272 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `v`.`idvenda`, `v`.`aberta`, `v`.`acrescimo`, `v`.`desconto`, `v`.`descricao`, `v`.`hora_entrada`, `v`.`hora_fechamento`, `v`.`idcaixa`, `v`.`idcliente`, `v`.`idpdv`, `v`.`idresponsavel`, `v`.`numero_venda`, `v`.`paga`, `v`.`tipo`, `v`.`valor_pago`
FROM `venda` AS `v`
WHERE `v`.`idvenda` = @__p_0
LIMIT 1
2021-01-25 21:14:01.281 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`iditem_venda`, `i`.`cancelado`, `i`.`custo`, `i`.`iditem`, `i`.`idvenda`, `i`.`indice`, `i`.`quantidade`, `i`.`valor`
FROM `item_venda` AS `i`
WHERE `i`.`idvenda` = @__p_0
2021-01-25 21:14:01.289 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`idvenda`, `p`.`idmovimento`, `m`.`idmovimento`, `m`.`descricao`, `m`.`hora_entrada`, `m`.`idbandeira`, `m`.`idcaixa`, `m`.`idforma_pagamento`, `m`.`idpdv`, `m`.`idusuario`, `m`.`tipo`, `m`.`valor`, `f`.`idforma_pagamento`, `f`.`bandeira`, `f`.`debitar_cliente`, `f`.`debito`, `f`.`gerar_contas_receber`, `f`.`nome`, `f`.`ordem`
FROM `pagamento` AS `p`
INNER JOIN `movimento` AS `m` ON `p`.`idmovimento` = `m`.`idmovimento`
LEFT JOIN `forma_pagamento` AS `f` ON `m`.`idforma_pagamento` = `f`.`idforma_pagamento`
WHERE `p`.`idvenda` = @__p_0
2021-01-25 21:14:01.298 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`idcliente`, `c`.`celular`, `c`.`cpf`, `c`.`email`, `c`.`idendereco`, `c`.`nome`, `c`.`telefone`, `e`.`idendereco`, `e`.`bairro`, `e`.`cep`, `e`.`complemento`, `e`.`descricao`, `e`.`logradouro`, `e`.`municipio`, `e`.`numero`, `e`.`tipo`, `e`.`UF`
FROM `cliente` AS `c`
LEFT JOIN `endereco` AS `e` ON `c`.`idendereco` = `e`.`idendereco`
WHERE `c`.`idcliente` = @__p_0
2021-01-25 21:14:01.303 -03:00 [INF] Executing ObjectResult, writing value of type 'FortalezaServer.Models.Venda'.
2021-01-25 21:14:01.305 -03:00 [INF] Executed action FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer) in 39.2034ms
2021-01-25 21:14:01.306 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer)'
2021-01-25 21:14:01.308 -03:00 [INF] Request finished in 48.751ms 200 application/json; charset=utf-8
2021-01-25 21:14:01.371 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/caixas/actions/aberto?idnomeCaixa=1  
2021-01-25 21:14:01.372 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.CaixasController.GetCaixaAberto (FortalezaServer)'
2021-01-25 21:14:01.377 -03:00 [INF] Route matched with {action = "GetCaixaAberto", controller = "Caixas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FortalezaServer.Models.Caixa]] GetCaixaAberto(Int32, Boolean) on controller FortalezaServer.Controllers.CaixasController (FortalezaServer).
2021-01-25 21:14:01.383 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-01-25 21:14:01.391 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__idnomeCaixa_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`idcaixa`, `c`.`aberto`, `c`.`idnome_caixa`, `n`.`idnome_caixa`, `n`.`nome`, `a`.`idcaixa`, `a`.`hora`, `a`.`idpdv`, `a`.`idusuario`, `p`.`idpdv`, `p`.`nome`, `u`.`idusuario`, `u`.`cpf`, `u`.`idendereco`, `u`.`login`, `u`.`nome`, `u`.`senha`, `u`.`telefone1`, `u`.`telefone2`
FROM `caixa` AS `c`
INNER JOIN `nome_caixa` AS `n` ON `c`.`idnome_caixa` = `n`.`idnome_caixa`
LEFT JOIN `abertura` AS `a` ON `c`.`idcaixa` = `a`.`idcaixa`
LEFT JOIN `pdv` AS `p` ON `a`.`idpdv` = `p`.`idpdv`
LEFT JOIN `usuario` AS `u` ON `a`.`idusuario` = `u`.`idusuario`
WHERE (`c`.`aberto` = 1) AND (`c`.`idnome_caixa` = @__idnomeCaixa_0)
LIMIT 1
2021-01-25 21:14:01.402 -03:00 [INF] Executing ObjectResult, writing value of type 'FortalezaServer.Models.Caixa'.
2021-01-25 21:14:01.403 -03:00 [INF] Executed action FortalezaServer.Controllers.CaixasController.GetCaixaAberto (FortalezaServer) in 20.948ms
2021-01-25 21:14:01.405 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.CaixasController.GetCaixaAberto (FortalezaServer)'
2021-01-25 21:14:01.407 -03:00 [INF] Request finished in 36.2691ms 200 application/json; charset=utf-8
2021-01-25 21:14:01.527 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/formapagamentos  
2021-01-25 21:14:01.528 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.FormaPagamentosController.GetFormaPagamento (FortalezaServer)'
2021-01-25 21:14:01.530 -03:00 [INF] Route matched with {action = "GetFormaPagamento", controller = "FormaPagamentos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[FortalezaServer.Models.FormaPagamento]]] GetFormaPagamento() on controller FortalezaServer.Controllers.FormaPagamentosController (FortalezaServer).
2021-01-25 21:14:01.542 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-01-25 21:14:01.546 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `f`.`idforma_pagamento`, `f`.`bandeira`, `f`.`debitar_cliente`, `f`.`debito`, `f`.`gerar_contas_receber`, `f`.`nome`, `f`.`ordem`
FROM `forma_pagamento` AS `f`
2021-01-25 21:14:01.552 -03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[FortalezaServer.Models.FormaPagamento, FortalezaServer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-01-25 21:14:01.554 -03:00 [INF] Executed action FortalezaServer.Controllers.FormaPagamentosController.GetFormaPagamento (FortalezaServer) in 14.1287ms
2021-01-25 21:14:01.556 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.FormaPagamentosController.GetFormaPagamento (FortalezaServer)'
2021-01-25 21:14:01.562 -03:00 [INF] Request finished in 34.8347ms 200 application/json; charset=utf-8
2021-01-25 21:14:37.794 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8000/api/vendas/1/pagamentos application/json; charset=utf-8 604
2021-01-25 21:14:37.796 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.VendasController.PostPagamento (FortalezaServer)'
2021-01-25 21:14:37.804 -03:00 [INF] Route matched with {action = "PostPagamento", controller = "Vendas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FortalezaServer.Models.Venda]] PostPagamento(Int32, FortalezaServer.Models.Pagamento) on controller FortalezaServer.Controllers.VendasController (FortalezaServer).
2021-01-25 21:14:37.820 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-01-25 21:14:37.870 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`idvenda`, `t`.`aberta`, `t`.`acrescimo`, `t`.`desconto`, `t`.`descricao`, `t`.`hora_entrada`, `t`.`hora_fechamento`, `t`.`idcaixa`, `t`.`idcliente`, `t`.`idpdv`, `t`.`idresponsavel`, `t`.`numero_venda`, `t`.`paga`, `t`.`tipo`, `t`.`valor_pago`, `t`.`idcliente0`, `t`.`celular`, `t`.`cpf`, `t`.`email`, `t`.`idendereco`, `t`.`nome`, `t`.`telefone`, `i`.`iditem_venda`, `i`.`cancelado`, `i`.`custo`, `i`.`iditem`, `i`.`idvenda`, `i`.`indice`, `i`.`quantidade`, `i`.`valor`, `t0`.`idcliente`, `t0`.`idmovimento`, `t0`.`idmovimento0`, `t0`.`descricao`, `t0`.`hora_entrada`, `t0`.`idbandeira`, `t0`.`idcaixa`, `t0`.`idforma_pagamento`, `t0`.`idpdv`, `t0`.`idusuario`, `t0`.`tipo`, `t0`.`valor`
FROM (
    SELECT `v`.`idvenda`, `v`.`aberta`, `v`.`acrescimo`, `v`.`desconto`, `v`.`descricao`, `v`.`hora_entrada`, `v`.`hora_fechamento`, `v`.`idcaixa`, `v`.`idcliente`, `v`.`idpdv`, `v`.`idresponsavel`, `v`.`numero_venda`, `v`.`paga`, `v`.`tipo`, `v`.`valor_pago`, `c`.`idcliente` AS `idcliente0`, `c`.`celular`, `c`.`cpf`, `c`.`email`, `c`.`idendereco`, `c`.`nome`, `c`.`telefone`
    FROM `venda` AS `v`
    LEFT JOIN `cliente` AS `c` ON `v`.`idcliente` = `c`.`idcliente`
    LIMIT 1
) AS `t`
LEFT JOIN `item_venda` AS `i` ON `t`.`idvenda` = `i`.`idvenda`
LEFT JOIN (
    SELECT `c0`.`idcliente`, `c0`.`idmovimento`, `m`.`idmovimento` AS `idmovimento0`, `m`.`descricao`, `m`.`hora_entrada`, `m`.`idbandeira`, `m`.`idcaixa`, `m`.`idforma_pagamento`, `m`.`idpdv`, `m`.`idusuario`, `m`.`tipo`, `m`.`valor`
    FROM `cliente_has_movimento` AS `c0`
    INNER JOIN `movimento` AS `m` ON `c0`.`idmovimento` = `m`.`idmovimento`
) AS `t0` ON `t`.`idcliente0` = `t0`.`idcliente`
ORDER BY `t`.`idvenda`, `i`.`iditem_venda`, `t0`.`idcliente`, `t0`.`idmovimento`, `t0`.`idmovimento0`
2021-01-25 21:14:37.897 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `movimento` (`descricao`, `hora_entrada`, `idbandeira`, `idcaixa`, `idforma_pagamento`, `idpdv`, `idusuario`, `tipo`, `valor`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT `idmovimento`
FROM `movimento`
WHERE ROW_COUNT() = 1
 AND `idmovimento`=LAST_INSERT_ID();
2021-01-25 21:14:37.904 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p14='?' (DbType = Int32), @p0='?' (DbType = SByte), @p1='?' (DbType = Decimal), @p2='?' (DbType = Decimal), @p3='?' (Size = 255), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = SByte), @p12='?' (DbType = Int32), @p13='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
UPDATE `venda` SET `aberta` = @p0, `acrescimo` = @p1, `desconto` = @p2, `descricao` = @p3, `hora_entrada` = @p4, `hora_fechamento` = @p5, `idcaixa` = @p6, `idcliente` = @p7, `idpdv` = @p8, `idresponsavel` = @p9, `numero_venda` = @p10, `paga` = @p11, `tipo` = @p12, `valor_pago` = @p13
WHERE `idvenda` = @p14;
SELECT ROW_COUNT();
2021-01-25 21:14:37.911 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p15='?' (DbType = Int32), @p16='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `pagamento` (`idvenda`, `idmovimento`)
VALUES (@p15, @p16);
2021-01-25 21:14:37.917 -03:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`3[[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-01-25 21:14:37.922 -03:00 [INF] Executed action FortalezaServer.Controllers.VendasController.PostPagamento (FortalezaServer) in 110.094ms
2021-01-25 21:14:37.928 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.VendasController.PostPagamento (FortalezaServer)'
2021-01-25 21:14:37.930 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/vendas/1?pagamentos=true  
2021-01-25 21:14:37.930 -03:00 [INF] Request finished in 136.2618ms 201 application/json; charset=utf-8
2021-01-25 21:14:37.932 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer)'
2021-01-25 21:14:37.935 -03:00 [INF] Route matched with {action = "GetVenda", controller = "Vendas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FortalezaServer.Models.Venda]] GetVenda(Int32, Boolean, Boolean, Boolean) on controller FortalezaServer.Controllers.VendasController (FortalezaServer).
2021-01-25 21:14:37.940 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-01-25 21:14:37.944 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `v`.`idvenda`, `v`.`aberta`, `v`.`acrescimo`, `v`.`desconto`, `v`.`descricao`, `v`.`hora_entrada`, `v`.`hora_fechamento`, `v`.`idcaixa`, `v`.`idcliente`, `v`.`idpdv`, `v`.`idresponsavel`, `v`.`numero_venda`, `v`.`paga`, `v`.`tipo`, `v`.`valor_pago`
FROM `venda` AS `v`
WHERE `v`.`idvenda` = @__p_0
LIMIT 1
2021-01-25 21:14:37.953 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`iditem_venda`, `i`.`cancelado`, `i`.`custo`, `i`.`iditem`, `i`.`idvenda`, `i`.`indice`, `i`.`quantidade`, `i`.`valor`
FROM `item_venda` AS `i`
WHERE `i`.`idvenda` = @__p_0
2021-01-25 21:14:37.959 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`idvenda`, `p`.`idmovimento`, `m`.`idmovimento`, `m`.`descricao`, `m`.`hora_entrada`, `m`.`idbandeira`, `m`.`idcaixa`, `m`.`idforma_pagamento`, `m`.`idpdv`, `m`.`idusuario`, `m`.`tipo`, `m`.`valor`, `f`.`idforma_pagamento`, `f`.`bandeira`, `f`.`debitar_cliente`, `f`.`debito`, `f`.`gerar_contas_receber`, `f`.`nome`, `f`.`ordem`
FROM `pagamento` AS `p`
INNER JOIN `movimento` AS `m` ON `p`.`idmovimento` = `m`.`idmovimento`
LEFT JOIN `forma_pagamento` AS `f` ON `m`.`idforma_pagamento` = `f`.`idforma_pagamento`
WHERE `p`.`idvenda` = @__p_0
2021-01-25 21:14:37.967 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`idcliente`, `c`.`celular`, `c`.`cpf`, `c`.`email`, `c`.`idendereco`, `c`.`nome`, `c`.`telefone`, `e`.`idendereco`, `e`.`bairro`, `e`.`cep`, `e`.`complemento`, `e`.`descricao`, `e`.`logradouro`, `e`.`municipio`, `e`.`numero`, `e`.`tipo`, `e`.`UF`
FROM `cliente` AS `c`
LEFT JOIN `endereco` AS `e` ON `c`.`idendereco` = `e`.`idendereco`
WHERE `c`.`idcliente` = @__p_0
2021-01-25 21:14:37.972 -03:00 [INF] Executing ObjectResult, writing value of type 'FortalezaServer.Models.Venda'.
2021-01-25 21:14:37.974 -03:00 [INF] Executed action FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer) in 34.9924ms
2021-01-25 21:14:37.976 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer)'
2021-01-25 21:14:37.978 -03:00 [INF] Request finished in 48.5745ms 200 application/json; charset=utf-8
2021-01-25 21:14:37.983 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/vendas/1?pagamentos=true  
2021-01-25 21:14:37.984 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer)'
2021-01-25 21:14:37.986 -03:00 [INF] Route matched with {action = "GetVenda", controller = "Vendas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FortalezaServer.Models.Venda]] GetVenda(Int32, Boolean, Boolean, Boolean) on controller FortalezaServer.Controllers.VendasController (FortalezaServer).
2021-01-25 21:14:37.988 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-01-25 21:14:37.993 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `v`.`idvenda`, `v`.`aberta`, `v`.`acrescimo`, `v`.`desconto`, `v`.`descricao`, `v`.`hora_entrada`, `v`.`hora_fechamento`, `v`.`idcaixa`, `v`.`idcliente`, `v`.`idpdv`, `v`.`idresponsavel`, `v`.`numero_venda`, `v`.`paga`, `v`.`tipo`, `v`.`valor_pago`
FROM `venda` AS `v`
WHERE `v`.`idvenda` = @__p_0
LIMIT 1
2021-01-25 21:14:37.998 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`iditem_venda`, `i`.`cancelado`, `i`.`custo`, `i`.`iditem`, `i`.`idvenda`, `i`.`indice`, `i`.`quantidade`, `i`.`valor`
FROM `item_venda` AS `i`
WHERE `i`.`idvenda` = @__p_0
2021-01-25 21:14:38.004 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`idvenda`, `p`.`idmovimento`, `m`.`idmovimento`, `m`.`descricao`, `m`.`hora_entrada`, `m`.`idbandeira`, `m`.`idcaixa`, `m`.`idforma_pagamento`, `m`.`idpdv`, `m`.`idusuario`, `m`.`tipo`, `m`.`valor`, `f`.`idforma_pagamento`, `f`.`bandeira`, `f`.`debitar_cliente`, `f`.`debito`, `f`.`gerar_contas_receber`, `f`.`nome`, `f`.`ordem`
FROM `pagamento` AS `p`
INNER JOIN `movimento` AS `m` ON `p`.`idmovimento` = `m`.`idmovimento`
LEFT JOIN `forma_pagamento` AS `f` ON `m`.`idforma_pagamento` = `f`.`idforma_pagamento`
WHERE `p`.`idvenda` = @__p_0
2021-01-25 21:14:38.014 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`idcliente`, `c`.`celular`, `c`.`cpf`, `c`.`email`, `c`.`idendereco`, `c`.`nome`, `c`.`telefone`, `e`.`idendereco`, `e`.`bairro`, `e`.`cep`, `e`.`complemento`, `e`.`descricao`, `e`.`logradouro`, `e`.`municipio`, `e`.`numero`, `e`.`tipo`, `e`.`UF`
FROM `cliente` AS `c`
LEFT JOIN `endereco` AS `e` ON `c`.`idendereco` = `e`.`idendereco`
WHERE `c`.`idcliente` = @__p_0
2021-01-25 21:14:38.017 -03:00 [INF] Executing ObjectResult, writing value of type 'FortalezaServer.Models.Venda'.
2021-01-25 21:14:38.018 -03:00 [INF] Executed action FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer) in 30.1031ms
2021-01-25 21:14:38.020 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer)'
2021-01-25 21:14:38.022 -03:00 [INF] Request finished in 39.1372ms 200 application/json; charset=utf-8
2021-01-25 21:14:47.118 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8000/api/vendas/1/pagamentos application/json; charset=utf-8 604
2021-01-25 21:14:47.119 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.VendasController.PostPagamento (FortalezaServer)'
2021-01-25 21:14:47.122 -03:00 [INF] Route matched with {action = "PostPagamento", controller = "Vendas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FortalezaServer.Models.Venda]] PostPagamento(Int32, FortalezaServer.Models.Pagamento) on controller FortalezaServer.Controllers.VendasController (FortalezaServer).
2021-01-25 21:14:47.127 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-01-25 21:14:47.133 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`idvenda`, `t`.`aberta`, `t`.`acrescimo`, `t`.`desconto`, `t`.`descricao`, `t`.`hora_entrada`, `t`.`hora_fechamento`, `t`.`idcaixa`, `t`.`idcliente`, `t`.`idpdv`, `t`.`idresponsavel`, `t`.`numero_venda`, `t`.`paga`, `t`.`tipo`, `t`.`valor_pago`, `t`.`idcliente0`, `t`.`celular`, `t`.`cpf`, `t`.`email`, `t`.`idendereco`, `t`.`nome`, `t`.`telefone`, `i`.`iditem_venda`, `i`.`cancelado`, `i`.`custo`, `i`.`iditem`, `i`.`idvenda`, `i`.`indice`, `i`.`quantidade`, `i`.`valor`, `t0`.`idcliente`, `t0`.`idmovimento`, `t0`.`idmovimento0`, `t0`.`descricao`, `t0`.`hora_entrada`, `t0`.`idbandeira`, `t0`.`idcaixa`, `t0`.`idforma_pagamento`, `t0`.`idpdv`, `t0`.`idusuario`, `t0`.`tipo`, `t0`.`valor`
FROM (
    SELECT `v`.`idvenda`, `v`.`aberta`, `v`.`acrescimo`, `v`.`desconto`, `v`.`descricao`, `v`.`hora_entrada`, `v`.`hora_fechamento`, `v`.`idcaixa`, `v`.`idcliente`, `v`.`idpdv`, `v`.`idresponsavel`, `v`.`numero_venda`, `v`.`paga`, `v`.`tipo`, `v`.`valor_pago`, `c`.`idcliente` AS `idcliente0`, `c`.`celular`, `c`.`cpf`, `c`.`email`, `c`.`idendereco`, `c`.`nome`, `c`.`telefone`
    FROM `venda` AS `v`
    LEFT JOIN `cliente` AS `c` ON `v`.`idcliente` = `c`.`idcliente`
    LIMIT 1
) AS `t`
LEFT JOIN `item_venda` AS `i` ON `t`.`idvenda` = `i`.`idvenda`
LEFT JOIN (
    SELECT `c0`.`idcliente`, `c0`.`idmovimento`, `m`.`idmovimento` AS `idmovimento0`, `m`.`descricao`, `m`.`hora_entrada`, `m`.`idbandeira`, `m`.`idcaixa`, `m`.`idforma_pagamento`, `m`.`idpdv`, `m`.`idusuario`, `m`.`tipo`, `m`.`valor`
    FROM `cliente_has_movimento` AS `c0`
    INNER JOIN `movimento` AS `m` ON `c0`.`idmovimento` = `m`.`idmovimento`
) AS `t0` ON `t`.`idcliente0` = `t0`.`idcliente`
ORDER BY `t`.`idvenda`, `i`.`iditem_venda`, `t0`.`idcliente`, `t0`.`idmovimento`, `t0`.`idmovimento0`
2021-01-25 21:14:47.157 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `movimento` (`descricao`, `hora_entrada`, `idbandeira`, `idcaixa`, `idforma_pagamento`, `idpdv`, `idusuario`, `tipo`, `valor`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT `idmovimento`
FROM `movimento`
WHERE ROW_COUNT() = 1
 AND `idmovimento`=LAST_INSERT_ID();
2021-01-25 21:14:47.164 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p14='?' (DbType = Int32), @p0='?' (DbType = SByte), @p1='?' (DbType = Decimal), @p2='?' (DbType = Decimal), @p3='?' (Size = 255), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = SByte), @p12='?' (DbType = Int32), @p13='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
UPDATE `venda` SET `aberta` = @p0, `acrescimo` = @p1, `desconto` = @p2, `descricao` = @p3, `hora_entrada` = @p4, `hora_fechamento` = @p5, `idcaixa` = @p6, `idcliente` = @p7, `idpdv` = @p8, `idresponsavel` = @p9, `numero_venda` = @p10, `paga` = @p11, `tipo` = @p12, `valor_pago` = @p13
WHERE `idvenda` = @p14;
SELECT ROW_COUNT();
2021-01-25 21:14:47.170 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p15='?' (DbType = Int32), @p16='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `pagamento` (`idvenda`, `idmovimento`)
VALUES (@p15, @p16);
2021-01-25 21:14:47.178 -03:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`3[[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-01-25 21:14:47.190 -03:00 [INF] Executed action FortalezaServer.Controllers.VendasController.PostPagamento (FortalezaServer) in 64.5479ms
2021-01-25 21:14:47.192 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.VendasController.PostPagamento (FortalezaServer)'
2021-01-25 21:14:47.195 -03:00 [INF] Request finished in 77.3248ms 201 application/json; charset=utf-8
2021-01-25 21:14:47.200 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/vendas/1?pagamentos=true  
2021-01-25 21:14:47.203 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer)'
2021-01-25 21:14:47.204 -03:00 [INF] Route matched with {action = "GetVenda", controller = "Vendas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FortalezaServer.Models.Venda]] GetVenda(Int32, Boolean, Boolean, Boolean) on controller FortalezaServer.Controllers.VendasController (FortalezaServer).
2021-01-25 21:14:47.209 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-01-25 21:14:47.213 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `v`.`idvenda`, `v`.`aberta`, `v`.`acrescimo`, `v`.`desconto`, `v`.`descricao`, `v`.`hora_entrada`, `v`.`hora_fechamento`, `v`.`idcaixa`, `v`.`idcliente`, `v`.`idpdv`, `v`.`idresponsavel`, `v`.`numero_venda`, `v`.`paga`, `v`.`tipo`, `v`.`valor_pago`
FROM `venda` AS `v`
WHERE `v`.`idvenda` = @__p_0
LIMIT 1
2021-01-25 21:14:47.219 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`iditem_venda`, `i`.`cancelado`, `i`.`custo`, `i`.`iditem`, `i`.`idvenda`, `i`.`indice`, `i`.`quantidade`, `i`.`valor`
FROM `item_venda` AS `i`
WHERE `i`.`idvenda` = @__p_0
2021-01-25 21:14:47.225 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`idvenda`, `p`.`idmovimento`, `m`.`idmovimento`, `m`.`descricao`, `m`.`hora_entrada`, `m`.`idbandeira`, `m`.`idcaixa`, `m`.`idforma_pagamento`, `m`.`idpdv`, `m`.`idusuario`, `m`.`tipo`, `m`.`valor`, `f`.`idforma_pagamento`, `f`.`bandeira`, `f`.`debitar_cliente`, `f`.`debito`, `f`.`gerar_contas_receber`, `f`.`nome`, `f`.`ordem`
FROM `pagamento` AS `p`
INNER JOIN `movimento` AS `m` ON `p`.`idmovimento` = `m`.`idmovimento`
LEFT JOIN `forma_pagamento` AS `f` ON `m`.`idforma_pagamento` = `f`.`idforma_pagamento`
WHERE `p`.`idvenda` = @__p_0
2021-01-25 21:14:47.232 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`idcliente`, `c`.`celular`, `c`.`cpf`, `c`.`email`, `c`.`idendereco`, `c`.`nome`, `c`.`telefone`, `e`.`idendereco`, `e`.`bairro`, `e`.`cep`, `e`.`complemento`, `e`.`descricao`, `e`.`logradouro`, `e`.`municipio`, `e`.`numero`, `e`.`tipo`, `e`.`UF`
FROM `cliente` AS `c`
LEFT JOIN `endereco` AS `e` ON `c`.`idendereco` = `e`.`idendereco`
WHERE `c`.`idcliente` = @__p_0
2021-01-25 21:14:47.238 -03:00 [INF] Executing ObjectResult, writing value of type 'FortalezaServer.Models.Venda'.
2021-01-25 21:14:47.240 -03:00 [INF] Executed action FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer) in 31.9841ms
2021-01-25 21:14:47.243 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer)'
2021-01-25 21:14:47.248 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/vendas/1?pagamentos=true  
2021-01-25 21:14:47.249 -03:00 [INF] Request finished in 48.5012ms 200 application/json; charset=utf-8
2021-01-25 21:14:47.250 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer)'
2021-01-25 21:14:47.253 -03:00 [INF] Route matched with {action = "GetVenda", controller = "Vendas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FortalezaServer.Models.Venda]] GetVenda(Int32, Boolean, Boolean, Boolean) on controller FortalezaServer.Controllers.VendasController (FortalezaServer).
2021-01-25 21:14:47.257 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-01-25 21:14:47.260 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `v`.`idvenda`, `v`.`aberta`, `v`.`acrescimo`, `v`.`desconto`, `v`.`descricao`, `v`.`hora_entrada`, `v`.`hora_fechamento`, `v`.`idcaixa`, `v`.`idcliente`, `v`.`idpdv`, `v`.`idresponsavel`, `v`.`numero_venda`, `v`.`paga`, `v`.`tipo`, `v`.`valor_pago`
FROM `venda` AS `v`
WHERE `v`.`idvenda` = @__p_0
LIMIT 1
2021-01-25 21:14:47.267 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`iditem_venda`, `i`.`cancelado`, `i`.`custo`, `i`.`iditem`, `i`.`idvenda`, `i`.`indice`, `i`.`quantidade`, `i`.`valor`
FROM `item_venda` AS `i`
WHERE `i`.`idvenda` = @__p_0
2021-01-25 21:14:47.271 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`idvenda`, `p`.`idmovimento`, `m`.`idmovimento`, `m`.`descricao`, `m`.`hora_entrada`, `m`.`idbandeira`, `m`.`idcaixa`, `m`.`idforma_pagamento`, `m`.`idpdv`, `m`.`idusuario`, `m`.`tipo`, `m`.`valor`, `f`.`idforma_pagamento`, `f`.`bandeira`, `f`.`debitar_cliente`, `f`.`debito`, `f`.`gerar_contas_receber`, `f`.`nome`, `f`.`ordem`
FROM `pagamento` AS `p`
INNER JOIN `movimento` AS `m` ON `p`.`idmovimento` = `m`.`idmovimento`
LEFT JOIN `forma_pagamento` AS `f` ON `m`.`idforma_pagamento` = `f`.`idforma_pagamento`
WHERE `p`.`idvenda` = @__p_0
2021-01-25 21:14:47.282 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`idcliente`, `c`.`celular`, `c`.`cpf`, `c`.`email`, `c`.`idendereco`, `c`.`nome`, `c`.`telefone`, `e`.`idendereco`, `e`.`bairro`, `e`.`cep`, `e`.`complemento`, `e`.`descricao`, `e`.`logradouro`, `e`.`municipio`, `e`.`numero`, `e`.`tipo`, `e`.`UF`
FROM `cliente` AS `c`
LEFT JOIN `endereco` AS `e` ON `c`.`idendereco` = `e`.`idendereco`
WHERE `c`.`idcliente` = @__p_0
2021-01-25 21:14:47.287 -03:00 [INF] Executing ObjectResult, writing value of type 'FortalezaServer.Models.Venda'.
2021-01-25 21:14:47.288 -03:00 [INF] Executed action FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer) in 32.2576ms
2021-01-25 21:14:47.290 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer)'
2021-01-25 21:14:47.296 -03:00 [INF] Request finished in 47.9688ms 200 application/json; charset=utf-8
2021-01-25 21:14:50.000 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8000/api/vendas/1/pagamentos application/json; charset=utf-8 603
2021-01-25 21:14:50.002 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.VendasController.PostPagamento (FortalezaServer)'
2021-01-25 21:14:50.004 -03:00 [INF] Route matched with {action = "PostPagamento", controller = "Vendas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FortalezaServer.Models.Venda]] PostPagamento(Int32, FortalezaServer.Models.Pagamento) on controller FortalezaServer.Controllers.VendasController (FortalezaServer).
2021-01-25 21:14:50.017 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-01-25 21:14:50.023 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`idvenda`, `t`.`aberta`, `t`.`acrescimo`, `t`.`desconto`, `t`.`descricao`, `t`.`hora_entrada`, `t`.`hora_fechamento`, `t`.`idcaixa`, `t`.`idcliente`, `t`.`idpdv`, `t`.`idresponsavel`, `t`.`numero_venda`, `t`.`paga`, `t`.`tipo`, `t`.`valor_pago`, `t`.`idcliente0`, `t`.`celular`, `t`.`cpf`, `t`.`email`, `t`.`idendereco`, `t`.`nome`, `t`.`telefone`, `i`.`iditem_venda`, `i`.`cancelado`, `i`.`custo`, `i`.`iditem`, `i`.`idvenda`, `i`.`indice`, `i`.`quantidade`, `i`.`valor`, `t0`.`idcliente`, `t0`.`idmovimento`, `t0`.`idmovimento0`, `t0`.`descricao`, `t0`.`hora_entrada`, `t0`.`idbandeira`, `t0`.`idcaixa`, `t0`.`idforma_pagamento`, `t0`.`idpdv`, `t0`.`idusuario`, `t0`.`tipo`, `t0`.`valor`
FROM (
    SELECT `v`.`idvenda`, `v`.`aberta`, `v`.`acrescimo`, `v`.`desconto`, `v`.`descricao`, `v`.`hora_entrada`, `v`.`hora_fechamento`, `v`.`idcaixa`, `v`.`idcliente`, `v`.`idpdv`, `v`.`idresponsavel`, `v`.`numero_venda`, `v`.`paga`, `v`.`tipo`, `v`.`valor_pago`, `c`.`idcliente` AS `idcliente0`, `c`.`celular`, `c`.`cpf`, `c`.`email`, `c`.`idendereco`, `c`.`nome`, `c`.`telefone`
    FROM `venda` AS `v`
    LEFT JOIN `cliente` AS `c` ON `v`.`idcliente` = `c`.`idcliente`
    LIMIT 1
) AS `t`
LEFT JOIN `item_venda` AS `i` ON `t`.`idvenda` = `i`.`idvenda`
LEFT JOIN (
    SELECT `c0`.`idcliente`, `c0`.`idmovimento`, `m`.`idmovimento` AS `idmovimento0`, `m`.`descricao`, `m`.`hora_entrada`, `m`.`idbandeira`, `m`.`idcaixa`, `m`.`idforma_pagamento`, `m`.`idpdv`, `m`.`idusuario`, `m`.`tipo`, `m`.`valor`
    FROM `cliente_has_movimento` AS `c0`
    INNER JOIN `movimento` AS `m` ON `c0`.`idmovimento` = `m`.`idmovimento`
) AS `t0` ON `t`.`idcliente0` = `t0`.`idcliente`
ORDER BY `t`.`idvenda`, `i`.`iditem_venda`, `t0`.`idcliente`, `t0`.`idmovimento`, `t0`.`idmovimento0`
2021-01-25 21:14:50.037 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `movimento` (`descricao`, `hora_entrada`, `idbandeira`, `idcaixa`, `idforma_pagamento`, `idpdv`, `idusuario`, `tipo`, `valor`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT `idmovimento`
FROM `movimento`
WHERE ROW_COUNT() = 1
 AND `idmovimento`=LAST_INSERT_ID();
2021-01-25 21:14:50.048 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p14='?' (DbType = Int32), @p0='?' (DbType = SByte), @p1='?' (DbType = Decimal), @p2='?' (DbType = Decimal), @p3='?' (Size = 255), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = SByte), @p12='?' (DbType = Int32), @p13='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
UPDATE `venda` SET `aberta` = @p0, `acrescimo` = @p1, `desconto` = @p2, `descricao` = @p3, `hora_entrada` = @p4, `hora_fechamento` = @p5, `idcaixa` = @p6, `idcliente` = @p7, `idpdv` = @p8, `idresponsavel` = @p9, `numero_venda` = @p10, `paga` = @p11, `tipo` = @p12, `valor_pago` = @p13
WHERE `idvenda` = @p14;
SELECT ROW_COUNT();
2021-01-25 21:14:50.053 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p15='?' (DbType = Int32), @p16='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `pagamento` (`idvenda`, `idmovimento`)
VALUES (@p15, @p16);
2021-01-25 21:14:50.060 -03:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`3[[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-01-25 21:14:50.063 -03:00 [INF] Executed action FortalezaServer.Controllers.VendasController.PostPagamento (FortalezaServer) in 46.7429ms
2021-01-25 21:14:50.066 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/vendas/1?pagamentos=true  
2021-01-25 21:14:50.066 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.VendasController.PostPagamento (FortalezaServer)'
2021-01-25 21:14:50.068 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer)'
2021-01-25 21:14:50.069 -03:00 [INF] Request finished in 68.8927ms 201 application/json; charset=utf-8
2021-01-25 21:14:50.071 -03:00 [INF] Route matched with {action = "GetVenda", controller = "Vendas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FortalezaServer.Models.Venda]] GetVenda(Int32, Boolean, Boolean, Boolean) on controller FortalezaServer.Controllers.VendasController (FortalezaServer).
2021-01-25 21:14:50.080 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-01-25 21:14:50.083 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `v`.`idvenda`, `v`.`aberta`, `v`.`acrescimo`, `v`.`desconto`, `v`.`descricao`, `v`.`hora_entrada`, `v`.`hora_fechamento`, `v`.`idcaixa`, `v`.`idcliente`, `v`.`idpdv`, `v`.`idresponsavel`, `v`.`numero_venda`, `v`.`paga`, `v`.`tipo`, `v`.`valor_pago`
FROM `venda` AS `v`
WHERE `v`.`idvenda` = @__p_0
LIMIT 1
2021-01-25 21:14:50.091 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`iditem_venda`, `i`.`cancelado`, `i`.`custo`, `i`.`iditem`, `i`.`idvenda`, `i`.`indice`, `i`.`quantidade`, `i`.`valor`
FROM `item_venda` AS `i`
WHERE `i`.`idvenda` = @__p_0
2021-01-25 21:14:50.098 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`idvenda`, `p`.`idmovimento`, `m`.`idmovimento`, `m`.`descricao`, `m`.`hora_entrada`, `m`.`idbandeira`, `m`.`idcaixa`, `m`.`idforma_pagamento`, `m`.`idpdv`, `m`.`idusuario`, `m`.`tipo`, `m`.`valor`, `f`.`idforma_pagamento`, `f`.`bandeira`, `f`.`debitar_cliente`, `f`.`debito`, `f`.`gerar_contas_receber`, `f`.`nome`, `f`.`ordem`
FROM `pagamento` AS `p`
INNER JOIN `movimento` AS `m` ON `p`.`idmovimento` = `m`.`idmovimento`
LEFT JOIN `forma_pagamento` AS `f` ON `m`.`idforma_pagamento` = `f`.`idforma_pagamento`
WHERE `p`.`idvenda` = @__p_0
2021-01-25 21:14:50.110 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`idcliente`, `c`.`celular`, `c`.`cpf`, `c`.`email`, `c`.`idendereco`, `c`.`nome`, `c`.`telefone`, `e`.`idendereco`, `e`.`bairro`, `e`.`cep`, `e`.`complemento`, `e`.`descricao`, `e`.`logradouro`, `e`.`municipio`, `e`.`numero`, `e`.`tipo`, `e`.`UF`
FROM `cliente` AS `c`
LEFT JOIN `endereco` AS `e` ON `c`.`idendereco` = `e`.`idendereco`
WHERE `c`.`idcliente` = @__p_0
2021-01-25 21:14:50.116 -03:00 [INF] Executing ObjectResult, writing value of type 'FortalezaServer.Models.Venda'.
2021-01-25 21:14:50.118 -03:00 [INF] Executed action FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer) in 39.0416ms
2021-01-25 21:14:50.120 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer)'
2021-01-25 21:14:50.122 -03:00 [INF] Request finished in 55.7662ms 200 application/json; charset=utf-8
2021-01-25 21:14:50.122 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/vendas/1?pagamentos=true  
2021-01-25 21:14:50.129 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer)'
2021-01-25 21:14:50.131 -03:00 [INF] Route matched with {action = "GetVenda", controller = "Vendas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FortalezaServer.Models.Venda]] GetVenda(Int32, Boolean, Boolean, Boolean) on controller FortalezaServer.Controllers.VendasController (FortalezaServer).
2021-01-25 21:14:50.138 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-01-25 21:14:50.142 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `v`.`idvenda`, `v`.`aberta`, `v`.`acrescimo`, `v`.`desconto`, `v`.`descricao`, `v`.`hora_entrada`, `v`.`hora_fechamento`, `v`.`idcaixa`, `v`.`idcliente`, `v`.`idpdv`, `v`.`idresponsavel`, `v`.`numero_venda`, `v`.`paga`, `v`.`tipo`, `v`.`valor_pago`
FROM `venda` AS `v`
WHERE `v`.`idvenda` = @__p_0
LIMIT 1
2021-01-25 21:14:50.150 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`iditem_venda`, `i`.`cancelado`, `i`.`custo`, `i`.`iditem`, `i`.`idvenda`, `i`.`indice`, `i`.`quantidade`, `i`.`valor`
FROM `item_venda` AS `i`
WHERE `i`.`idvenda` = @__p_0
2021-01-25 21:14:50.158 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`idvenda`, `p`.`idmovimento`, `m`.`idmovimento`, `m`.`descricao`, `m`.`hora_entrada`, `m`.`idbandeira`, `m`.`idcaixa`, `m`.`idforma_pagamento`, `m`.`idpdv`, `m`.`idusuario`, `m`.`tipo`, `m`.`valor`, `f`.`idforma_pagamento`, `f`.`bandeira`, `f`.`debitar_cliente`, `f`.`debito`, `f`.`gerar_contas_receber`, `f`.`nome`, `f`.`ordem`
FROM `pagamento` AS `p`
INNER JOIN `movimento` AS `m` ON `p`.`idmovimento` = `m`.`idmovimento`
LEFT JOIN `forma_pagamento` AS `f` ON `m`.`idforma_pagamento` = `f`.`idforma_pagamento`
WHERE `p`.`idvenda` = @__p_0
2021-01-25 21:14:50.164 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`idcliente`, `c`.`celular`, `c`.`cpf`, `c`.`email`, `c`.`idendereco`, `c`.`nome`, `c`.`telefone`, `e`.`idendereco`, `e`.`bairro`, `e`.`cep`, `e`.`complemento`, `e`.`descricao`, `e`.`logradouro`, `e`.`municipio`, `e`.`numero`, `e`.`tipo`, `e`.`UF`
FROM `cliente` AS `c`
LEFT JOIN `endereco` AS `e` ON `c`.`idendereco` = `e`.`idendereco`
WHERE `c`.`idcliente` = @__p_0
2021-01-25 21:14:50.171 -03:00 [INF] Executing ObjectResult, writing value of type 'FortalezaServer.Models.Venda'.
2021-01-25 21:14:50.172 -03:00 [INF] Executed action FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer) in 34.982ms
2021-01-25 21:14:50.173 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer)'
2021-01-25 21:14:50.176 -03:00 [INF] Request finished in 53.9174ms 200 application/json; charset=utf-8
2021-01-25 21:14:53.969 -03:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:8000/api/movimentos/3  
2021-01-25 21:14:53.970 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.MovimentosController.DeleteMovimento (FortalezaServer)'
2021-01-25 21:14:53.976 -03:00 [INF] Route matched with {action = "DeleteMovimento", controller = "Movimentos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FortalezaServer.Models.Movimento]] DeleteMovimento(Int32) on controller FortalezaServer.Controllers.MovimentosController (FortalezaServer).
2021-01-25 21:14:53.984 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-01-25 21:14:53.995 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `m`.`idmovimento`, `m`.`descricao`, `m`.`hora_entrada`, `m`.`idbandeira`, `m`.`idcaixa`, `m`.`idforma_pagamento`, `m`.`idpdv`, `m`.`idusuario`, `m`.`tipo`, `m`.`valor`
FROM `movimento` AS `m`
WHERE `m`.`idmovimento` = @__p_0
LIMIT 1
2021-01-25 21:15:02.168 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`idvenda`, `p`.`idmovimento`, `v`.`idvenda`, `v`.`aberta`, `v`.`acrescimo`, `v`.`desconto`, `v`.`descricao`, `v`.`hora_entrada`, `v`.`hora_fechamento`, `v`.`idcaixa`, `v`.`idcliente`, `v`.`idpdv`, `v`.`idresponsavel`, `v`.`numero_venda`, `v`.`paga`, `v`.`tipo`, `v`.`valor_pago`
FROM `pagamento` AS `p`
INNER JOIN `venda` AS `v` ON `p`.`idvenda` = `v`.`idvenda`
WHERE `p`.`idmovimento` = @__p_0
2021-01-25 21:16:29.646 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM `pagamento`
WHERE `idvenda` = @p0 AND `idmovimento` = @p1;
SELECT ROW_COUNT();
2021-01-25 21:16:29.650 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p14='?' (DbType = Int32), @p0='?' (DbType = SByte), @p1='?' (DbType = Decimal), @p2='?' (DbType = Decimal), @p3='?' (Size = 255), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = SByte), @p12='?' (DbType = Int32), @p13='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
UPDATE `venda` SET `aberta` = @p0, `acrescimo` = @p1, `desconto` = @p2, `descricao` = @p3, `hora_entrada` = @p4, `hora_fechamento` = @p5, `idcaixa` = @p6, `idcliente` = @p7, `idpdv` = @p8, `idresponsavel` = @p9, `numero_venda` = @p10, `paga` = @p11, `tipo` = @p12, `valor_pago` = @p13
WHERE `idvenda` = @p14;
SELECT ROW_COUNT();
2021-01-25 21:16:29.657 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p15='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM `movimento`
WHERE `idmovimento` = @p15;
SELECT ROW_COUNT();
