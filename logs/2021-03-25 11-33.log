2021-03-25 11:33:26.935 -03:00 [INF] Starting web host
2021-03-25 11:33:28.366 -03:00 [INF] Now listening on: http://[::]:8000
2021-03-25 11:33:28.371 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-03-25 11:33:28.372 -03:00 [INF] Hosting environment: Development
2021-03-25 11:33:28.373 -03:00 [INF] Content root path: C:\Users\felip\source\repos\FortalezaServer
2021-03-25 11:33:29.596 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/status  
2021-03-25 11:33:29.652 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.IndexController.GetStatus (FortalezaServer)'
2021-03-25 11:33:29.711 -03:00 [INF] Route matched with {action = "GetStatus", controller = "Index"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FortalezaServer.Controllers.IndexController+Status]] GetStatus() on controller FortalezaServer.Controllers.IndexController (FortalezaServer).
2021-03-25 11:33:31.083 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-03-25 11:33:31.528 -03:00 [INF] Executing ObjectResult, writing value of type 'FortalezaServer.Controllers.IndexController+Status'.
2021-03-25 11:33:31.653 -03:00 [INF] Executed action FortalezaServer.Controllers.IndexController.GetStatus (FortalezaServer) in 1935.5896ms
2021-03-25 11:33:31.657 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.IndexController.GetStatus (FortalezaServer)'
2021-03-25 11:33:31.662 -03:00 [INF] Request finished in 2069.2928ms 200 application/json; charset=utf-8
2021-03-25 11:33:31.746 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/favicon.ico  
2021-03-25 11:33:31.755 -03:00 [INF] Request finished in 8.8478ms 404 
2021-03-25 11:33:34.353 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/vendas  
2021-03-25 11:33:34.357 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer)'
2021-03-25 11:33:34.370 -03:00 [INF] Route matched with {action = "GetVenda", controller = "Vendas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[FortalezaServer.Models.Venda]]] GetVenda(Int32, Boolean, Boolean, System.String, System.String, System.String) on controller FortalezaServer.Controllers.VendasController (FortalezaServer).
2021-03-25 11:33:34.398 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-03-25 11:33:34.672 -03:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `v`.`idvenda`, `v`.`aberta`, `v`.`acrescimo`, `v`.`desconto`, `v`.`descricao`, `v`.`hora_entrada`, `v`.`hora_fechamento`, `v`.`idcaixa`, `v`.`idcliente`, `v`.`idpdv`, `v`.`idresponsavel`, `v`.`numero_venda`, `v`.`paga`, `v`.`tipo`, `v`.`valor_pago`, `i`.`iditem_venda`, `i`.`cancelado`, `i`.`custo`, `i`.`iditem`, `i`.`idvenda`, `i`.`indice`, `i`.`quantidade`, `i`.`valor`
FROM `venda` AS `v`
LEFT JOIN `item_venda` AS `i` ON `v`.`idvenda` = `i`.`idvenda`
ORDER BY `v`.`idvenda`, `i`.`iditem_venda`
2021-03-25 11:33:34.683 -03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[FortalezaServer.Models.Venda, FortalezaServer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-03-25 11:33:34.692 -03:00 [INF] Executed action FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer) in 320.0894ms
2021-03-25 11:33:34.694 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer)'
2021-03-25 11:33:34.697 -03:00 [INF] Request finished in 343.8491ms 200 application/json; charset=utf-8
2021-03-25 11:33:57.878 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api  
2021-03-25 11:33:57.880 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.IndexController.Get (FortalezaServer)'
2021-03-25 11:33:57.885 -03:00 [INF] Route matched with {action = "Get", controller = "Index"}. Executing controller action with signature System.String Get() on controller FortalezaServer.Controllers.IndexController (FortalezaServer).
2021-03-25 11:33:57.889 -03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2021-03-25 11:33:57.891 -03:00 [INF] Executed action FortalezaServer.Controllers.IndexController.Get (FortalezaServer) in 4.3138ms
2021-03-25 11:33:57.893 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.IndexController.Get (FortalezaServer)'
2021-03-25 11:33:57.895 -03:00 [INF] Request finished in 16.9102ms 200 text/plain; charset=utf-8
2021-03-25 11:33:57.941 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api  
2021-03-25 11:33:57.942 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.IndexController.Get (FortalezaServer)'
2021-03-25 11:33:57.944 -03:00 [INF] Route matched with {action = "Get", controller = "Index"}. Executing controller action with signature System.String Get() on controller FortalezaServer.Controllers.IndexController (FortalezaServer).
2021-03-25 11:33:57.948 -03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2021-03-25 11:33:57.950 -03:00 [INF] Executed action FortalezaServer.Controllers.IndexController.Get (FortalezaServer) in 2.1078ms
2021-03-25 11:33:57.952 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.IndexController.Get (FortalezaServer)'
2021-03-25 11:33:57.953 -03:00 [INF] Request finished in 12.0997ms 200 text/plain; charset=utf-8
2021-03-25 11:33:58.082 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/vendas/actions/aberta  
2021-03-25 11:33:58.083 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.VendasController.GetVendaAberta (FortalezaServer)'
2021-03-25 11:33:58.091 -03:00 [INF] Route matched with {action = "GetVendaAberta", controller = "Vendas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Int32]] GetVendaAberta(Int32) on controller FortalezaServer.Controllers.VendasController (FortalezaServer).
2021-03-25 11:33:58.133 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-03-25 11:33:58.162 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__tipo_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `v`.`idvenda`, `v`.`aberta`, `v`.`acrescimo`, `v`.`desconto`, `v`.`descricao`, `v`.`hora_entrada`, `v`.`hora_fechamento`, `v`.`idcaixa`, `v`.`idcliente`, `v`.`idpdv`, `v`.`idresponsavel`, `v`.`numero_venda`, `v`.`paga`, `v`.`tipo`, `v`.`valor_pago`
FROM `venda` AS `v`
WHERE (`v`.`aberta` = 1) & (`v`.`tipo` = @__tipo_0)
LIMIT 1
2021-03-25 11:33:58.173 -03:00 [INF] Executing ObjectResult, writing value of type 'System.Int32'.
2021-03-25 11:33:58.175 -03:00 [INF] Executed action FortalezaServer.Controllers.VendasController.GetVendaAberta (FortalezaServer) in 79.32ms
2021-03-25 11:33:58.178 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.VendasController.GetVendaAberta (FortalezaServer)'
2021-03-25 11:33:58.181 -03:00 [INF] Request finished in 99.988ms 200 application/json; charset=utf-8
2021-03-25 11:33:58.239 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/grupos  
2021-03-25 11:33:58.241 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.GruposController.GetGrupo (FortalezaServer)'
2021-03-25 11:33:58.245 -03:00 [INF] Route matched with {action = "GetGrupo", controller = "Grupos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[FortalezaServer.Models.Grupo]]] GetGrupo() on controller FortalezaServer.Controllers.GruposController (FortalezaServer).
2021-03-25 11:33:58.249 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-03-25 11:33:58.265 -03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`idgrupo`, `g`.`descricao`, `g`.`nome`, `g`.`visivel`
FROM `grupo` AS `g`
2021-03-25 11:33:58.316 -03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[FortalezaServer.Models.Grupo, FortalezaServer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-03-25 11:33:58.329 -03:00 [INF] Executed action FortalezaServer.Controllers.GruposController.GetGrupo (FortalezaServer) in 81.2027ms
2021-03-25 11:33:58.335 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.GruposController.GetGrupo (FortalezaServer)'
2021-03-25 11:33:58.337 -03:00 [INF] Request finished in 97.8244ms 200 application/json; charset=utf-8
2021-03-25 11:33:58.442 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/items  
2021-03-25 11:33:58.443 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.ItemsController.GetItem (FortalezaServer)'
2021-03-25 11:33:58.449 -03:00 [INF] Route matched with {action = "GetItem", controller = "Items"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[FortalezaServer.Models.Item]]] GetItem(Boolean, Boolean, Boolean, System.String) on controller FortalezaServer.Controllers.ItemsController (FortalezaServer).
2021-03-25 11:33:58.457 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-03-25 11:33:58.478 -03:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`iditem`, `i`.`atacado`, `i`.`codigo_barras`, `i`.`descricao`, `i`.`disponivel`, `i`.`estoque`, `i`.`estoque_minimo`, `i`.`imagem`, `i`.`permite_combo`, `i`.`quantidade_atacado`, `i`.`tipo`, `i`.`unidade`, `i`.`unidade_inteira`, `i`.`valor`, `i`.`valor_atacado`, `i`.`visivel`
FROM `item` AS `i`
WHERE `i`.`visivel` = 1
2021-03-25 11:33:58.515 -03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[FortalezaServer.Models.Item, FortalezaServer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-03-25 11:33:58.540 -03:00 [INF] Executed action FortalezaServer.Controllers.ItemsController.GetItem (FortalezaServer) in 87.0457ms
2021-03-25 11:33:58.542 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.ItemsController.GetItem (FortalezaServer)'
2021-03-25 11:33:58.543 -03:00 [INF] Request finished in 101.1018ms 200 application/json; charset=utf-8
2021-03-25 11:34:01.860 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/caixas/actions/aberto?idnomeCaixa=1  
2021-03-25 11:34:01.862 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.CaixasController.GetCaixaAberto (FortalezaServer)'
2021-03-25 11:34:01.868 -03:00 [INF] Route matched with {action = "GetCaixaAberto", controller = "Caixas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FortalezaServer.Models.Caixa]] GetCaixaAberto(Int32, Boolean) on controller FortalezaServer.Controllers.CaixasController (FortalezaServer).
2021-03-25 11:34:01.876 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-03-25 11:34:01.963 -03:00 [INF] Executed DbCommand (50ms) [Parameters=[@__idnomeCaixa_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`idcaixa`, `c`.`aberto`, `c`.`idnome_caixa`, `n`.`idnome_caixa`, `n`.`nome`, `a`.`idcaixa`, `a`.`hora`, `a`.`idpdv`, `a`.`idusuario`, `p`.`idpdv`, `p`.`nome`, `u`.`idusuario`, `u`.`cpf`, `u`.`idendereco`, `u`.`login`, `u`.`nome`, `u`.`senha`, `u`.`telefone1`, `u`.`telefone2`
FROM `caixa` AS `c`
INNER JOIN `nome_caixa` AS `n` ON `c`.`idnome_caixa` = `n`.`idnome_caixa`
LEFT JOIN `abertura` AS `a` ON `c`.`idcaixa` = `a`.`idcaixa`
LEFT JOIN `pdv` AS `p` ON `a`.`idpdv` = `p`.`idpdv`
LEFT JOIN `usuario` AS `u` ON `a`.`idusuario` = `u`.`idusuario`
WHERE (`c`.`aberto` = 1) AND (`c`.`idnome_caixa` = @__idnomeCaixa_0)
LIMIT 1
2021-03-25 11:34:02.065 -03:00 [INF] Executing ObjectResult, writing value of type 'FortalezaServer.Models.Caixa'.
2021-03-25 11:34:02.106 -03:00 [INF] Executed action FortalezaServer.Controllers.CaixasController.GetCaixaAberto (FortalezaServer) in 235.365ms
2021-03-25 11:34:02.108 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.CaixasController.GetCaixaAberto (FortalezaServer)'
2021-03-25 11:34:02.109 -03:00 [INF] Request finished in 249.6901ms 200 application/json; charset=utf-8
2021-03-25 11:34:02.216 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8000/api/vendas application/json; charset=utf-8 504
2021-03-25 11:34:02.218 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.VendasController.PostVenda (FortalezaServer)'
2021-03-25 11:34:02.226 -03:00 [INF] Route matched with {action = "PostVenda", controller = "Vendas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FortalezaServer.Models.Venda]] PostVenda(FortalezaServer.Models.Venda) on controller FortalezaServer.Controllers.VendasController (FortalezaServer).
2021-03-25 11:34:02.380 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-03-25 11:34:02.400 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `v`.`numero_venda`
FROM `venda` AS `v`
ORDER BY `v`.`idvenda` DESC
LIMIT 1
2021-03-25 11:34:02.607 -03:00 [INF] Executed DbCommand (16ms) [Parameters=[@p0='?' (DbType = SByte), @p1='?' (DbType = Decimal), @p2='?' (DbType = Decimal), @p3='?' (Size = 255), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = SByte), @p12='?' (DbType = Int32), @p13='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `venda` (`aberta`, `acrescimo`, `desconto`, `descricao`, `hora_entrada`, `hora_fechamento`, `idcaixa`, `idcliente`, `idpdv`, `idresponsavel`, `numero_venda`, `paga`, `tipo`, `valor_pago`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
SELECT `idvenda`
FROM `venda`
WHERE ROW_COUNT() = 1
 AND `idvenda`=LAST_INSERT_ID();
2021-03-25 11:34:02.671 -03:00 [INF] Executing ObjectResult, writing value of type 'FortalezaServer.Models.Venda'.
2021-03-25 11:34:02.710 -03:00 [INF] Executed action FortalezaServer.Controllers.VendasController.PostVenda (FortalezaServer) in 477.2411ms
2021-03-25 11:34:02.713 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.VendasController.PostVenda (FortalezaServer)'
2021-03-25 11:34:02.714 -03:00 [INF] Request finished in 498.1511ms 201 application/json; charset=utf-8
2021-03-25 11:34:02.771 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8000/api/vendas/1/itemvendas application/json; charset=utf-8 337
2021-03-25 11:34:02.775 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.VendasController.PostItemvenda (FortalezaServer)'
2021-03-25 11:34:02.782 -03:00 [INF] Route matched with {action = "PostItemvenda", controller = "Vendas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FortalezaServer.Models.Venda]] PostItemvenda(Int32, FortalezaServer.Models.ItemVenda) on controller FortalezaServer.Controllers.VendasController (FortalezaServer).
2021-03-25 11:34:02.806 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-03-25 11:34:02.828 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `v`.`idvenda`, `v`.`aberta`, `v`.`acrescimo`, `v`.`desconto`, `v`.`descricao`, `v`.`hora_entrada`, `v`.`hora_fechamento`, `v`.`idcaixa`, `v`.`idcliente`, `v`.`idpdv`, `v`.`idresponsavel`, `v`.`numero_venda`, `v`.`paga`, `v`.`tipo`, `v`.`valor_pago`
FROM `venda` AS `v`
WHERE `v`.`idvenda` = @__p_0
LIMIT 1
2021-03-25 11:34:02.850 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`iditem`, `i`.`atacado`, `i`.`codigo_barras`, `i`.`descricao`, `i`.`disponivel`, `i`.`estoque`, `i`.`estoque_minimo`, `i`.`imagem`, `i`.`permite_combo`, `i`.`quantidade_atacado`, `i`.`tipo`, `i`.`unidade`, `i`.`unidade_inteira`, `i`.`valor`, `i`.`valor_atacado`, `i`.`visivel`
FROM `item` AS `i`
WHERE `i`.`iditem` = @__p_0
LIMIT 1
2021-03-25 11:34:02.891 -03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`iditem_venda`, `i`.`cancelado`, `i`.`custo`, `i`.`iditem`, `i`.`idvenda`, `i`.`indice`, `i`.`quantidade`, `i`.`valor`
FROM `item_venda` AS `i`
WHERE `i`.`idvenda` = @__p_0
2021-03-25 11:34:02.937 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Decimal), @p1='?' (DbType = AnsiString), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Decimal), @p6='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `item_venda` (`cancelado`, `custo`, `iditem`, `idvenda`, `indice`, `quantidade`, `valor`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `iditem_venda`
FROM `item_venda`
WHERE ROW_COUNT() = 1
 AND `iditem_venda`=LAST_INSERT_ID();
2021-03-25 11:34:02.963 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p14='?' (DbType = Int32), @p0='?' (DbType = SByte), @p1='?' (DbType = Decimal), @p2='?' (DbType = Decimal), @p3='?' (Size = 255), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = SByte), @p12='?' (DbType = Int32), @p13='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
UPDATE `venda` SET `aberta` = @p0, `acrescimo` = @p1, `desconto` = @p2, `descricao` = @p3, `hora_entrada` = @p4, `hora_fechamento` = @p5, `idcaixa` = @p6, `idcliente` = @p7, `idpdv` = @p8, `idresponsavel` = @p9, `numero_venda` = @p10, `paga` = @p11, `tipo` = @p12, `valor_pago` = @p13
WHERE `idvenda` = @p14;
SELECT ROW_COUNT();
2021-03-25 11:34:02.972 -03:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType2`2[[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-03-25 11:34:02.982 -03:00 [INF] Executed action FortalezaServer.Controllers.VendasController.PostItemvenda (FortalezaServer) in 194.0097ms
2021-03-25 11:34:02.985 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.VendasController.PostItemvenda (FortalezaServer)'
2021-03-25 11:34:02.990 -03:00 [INF] Request finished in 219.0571ms 201 application/json; charset=utf-8
2021-03-25 11:34:02.990 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/vendas/1?itemvendas=true  
2021-03-25 11:34:02.993 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer)'
2021-03-25 11:34:03.000 -03:00 [INF] Route matched with {action = "GetVenda", controller = "Vendas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FortalezaServer.Models.Venda]] GetVenda(Int32, Boolean, Boolean, Boolean) on controller FortalezaServer.Controllers.VendasController (FortalezaServer).
2021-03-25 11:34:03.008 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-03-25 11:34:03.017 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `v`.`idvenda`, `v`.`aberta`, `v`.`acrescimo`, `v`.`desconto`, `v`.`descricao`, `v`.`hora_entrada`, `v`.`hora_fechamento`, `v`.`idcaixa`, `v`.`idcliente`, `v`.`idpdv`, `v`.`idresponsavel`, `v`.`numero_venda`, `v`.`paga`, `v`.`tipo`, `v`.`valor_pago`
FROM `venda` AS `v`
WHERE `v`.`idvenda` = @__p_0
LIMIT 1
2021-03-25 11:34:03.036 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`iditem_venda`, `i`.`cancelado`, `i`.`custo`, `i`.`iditem`, `i`.`idvenda`, `i`.`indice`, `i`.`quantidade`, `i`.`valor`, `i0`.`iditem`, `i0`.`atacado`, `i0`.`codigo_barras`, `i0`.`descricao`, `i0`.`disponivel`, `i0`.`estoque`, `i0`.`estoque_minimo`, `i0`.`imagem`, `i0`.`permite_combo`, `i0`.`quantidade_atacado`, `i0`.`tipo`, `i0`.`unidade`, `i0`.`unidade_inteira`, `i0`.`valor`, `i0`.`valor_atacado`, `i0`.`visivel`
FROM `item_venda` AS `i`
INNER JOIN `item` AS `i0` ON `i`.`iditem` = `i0`.`iditem`
WHERE `i`.`idvenda` = @__p_0
2021-03-25 11:34:03.041 -03:00 [INF] Executing ObjectResult, writing value of type 'FortalezaServer.Models.Venda'.
2021-03-25 11:34:03.047 -03:00 [INF] Executed action FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer) in 42.4294ms
2021-03-25 11:34:03.048 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer)'
2021-03-25 11:34:03.051 -03:00 [INF] Request finished in 61.0848ms 200 application/json; charset=utf-8
2021-03-25 11:34:03.058 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/vendas/1?itemvendas=true  
2021-03-25 11:34:03.059 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer)'
2021-03-25 11:34:03.061 -03:00 [INF] Route matched with {action = "GetVenda", controller = "Vendas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FortalezaServer.Models.Venda]] GetVenda(Int32, Boolean, Boolean, Boolean) on controller FortalezaServer.Controllers.VendasController (FortalezaServer).
2021-03-25 11:34:03.068 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-03-25 11:34:03.072 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `v`.`idvenda`, `v`.`aberta`, `v`.`acrescimo`, `v`.`desconto`, `v`.`descricao`, `v`.`hora_entrada`, `v`.`hora_fechamento`, `v`.`idcaixa`, `v`.`idcliente`, `v`.`idpdv`, `v`.`idresponsavel`, `v`.`numero_venda`, `v`.`paga`, `v`.`tipo`, `v`.`valor_pago`
FROM `venda` AS `v`
WHERE `v`.`idvenda` = @__p_0
LIMIT 1
2021-03-25 11:34:03.079 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`iditem_venda`, `i`.`cancelado`, `i`.`custo`, `i`.`iditem`, `i`.`idvenda`, `i`.`indice`, `i`.`quantidade`, `i`.`valor`, `i0`.`iditem`, `i0`.`atacado`, `i0`.`codigo_barras`, `i0`.`descricao`, `i0`.`disponivel`, `i0`.`estoque`, `i0`.`estoque_minimo`, `i0`.`imagem`, `i0`.`permite_combo`, `i0`.`quantidade_atacado`, `i0`.`tipo`, `i0`.`unidade`, `i0`.`unidade_inteira`, `i0`.`valor`, `i0`.`valor_atacado`, `i0`.`visivel`
FROM `item_venda` AS `i`
INNER JOIN `item` AS `i0` ON `i`.`iditem` = `i0`.`iditem`
WHERE `i`.`idvenda` = @__p_0
2021-03-25 11:34:03.086 -03:00 [INF] Executing ObjectResult, writing value of type 'FortalezaServer.Models.Venda'.
2021-03-25 11:34:03.087 -03:00 [INF] Executed action FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer) in 20.4171ms
2021-03-25 11:34:03.089 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer)'
2021-03-25 11:34:03.091 -03:00 [INF] Request finished in 32.8244ms 200 application/json; charset=utf-8
2021-03-25 11:34:06.400 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8000/api/vendas/1/itemvendas application/json; charset=utf-8 337
2021-03-25 11:34:06.403 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.VendasController.PostItemvenda (FortalezaServer)'
2021-03-25 11:34:06.405 -03:00 [INF] Route matched with {action = "PostItemvenda", controller = "Vendas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FortalezaServer.Models.Venda]] PostItemvenda(Int32, FortalezaServer.Models.ItemVenda) on controller FortalezaServer.Controllers.VendasController (FortalezaServer).
2021-03-25 11:34:06.413 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-03-25 11:34:06.420 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `v`.`idvenda`, `v`.`aberta`, `v`.`acrescimo`, `v`.`desconto`, `v`.`descricao`, `v`.`hora_entrada`, `v`.`hora_fechamento`, `v`.`idcaixa`, `v`.`idcliente`, `v`.`idpdv`, `v`.`idresponsavel`, `v`.`numero_venda`, `v`.`paga`, `v`.`tipo`, `v`.`valor_pago`
FROM `venda` AS `v`
WHERE `v`.`idvenda` = @__p_0
LIMIT 1
2021-03-25 11:34:06.428 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`iditem`, `i`.`atacado`, `i`.`codigo_barras`, `i`.`descricao`, `i`.`disponivel`, `i`.`estoque`, `i`.`estoque_minimo`, `i`.`imagem`, `i`.`permite_combo`, `i`.`quantidade_atacado`, `i`.`tipo`, `i`.`unidade`, `i`.`unidade_inteira`, `i`.`valor`, `i`.`valor_atacado`, `i`.`visivel`
FROM `item` AS `i`
WHERE `i`.`iditem` = @__p_0
LIMIT 1
2021-03-25 11:34:06.434 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`iditem_venda`, `i`.`cancelado`, `i`.`custo`, `i`.`iditem`, `i`.`idvenda`, `i`.`indice`, `i`.`quantidade`, `i`.`valor`
FROM `item_venda` AS `i`
WHERE `i`.`idvenda` = @__p_0
2021-03-25 11:34:06.441 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Decimal), @p1='?' (DbType = AnsiString), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Decimal), @p6='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `item_venda` (`cancelado`, `custo`, `iditem`, `idvenda`, `indice`, `quantidade`, `valor`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `iditem_venda`
FROM `item_venda`
WHERE ROW_COUNT() = 1
 AND `iditem_venda`=LAST_INSERT_ID();
2021-03-25 11:34:06.449 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p14='?' (DbType = Int32), @p0='?' (DbType = SByte), @p1='?' (DbType = Decimal), @p2='?' (DbType = Decimal), @p3='?' (Size = 255), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = SByte), @p12='?' (DbType = Int32), @p13='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
UPDATE `venda` SET `aberta` = @p0, `acrescimo` = @p1, `desconto` = @p2, `descricao` = @p3, `hora_entrada` = @p4, `hora_fechamento` = @p5, `idcaixa` = @p6, `idcliente` = @p7, `idpdv` = @p8, `idresponsavel` = @p9, `numero_venda` = @p10, `paga` = @p11, `tipo` = @p12, `valor_pago` = @p13
WHERE `idvenda` = @p14;
SELECT ROW_COUNT();
2021-03-25 11:34:06.458 -03:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType2`2[[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-03-25 11:34:06.460 -03:00 [INF] Executed action FortalezaServer.Controllers.VendasController.PostItemvenda (FortalezaServer) in 50.1959ms
2021-03-25 11:34:06.462 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.VendasController.PostItemvenda (FortalezaServer)'
2021-03-25 11:34:06.465 -03:00 [INF] Request finished in 64.7563ms 201 application/json; charset=utf-8
2021-03-25 11:34:06.465 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/vendas/1?itemvendas=true  
2021-03-25 11:34:06.468 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer)'
2021-03-25 11:34:06.470 -03:00 [INF] Route matched with {action = "GetVenda", controller = "Vendas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FortalezaServer.Models.Venda]] GetVenda(Int32, Boolean, Boolean, Boolean) on controller FortalezaServer.Controllers.VendasController (FortalezaServer).
2021-03-25 11:34:06.473 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-03-25 11:34:06.477 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `v`.`idvenda`, `v`.`aberta`, `v`.`acrescimo`, `v`.`desconto`, `v`.`descricao`, `v`.`hora_entrada`, `v`.`hora_fechamento`, `v`.`idcaixa`, `v`.`idcliente`, `v`.`idpdv`, `v`.`idresponsavel`, `v`.`numero_venda`, `v`.`paga`, `v`.`tipo`, `v`.`valor_pago`
FROM `venda` AS `v`
WHERE `v`.`idvenda` = @__p_0
LIMIT 1
2021-03-25 11:34:06.484 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`iditem_venda`, `i`.`cancelado`, `i`.`custo`, `i`.`iditem`, `i`.`idvenda`, `i`.`indice`, `i`.`quantidade`, `i`.`valor`, `i0`.`iditem`, `i0`.`atacado`, `i0`.`codigo_barras`, `i0`.`descricao`, `i0`.`disponivel`, `i0`.`estoque`, `i0`.`estoque_minimo`, `i0`.`imagem`, `i0`.`permite_combo`, `i0`.`quantidade_atacado`, `i0`.`tipo`, `i0`.`unidade`, `i0`.`unidade_inteira`, `i0`.`valor`, `i0`.`valor_atacado`, `i0`.`visivel`
FROM `item_venda` AS `i`
INNER JOIN `item` AS `i0` ON `i`.`iditem` = `i0`.`iditem`
WHERE `i`.`idvenda` = @__p_0
2021-03-25 11:34:06.490 -03:00 [INF] Executing ObjectResult, writing value of type 'FortalezaServer.Models.Venda'.
2021-03-25 11:34:06.491 -03:00 [INF] Executed action FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer) in 18.6981ms
2021-03-25 11:34:06.493 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer)'
2021-03-25 11:34:06.498 -03:00 [INF] Request finished in 33.6007ms 200 application/json; charset=utf-8
2021-03-25 11:34:06.498 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/vendas/1?itemvendas=true  
2021-03-25 11:34:06.502 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer)'
2021-03-25 11:34:06.504 -03:00 [INF] Route matched with {action = "GetVenda", controller = "Vendas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FortalezaServer.Models.Venda]] GetVenda(Int32, Boolean, Boolean, Boolean) on controller FortalezaServer.Controllers.VendasController (FortalezaServer).
2021-03-25 11:34:06.507 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-03-25 11:34:06.511 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `v`.`idvenda`, `v`.`aberta`, `v`.`acrescimo`, `v`.`desconto`, `v`.`descricao`, `v`.`hora_entrada`, `v`.`hora_fechamento`, `v`.`idcaixa`, `v`.`idcliente`, `v`.`idpdv`, `v`.`idresponsavel`, `v`.`numero_venda`, `v`.`paga`, `v`.`tipo`, `v`.`valor_pago`
FROM `venda` AS `v`
WHERE `v`.`idvenda` = @__p_0
LIMIT 1
2021-03-25 11:34:06.521 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`iditem_venda`, `i`.`cancelado`, `i`.`custo`, `i`.`iditem`, `i`.`idvenda`, `i`.`indice`, `i`.`quantidade`, `i`.`valor`, `i0`.`iditem`, `i0`.`atacado`, `i0`.`codigo_barras`, `i0`.`descricao`, `i0`.`disponivel`, `i0`.`estoque`, `i0`.`estoque_minimo`, `i0`.`imagem`, `i0`.`permite_combo`, `i0`.`quantidade_atacado`, `i0`.`tipo`, `i0`.`unidade`, `i0`.`unidade_inteira`, `i0`.`valor`, `i0`.`valor_atacado`, `i0`.`visivel`
FROM `item_venda` AS `i`
INNER JOIN `item` AS `i0` ON `i`.`iditem` = `i0`.`iditem`
WHERE `i`.`idvenda` = @__p_0
2021-03-25 11:34:06.526 -03:00 [INF] Executing ObjectResult, writing value of type 'FortalezaServer.Models.Venda'.
2021-03-25 11:34:06.527 -03:00 [INF] Executed action FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer) in 20.0589ms
2021-03-25 11:34:06.530 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer)'
2021-03-25 11:34:06.531 -03:00 [INF] Request finished in 32.9806ms 200 application/json; charset=utf-8
2021-03-25 11:34:06.944 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8000/api/vendas/1/itemvendas application/json; charset=utf-8 337
2021-03-25 11:34:06.946 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.VendasController.PostItemvenda (FortalezaServer)'
2021-03-25 11:34:06.948 -03:00 [INF] Route matched with {action = "PostItemvenda", controller = "Vendas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FortalezaServer.Models.Venda]] PostItemvenda(Int32, FortalezaServer.Models.ItemVenda) on controller FortalezaServer.Controllers.VendasController (FortalezaServer).
2021-03-25 11:34:06.952 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-03-25 11:34:06.956 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `v`.`idvenda`, `v`.`aberta`, `v`.`acrescimo`, `v`.`desconto`, `v`.`descricao`, `v`.`hora_entrada`, `v`.`hora_fechamento`, `v`.`idcaixa`, `v`.`idcliente`, `v`.`idpdv`, `v`.`idresponsavel`, `v`.`numero_venda`, `v`.`paga`, `v`.`tipo`, `v`.`valor_pago`
FROM `venda` AS `v`
WHERE `v`.`idvenda` = @__p_0
LIMIT 1
2021-03-25 11:34:06.964 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`iditem`, `i`.`atacado`, `i`.`codigo_barras`, `i`.`descricao`, `i`.`disponivel`, `i`.`estoque`, `i`.`estoque_minimo`, `i`.`imagem`, `i`.`permite_combo`, `i`.`quantidade_atacado`, `i`.`tipo`, `i`.`unidade`, `i`.`unidade_inteira`, `i`.`valor`, `i`.`valor_atacado`, `i`.`visivel`
FROM `item` AS `i`
WHERE `i`.`iditem` = @__p_0
LIMIT 1
2021-03-25 11:34:06.970 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`iditem_venda`, `i`.`cancelado`, `i`.`custo`, `i`.`iditem`, `i`.`idvenda`, `i`.`indice`, `i`.`quantidade`, `i`.`valor`
FROM `item_venda` AS `i`
WHERE `i`.`idvenda` = @__p_0
2021-03-25 11:34:06.979 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Decimal), @p1='?' (DbType = AnsiString), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Decimal), @p6='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `item_venda` (`cancelado`, `custo`, `iditem`, `idvenda`, `indice`, `quantidade`, `valor`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `iditem_venda`
FROM `item_venda`
WHERE ROW_COUNT() = 1
 AND `iditem_venda`=LAST_INSERT_ID();
2021-03-25 11:34:06.987 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p14='?' (DbType = Int32), @p0='?' (DbType = SByte), @p1='?' (DbType = Decimal), @p2='?' (DbType = Decimal), @p3='?' (Size = 255), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = SByte), @p12='?' (DbType = Int32), @p13='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
UPDATE `venda` SET `aberta` = @p0, `acrescimo` = @p1, `desconto` = @p2, `descricao` = @p3, `hora_entrada` = @p4, `hora_fechamento` = @p5, `idcaixa` = @p6, `idcliente` = @p7, `idpdv` = @p8, `idresponsavel` = @p9, `numero_venda` = @p10, `paga` = @p11, `tipo` = @p12, `valor_pago` = @p13
WHERE `idvenda` = @p14;
SELECT ROW_COUNT();
2021-03-25 11:34:06.996 -03:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType2`2[[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-03-25 11:34:06.999 -03:00 [INF] Executed action FortalezaServer.Controllers.VendasController.PostItemvenda (FortalezaServer) in 49.17ms
2021-03-25 11:34:07.001 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.VendasController.PostItemvenda (FortalezaServer)'
2021-03-25 11:34:07.003 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/vendas/1?itemvendas=true  
2021-03-25 11:34:07.003 -03:00 [INF] Request finished in 59.3642ms 201 application/json; charset=utf-8
2021-03-25 11:34:07.006 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer)'
2021-03-25 11:34:07.011 -03:00 [INF] Route matched with {action = "GetVenda", controller = "Vendas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FortalezaServer.Models.Venda]] GetVenda(Int32, Boolean, Boolean, Boolean) on controller FortalezaServer.Controllers.VendasController (FortalezaServer).
2021-03-25 11:34:07.014 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-03-25 11:34:07.018 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `v`.`idvenda`, `v`.`aberta`, `v`.`acrescimo`, `v`.`desconto`, `v`.`descricao`, `v`.`hora_entrada`, `v`.`hora_fechamento`, `v`.`idcaixa`, `v`.`idcliente`, `v`.`idpdv`, `v`.`idresponsavel`, `v`.`numero_venda`, `v`.`paga`, `v`.`tipo`, `v`.`valor_pago`
FROM `venda` AS `v`
WHERE `v`.`idvenda` = @__p_0
LIMIT 1
2021-03-25 11:34:07.027 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`iditem_venda`, `i`.`cancelado`, `i`.`custo`, `i`.`iditem`, `i`.`idvenda`, `i`.`indice`, `i`.`quantidade`, `i`.`valor`, `i0`.`iditem`, `i0`.`atacado`, `i0`.`codigo_barras`, `i0`.`descricao`, `i0`.`disponivel`, `i0`.`estoque`, `i0`.`estoque_minimo`, `i0`.`imagem`, `i0`.`permite_combo`, `i0`.`quantidade_atacado`, `i0`.`tipo`, `i0`.`unidade`, `i0`.`unidade_inteira`, `i0`.`valor`, `i0`.`valor_atacado`, `i0`.`visivel`
FROM `item_venda` AS `i`
INNER JOIN `item` AS `i0` ON `i`.`iditem` = `i0`.`iditem`
WHERE `i`.`idvenda` = @__p_0
2021-03-25 11:34:07.031 -03:00 [INF] Executing ObjectResult, writing value of type 'FortalezaServer.Models.Venda'.
2021-03-25 11:34:07.033 -03:00 [INF] Executed action FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer) in 18.7288ms
2021-03-25 11:34:07.034 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer)'
2021-03-25 11:34:07.038 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/vendas/1?itemvendas=true  
2021-03-25 11:34:07.039 -03:00 [INF] Request finished in 36.7858ms 200 application/json; charset=utf-8
2021-03-25 11:34:07.041 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer)'
2021-03-25 11:34:07.044 -03:00 [INF] Route matched with {action = "GetVenda", controller = "Vendas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FortalezaServer.Models.Venda]] GetVenda(Int32, Boolean, Boolean, Boolean) on controller FortalezaServer.Controllers.VendasController (FortalezaServer).
2021-03-25 11:34:07.048 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-03-25 11:34:07.052 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `v`.`idvenda`, `v`.`aberta`, `v`.`acrescimo`, `v`.`desconto`, `v`.`descricao`, `v`.`hora_entrada`, `v`.`hora_fechamento`, `v`.`idcaixa`, `v`.`idcliente`, `v`.`idpdv`, `v`.`idresponsavel`, `v`.`numero_venda`, `v`.`paga`, `v`.`tipo`, `v`.`valor_pago`
FROM `venda` AS `v`
WHERE `v`.`idvenda` = @__p_0
LIMIT 1
2021-03-25 11:34:07.061 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`iditem_venda`, `i`.`cancelado`, `i`.`custo`, `i`.`iditem`, `i`.`idvenda`, `i`.`indice`, `i`.`quantidade`, `i`.`valor`, `i0`.`iditem`, `i0`.`atacado`, `i0`.`codigo_barras`, `i0`.`descricao`, `i0`.`disponivel`, `i0`.`estoque`, `i0`.`estoque_minimo`, `i0`.`imagem`, `i0`.`permite_combo`, `i0`.`quantidade_atacado`, `i0`.`tipo`, `i0`.`unidade`, `i0`.`unidade_inteira`, `i0`.`valor`, `i0`.`valor_atacado`, `i0`.`visivel`
FROM `item_venda` AS `i`
INNER JOIN `item` AS `i0` ON `i`.`iditem` = `i0`.`iditem`
WHERE `i`.`idvenda` = @__p_0
2021-03-25 11:34:07.067 -03:00 [INF] Executing ObjectResult, writing value of type 'FortalezaServer.Models.Venda'.
2021-03-25 11:34:07.071 -03:00 [INF] Executed action FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer) in 22.9543ms
2021-03-25 11:34:07.073 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer)'
2021-03-25 11:34:07.074 -03:00 [INF] Request finished in 36.1807ms 200 application/json; charset=utf-8
2021-03-25 11:34:07.939 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/caixas/actions/aberto?idnomeCaixa=1  
2021-03-25 11:34:07.941 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.CaixasController.GetCaixaAberto (FortalezaServer)'
2021-03-25 11:34:07.942 -03:00 [INF] Route matched with {action = "GetCaixaAberto", controller = "Caixas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FortalezaServer.Models.Caixa]] GetCaixaAberto(Int32, Boolean) on controller FortalezaServer.Controllers.CaixasController (FortalezaServer).
2021-03-25 11:34:07.947 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-03-25 11:34:07.955 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__idnomeCaixa_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`idcaixa`, `c`.`aberto`, `c`.`idnome_caixa`, `n`.`idnome_caixa`, `n`.`nome`, `a`.`idcaixa`, `a`.`hora`, `a`.`idpdv`, `a`.`idusuario`, `p`.`idpdv`, `p`.`nome`, `u`.`idusuario`, `u`.`cpf`, `u`.`idendereco`, `u`.`login`, `u`.`nome`, `u`.`senha`, `u`.`telefone1`, `u`.`telefone2`
FROM `caixa` AS `c`
INNER JOIN `nome_caixa` AS `n` ON `c`.`idnome_caixa` = `n`.`idnome_caixa`
LEFT JOIN `abertura` AS `a` ON `c`.`idcaixa` = `a`.`idcaixa`
LEFT JOIN `pdv` AS `p` ON `a`.`idpdv` = `p`.`idpdv`
LEFT JOIN `usuario` AS `u` ON `a`.`idusuario` = `u`.`idusuario`
WHERE (`c`.`aberto` = 1) AND (`c`.`idnome_caixa` = @__idnomeCaixa_0)
LIMIT 1
2021-03-25 11:34:07.960 -03:00 [INF] Executing ObjectResult, writing value of type 'FortalezaServer.Models.Caixa'.
2021-03-25 11:34:07.962 -03:00 [INF] Executed action FortalezaServer.Controllers.CaixasController.GetCaixaAberto (FortalezaServer) in 15.695ms
2021-03-25 11:34:07.964 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.CaixasController.GetCaixaAberto (FortalezaServer)'
2021-03-25 11:34:07.967 -03:00 [INF] Request finished in 27.767ms 200 application/json; charset=utf-8
2021-03-25 11:34:07.980 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/vendas/1?pagamentos=true  
2021-03-25 11:34:07.982 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer)'
2021-03-25 11:34:07.984 -03:00 [INF] Route matched with {action = "GetVenda", controller = "Vendas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FortalezaServer.Models.Venda]] GetVenda(Int32, Boolean, Boolean, Boolean) on controller FortalezaServer.Controllers.VendasController (FortalezaServer).
2021-03-25 11:34:07.989 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-03-25 11:34:07.992 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `v`.`idvenda`, `v`.`aberta`, `v`.`acrescimo`, `v`.`desconto`, `v`.`descricao`, `v`.`hora_entrada`, `v`.`hora_fechamento`, `v`.`idcaixa`, `v`.`idcliente`, `v`.`idpdv`, `v`.`idresponsavel`, `v`.`numero_venda`, `v`.`paga`, `v`.`tipo`, `v`.`valor_pago`
FROM `venda` AS `v`
WHERE `v`.`idvenda` = @__p_0
LIMIT 1
2021-03-25 11:34:08.005 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`iditem_venda`, `i`.`cancelado`, `i`.`custo`, `i`.`iditem`, `i`.`idvenda`, `i`.`indice`, `i`.`quantidade`, `i`.`valor`
FROM `item_venda` AS `i`
WHERE `i`.`idvenda` = @__p_0
2021-03-25 11:34:08.031 -03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`idvenda`, `p`.`idmovimento`, `m`.`idmovimento`, `m`.`descricao`, `m`.`hora_entrada`, `m`.`idbandeira`, `m`.`idcaixa`, `m`.`idforma_pagamento`, `m`.`idpdv`, `m`.`idusuario`, `m`.`tipo`, `m`.`valor`, `f`.`idforma_pagamento`, `f`.`bandeira`, `f`.`debitar_cliente`, `f`.`debito`, `f`.`gerar_contas_receber`, `f`.`nome`, `f`.`ordem`
FROM `pagamento` AS `p`
INNER JOIN `movimento` AS `m` ON `p`.`idmovimento` = `m`.`idmovimento`
LEFT JOIN `forma_pagamento` AS `f` ON `m`.`idforma_pagamento` = `f`.`idforma_pagamento`
WHERE `p`.`idvenda` = @__p_0
2021-03-25 11:34:08.035 -03:00 [INF] Executing ObjectResult, writing value of type 'FortalezaServer.Models.Venda'.
2021-03-25 11:34:08.037 -03:00 [INF] Executed action FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer) in 49.1144ms
2021-03-25 11:34:08.038 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer)'
2021-03-25 11:34:08.040 -03:00 [INF] Request finished in 59.458ms 200 application/json; charset=utf-8
2021-03-25 11:34:08.097 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/caixas/actions/aberto?idnomeCaixa=1  
2021-03-25 11:34:08.098 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.CaixasController.GetCaixaAberto (FortalezaServer)'
2021-03-25 11:34:08.101 -03:00 [INF] Route matched with {action = "GetCaixaAberto", controller = "Caixas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FortalezaServer.Models.Caixa]] GetCaixaAberto(Int32, Boolean) on controller FortalezaServer.Controllers.CaixasController (FortalezaServer).
2021-03-25 11:34:08.109 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-03-25 11:34:08.113 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__idnomeCaixa_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`idcaixa`, `c`.`aberto`, `c`.`idnome_caixa`, `n`.`idnome_caixa`, `n`.`nome`, `a`.`idcaixa`, `a`.`hora`, `a`.`idpdv`, `a`.`idusuario`, `p`.`idpdv`, `p`.`nome`, `u`.`idusuario`, `u`.`cpf`, `u`.`idendereco`, `u`.`login`, `u`.`nome`, `u`.`senha`, `u`.`telefone1`, `u`.`telefone2`
FROM `caixa` AS `c`
INNER JOIN `nome_caixa` AS `n` ON `c`.`idnome_caixa` = `n`.`idnome_caixa`
LEFT JOIN `abertura` AS `a` ON `c`.`idcaixa` = `a`.`idcaixa`
LEFT JOIN `pdv` AS `p` ON `a`.`idpdv` = `p`.`idpdv`
LEFT JOIN `usuario` AS `u` ON `a`.`idusuario` = `u`.`idusuario`
WHERE (`c`.`aberto` = 1) AND (`c`.`idnome_caixa` = @__idnomeCaixa_0)
LIMIT 1
2021-03-25 11:34:08.124 -03:00 [INF] Executing ObjectResult, writing value of type 'FortalezaServer.Models.Caixa'.
2021-03-25 11:34:08.126 -03:00 [INF] Executed action FortalezaServer.Controllers.CaixasController.GetCaixaAberto (FortalezaServer) in 17.9344ms
2021-03-25 11:34:08.128 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.CaixasController.GetCaixaAberto (FortalezaServer)'
2021-03-25 11:34:08.130 -03:00 [INF] Request finished in 32.8627ms 200 application/json; charset=utf-8
2021-03-25 11:34:08.221 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/formapagamentos  
2021-03-25 11:34:08.222 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.FormaPagamentosController.GetFormaPagamento (FortalezaServer)'
2021-03-25 11:34:08.230 -03:00 [INF] Route matched with {action = "GetFormaPagamento", controller = "FormaPagamentos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[FortalezaServer.Models.FormaPagamento]]] GetFormaPagamento() on controller FortalezaServer.Controllers.FormaPagamentosController (FortalezaServer).
2021-03-25 11:34:08.234 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-03-25 11:34:08.247 -03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `f`.`idforma_pagamento`, `f`.`bandeira`, `f`.`debitar_cliente`, `f`.`debito`, `f`.`gerar_contas_receber`, `f`.`nome`, `f`.`ordem`
FROM `forma_pagamento` AS `f`
ORDER BY `f`.`ordem`
2021-03-25 11:34:08.254 -03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[FortalezaServer.Models.FormaPagamento, FortalezaServer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-03-25 11:34:08.259 -03:00 [INF] Executed action FortalezaServer.Controllers.FormaPagamentosController.GetFormaPagamento (FortalezaServer) in 26.6556ms
2021-03-25 11:34:08.263 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.FormaPagamentosController.GetFormaPagamento (FortalezaServer)'
2021-03-25 11:34:08.265 -03:00 [INF] Request finished in 43.7378ms 200 application/json; charset=utf-8
2021-03-25 11:34:10.269 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8000/api/vendas/1/pagamentos application/json; charset=utf-8 730
2021-03-25 11:34:10.271 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.VendasController.PostPagamento (FortalezaServer)'
2021-03-25 11:34:10.279 -03:00 [INF] Route matched with {action = "PostPagamento", controller = "Vendas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FortalezaServer.Models.Venda]] PostPagamento(Int32, FortalezaServer.Models.Pagamento) on controller FortalezaServer.Controllers.VendasController (FortalezaServer).
2021-03-25 11:34:10.303 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-03-25 11:34:10.351 -03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`idvenda`, `t`.`aberta`, `t`.`acrescimo`, `t`.`desconto`, `t`.`descricao`, `t`.`hora_entrada`, `t`.`hora_fechamento`, `t`.`idcaixa`, `t`.`idcliente`, `t`.`idpdv`, `t`.`idresponsavel`, `t`.`numero_venda`, `t`.`paga`, `t`.`tipo`, `t`.`valor_pago`, `t`.`idcliente0`, `t`.`celular`, `t`.`cpf`, `t`.`email`, `t`.`idendereco`, `t`.`nome`, `t`.`rg`, `t`.`telefone`, `i`.`iditem_venda`, `i`.`cancelado`, `i`.`custo`, `i`.`iditem`, `i`.`idvenda`, `i`.`indice`, `i`.`quantidade`, `i`.`valor`, `t0`.`idcliente`, `t0`.`idmovimento`, `t0`.`idmovimento0`, `t0`.`descricao`, `t0`.`hora_entrada`, `t0`.`idbandeira`, `t0`.`idcaixa`, `t0`.`idforma_pagamento`, `t0`.`idpdv`, `t0`.`idusuario`, `t0`.`tipo`, `t0`.`valor`
FROM (
    SELECT `v`.`idvenda`, `v`.`aberta`, `v`.`acrescimo`, `v`.`desconto`, `v`.`descricao`, `v`.`hora_entrada`, `v`.`hora_fechamento`, `v`.`idcaixa`, `v`.`idcliente`, `v`.`idpdv`, `v`.`idresponsavel`, `v`.`numero_venda`, `v`.`paga`, `v`.`tipo`, `v`.`valor_pago`, `c`.`idcliente` AS `idcliente0`, `c`.`celular`, `c`.`cpf`, `c`.`email`, `c`.`idendereco`, `c`.`nome`, `c`.`rg`, `c`.`telefone`
    FROM `venda` AS `v`
    LEFT JOIN `cliente` AS `c` ON `v`.`idcliente` = `c`.`idcliente`
    WHERE `v`.`idvenda` = @__id_0
    LIMIT 1
) AS `t`
LEFT JOIN `item_venda` AS `i` ON `t`.`idvenda` = `i`.`idvenda`
LEFT JOIN (
    SELECT `c0`.`idcliente`, `c0`.`idmovimento`, `m`.`idmovimento` AS `idmovimento0`, `m`.`descricao`, `m`.`hora_entrada`, `m`.`idbandeira`, `m`.`idcaixa`, `m`.`idforma_pagamento`, `m`.`idpdv`, `m`.`idusuario`, `m`.`tipo`, `m`.`valor`
    FROM `cliente_has_movimento` AS `c0`
    INNER JOIN `movimento` AS `m` ON `c0`.`idmovimento` = `m`.`idmovimento`
) AS `t0` ON `t`.`idcliente0` = `t0`.`idcliente`
ORDER BY `t`.`idvenda`, `i`.`iditem_venda`, `t0`.`idcliente`, `t0`.`idmovimento`, `t0`.`idmovimento0`
2021-03-25 11:34:10.408 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `movimento` (`descricao`, `hora_entrada`, `idbandeira`, `idcaixa`, `idforma_pagamento`, `idpdv`, `idusuario`, `tipo`, `valor`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT `idmovimento`
FROM `movimento`
WHERE ROW_COUNT() = 1
 AND `idmovimento`=LAST_INSERT_ID();
2021-03-25 11:34:10.423 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p14='?' (DbType = Int32), @p0='?' (DbType = SByte), @p1='?' (DbType = Decimal), @p2='?' (DbType = Decimal), @p3='?' (Size = 255), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = SByte), @p12='?' (DbType = Int32), @p13='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
UPDATE `venda` SET `aberta` = @p0, `acrescimo` = @p1, `desconto` = @p2, `descricao` = @p3, `hora_entrada` = @p4, `hora_fechamento` = @p5, `idcaixa` = @p6, `idcliente` = @p7, `idpdv` = @p8, `idresponsavel` = @p9, `numero_venda` = @p10, `paga` = @p11, `tipo` = @p12, `valor_pago` = @p13
WHERE `idvenda` = @p14;
SELECT ROW_COUNT();
2021-03-25 11:34:10.429 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p15='?' (DbType = Int32), @p16='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `pagamento` (`idvenda`, `idmovimento`)
VALUES (@p15, @p16);
2021-03-25 11:34:10.439 -03:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`3[[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-03-25 11:34:10.444 -03:00 [INF] Executed action FortalezaServer.Controllers.VendasController.PostPagamento (FortalezaServer) in 158.3088ms
2021-03-25 11:34:10.446 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.VendasController.PostPagamento (FortalezaServer)'
2021-03-25 11:34:10.448 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/vendas/1?pagamentos=true  
2021-03-25 11:34:10.448 -03:00 [INF] Request finished in 179.7748ms 201 application/json; charset=utf-8
2021-03-25 11:34:10.449 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer)'
2021-03-25 11:34:10.452 -03:00 [INF] Route matched with {action = "GetVenda", controller = "Vendas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FortalezaServer.Models.Venda]] GetVenda(Int32, Boolean, Boolean, Boolean) on controller FortalezaServer.Controllers.VendasController (FortalezaServer).
2021-03-25 11:34:10.455 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-03-25 11:34:10.459 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `v`.`idvenda`, `v`.`aberta`, `v`.`acrescimo`, `v`.`desconto`, `v`.`descricao`, `v`.`hora_entrada`, `v`.`hora_fechamento`, `v`.`idcaixa`, `v`.`idcliente`, `v`.`idpdv`, `v`.`idresponsavel`, `v`.`numero_venda`, `v`.`paga`, `v`.`tipo`, `v`.`valor_pago`
FROM `venda` AS `v`
WHERE `v`.`idvenda` = @__p_0
LIMIT 1
2021-03-25 11:34:10.467 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`iditem_venda`, `i`.`cancelado`, `i`.`custo`, `i`.`iditem`, `i`.`idvenda`, `i`.`indice`, `i`.`quantidade`, `i`.`valor`
FROM `item_venda` AS `i`
WHERE `i`.`idvenda` = @__p_0
2021-03-25 11:34:10.473 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`idvenda`, `p`.`idmovimento`, `m`.`idmovimento`, `m`.`descricao`, `m`.`hora_entrada`, `m`.`idbandeira`, `m`.`idcaixa`, `m`.`idforma_pagamento`, `m`.`idpdv`, `m`.`idusuario`, `m`.`tipo`, `m`.`valor`, `f`.`idforma_pagamento`, `f`.`bandeira`, `f`.`debitar_cliente`, `f`.`debito`, `f`.`gerar_contas_receber`, `f`.`nome`, `f`.`ordem`
FROM `pagamento` AS `p`
INNER JOIN `movimento` AS `m` ON `p`.`idmovimento` = `m`.`idmovimento`
LEFT JOIN `forma_pagamento` AS `f` ON `m`.`idforma_pagamento` = `f`.`idforma_pagamento`
WHERE `p`.`idvenda` = @__p_0
2021-03-25 11:34:10.485 -03:00 [INF] Executing ObjectResult, writing value of type 'FortalezaServer.Models.Venda'.
2021-03-25 11:34:10.490 -03:00 [INF] Executed action FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer) in 34.7902ms
2021-03-25 11:34:10.492 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer)'
2021-03-25 11:34:10.493 -03:00 [INF] Request finished in 45.4095ms 200 application/json; charset=utf-8
2021-03-25 11:34:10.499 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/vendas/1?pagamentos=true  
2021-03-25 11:34:10.500 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer)'
2021-03-25 11:34:10.502 -03:00 [INF] Route matched with {action = "GetVenda", controller = "Vendas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FortalezaServer.Models.Venda]] GetVenda(Int32, Boolean, Boolean, Boolean) on controller FortalezaServer.Controllers.VendasController (FortalezaServer).
2021-03-25 11:34:10.507 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-03-25 11:34:10.510 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `v`.`idvenda`, `v`.`aberta`, `v`.`acrescimo`, `v`.`desconto`, `v`.`descricao`, `v`.`hora_entrada`, `v`.`hora_fechamento`, `v`.`idcaixa`, `v`.`idcliente`, `v`.`idpdv`, `v`.`idresponsavel`, `v`.`numero_venda`, `v`.`paga`, `v`.`tipo`, `v`.`valor_pago`
FROM `venda` AS `v`
WHERE `v`.`idvenda` = @__p_0
LIMIT 1
2021-03-25 11:34:10.516 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`iditem_venda`, `i`.`cancelado`, `i`.`custo`, `i`.`iditem`, `i`.`idvenda`, `i`.`indice`, `i`.`quantidade`, `i`.`valor`
FROM `item_venda` AS `i`
WHERE `i`.`idvenda` = @__p_0
2021-03-25 11:34:10.523 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`idvenda`, `p`.`idmovimento`, `m`.`idmovimento`, `m`.`descricao`, `m`.`hora_entrada`, `m`.`idbandeira`, `m`.`idcaixa`, `m`.`idforma_pagamento`, `m`.`idpdv`, `m`.`idusuario`, `m`.`tipo`, `m`.`valor`, `f`.`idforma_pagamento`, `f`.`bandeira`, `f`.`debitar_cliente`, `f`.`debito`, `f`.`gerar_contas_receber`, `f`.`nome`, `f`.`ordem`
FROM `pagamento` AS `p`
INNER JOIN `movimento` AS `m` ON `p`.`idmovimento` = `m`.`idmovimento`
LEFT JOIN `forma_pagamento` AS `f` ON `m`.`idforma_pagamento` = `f`.`idforma_pagamento`
WHERE `p`.`idvenda` = @__p_0
2021-03-25 11:34:10.527 -03:00 [INF] Executing ObjectResult, writing value of type 'FortalezaServer.Models.Venda'.
2021-03-25 11:34:10.528 -03:00 [INF] Executed action FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer) in 21.9556ms
2021-03-25 11:34:10.531 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer)'
2021-03-25 11:34:10.533 -03:00 [INF] Request finished in 33.8198ms 200 application/json; charset=utf-8
2021-03-25 11:34:11.111 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/vendas/1/actions/fechar  
2021-03-25 11:34:11.113 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.VendasController.FecharVenda (FortalezaServer)'
2021-03-25 11:34:11.117 -03:00 [INF] Route matched with {action = "FecharVenda", controller = "Vendas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FortalezaServer.Models.Venda]] FecharVenda(Int32) on controller FortalezaServer.Controllers.VendasController (FortalezaServer).
2021-03-25 11:34:11.121 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-03-25 11:34:11.125 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `v`.`idvenda`, `v`.`aberta`, `v`.`acrescimo`, `v`.`desconto`, `v`.`descricao`, `v`.`hora_entrada`, `v`.`hora_fechamento`, `v`.`idcaixa`, `v`.`idcliente`, `v`.`idpdv`, `v`.`idresponsavel`, `v`.`numero_venda`, `v`.`paga`, `v`.`tipo`, `v`.`valor_pago`
FROM `venda` AS `v`
WHERE `v`.`idvenda` = @__p_0
LIMIT 1
2021-03-25 11:34:11.133 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`iditem_venda`, `i`.`cancelado`, `i`.`custo`, `i`.`iditem`, `i`.`idvenda`, `i`.`indice`, `i`.`quantidade`, `i`.`valor`
FROM `item_venda` AS `i`
WHERE `i`.`idvenda` = @__p_0
2021-03-25 11:34:11.147 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`iditem`, `i`.`atacado`, `i`.`codigo_barras`, `i`.`descricao`, `i`.`disponivel`, `i`.`estoque`, `i`.`estoque_minimo`, `i`.`imagem`, `i`.`permite_combo`, `i`.`quantidade_atacado`, `i`.`tipo`, `i`.`unidade`, `i`.`unidade_inteira`, `i`.`valor`, `i`.`valor_atacado`, `i`.`visivel`
FROM `item` AS `i`
WHERE `i`.`iditem` = @__p_0
2021-03-25 11:34:11.152 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`iditem`, `i`.`atacado`, `i`.`codigo_barras`, `i`.`descricao`, `i`.`disponivel`, `i`.`estoque`, `i`.`estoque_minimo`, `i`.`imagem`, `i`.`permite_combo`, `i`.`quantidade_atacado`, `i`.`tipo`, `i`.`unidade`, `i`.`unidade_inteira`, `i`.`valor`, `i`.`valor_atacado`, `i`.`visivel`
FROM `item` AS `i`
WHERE `i`.`iditem` = @__p_0
2021-03-25 11:34:11.159 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`iditem`, `i`.`atacado`, `i`.`codigo_barras`, `i`.`descricao`, `i`.`disponivel`, `i`.`estoque`, `i`.`estoque_minimo`, `i`.`imagem`, `i`.`permite_combo`, `i`.`quantidade_atacado`, `i`.`tipo`, `i`.`unidade`, `i`.`unidade_inteira`, `i`.`valor`, `i`.`valor_atacado`, `i`.`visivel`
FROM `item` AS `i`
WHERE `i`.`iditem` = @__p_0
2021-03-25 11:34:11.166 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p14='?' (DbType = Int32), @p0='?' (DbType = SByte), @p1='?' (DbType = Decimal), @p2='?' (DbType = Decimal), @p3='?' (Size = 255), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = SByte), @p12='?' (DbType = Int32), @p13='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
UPDATE `venda` SET `aberta` = @p0, `acrescimo` = @p1, `desconto` = @p2, `descricao` = @p3, `hora_entrada` = @p4, `hora_fechamento` = @p5, `idcaixa` = @p6, `idcliente` = @p7, `idpdv` = @p8, `idresponsavel` = @p9, `numero_venda` = @p10, `paga` = @p11, `tipo` = @p12, `valor_pago` = @p13
WHERE `idvenda` = @p14;
SELECT ROW_COUNT();
2021-03-25 11:34:11.177 -03:00 [INF] Executing HttpStatusCodeResult, setting HTTP status code 204
2021-03-25 11:34:11.178 -03:00 [INF] Executed action FortalezaServer.Controllers.VendasController.FecharVenda (FortalezaServer) in 57.9857ms
2021-03-25 11:34:11.179 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.VendasController.FecharVenda (FortalezaServer)'
2021-03-25 11:34:11.180 -03:00 [INF] Request finished in 69.5622ms 204 
2021-03-25 11:34:13.008 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/informacoesempresa/1  
2021-03-25 11:34:13.010 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.InformacoesEmpresaController.GetInformacoesEmpresa (FortalezaServer)'
2021-03-25 11:34:13.016 -03:00 [INF] Route matched with {action = "GetInformacoesEmpresa", controller = "InformacoesEmpresa"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FortalezaServer.Models.InformacoesEmpresa]] GetInformacoesEmpresa(Int32) on controller FortalezaServer.Controllers.InformacoesEmpresaController (FortalezaServer).
2021-03-25 11:34:13.032 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-03-25 11:34:13.052 -03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`idinformacoes_empresa`, `i`.`cnae`, `i`.`cpf`, `i`.`idendereco`, `i`.`logo`, `i`.`nome_fantasia`, `i`.`razao_social`, `i`.`regime_tributario`, `i`.`rg`
FROM `informacoes_empresa` AS `i`
WHERE `i`.`idinformacoes_empresa` = @__p_0
LIMIT 1
2021-03-25 11:34:13.077 -03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `e`.`idendereco`, `e`.`bairro`, `e`.`cep`, `e`.`complemento`, `e`.`descricao`, `e`.`logradouro`, `e`.`municipio`, `e`.`numero`, `e`.`tipo`, `e`.`UF`
FROM `endereco` AS `e`
WHERE `e`.`idendereco` = @__p_0
2021-03-25 11:34:13.092 -03:00 [INF] Executing ObjectResult, writing value of type 'FortalezaServer.Models.InformacoesEmpresa'.
2021-03-25 11:34:13.103 -03:00 [INF] Executed action FortalezaServer.Controllers.InformacoesEmpresaController.GetInformacoesEmpresa (FortalezaServer) in 74.2208ms
2021-03-25 11:34:13.106 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.InformacoesEmpresaController.GetInformacoesEmpresa (FortalezaServer)'
2021-03-25 11:34:13.107 -03:00 [INF] Request finished in 98.9714ms 200 application/json; charset=utf-8
2021-03-25 11:34:13.168 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/images/logo-empresa.png  
2021-03-25 11:34:13.181 -03:00 [INF] Sending file. Request path: '/images/logo-empresa.png'. Physical path: 'C:\Users\felip\source\repos\FortalezaServer\wwwroot\images\logo-empresa.png'
2021-03-25 11:34:13.183 -03:00 [INF] Request finished in 15.0042ms 200 image/png
2021-03-25 11:34:25.027 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/vendas  
2021-03-25 11:34:25.029 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer)'
2021-03-25 11:34:25.032 -03:00 [INF] Route matched with {action = "GetVenda", controller = "Vendas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[FortalezaServer.Models.Venda]]] GetVenda(Int32, Boolean, Boolean, System.String, System.String, System.String) on controller FortalezaServer.Controllers.VendasController (FortalezaServer).
2021-03-25 11:34:25.036 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-03-25 11:34:25.041 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `v`.`idvenda`, `v`.`aberta`, `v`.`acrescimo`, `v`.`desconto`, `v`.`descricao`, `v`.`hora_entrada`, `v`.`hora_fechamento`, `v`.`idcaixa`, `v`.`idcliente`, `v`.`idpdv`, `v`.`idresponsavel`, `v`.`numero_venda`, `v`.`paga`, `v`.`tipo`, `v`.`valor_pago`, `i`.`iditem_venda`, `i`.`cancelado`, `i`.`custo`, `i`.`iditem`, `i`.`idvenda`, `i`.`indice`, `i`.`quantidade`, `i`.`valor`
FROM `venda` AS `v`
LEFT JOIN `item_venda` AS `i` ON `v`.`idvenda` = `i`.`idvenda`
ORDER BY `v`.`idvenda`, `i`.`iditem_venda`
2021-03-25 11:34:25.046 -03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[FortalezaServer.Models.Venda, FortalezaServer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-03-25 11:34:25.049 -03:00 [INF] Executed action FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer) in 13.3117ms
2021-03-25 11:34:25.050 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer)'
2021-03-25 11:34:25.051 -03:00 [INF] Request finished in 24.3855ms 200 application/json; charset=utf-8
2021-03-25 11:34:52.347 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/caixas/actions/aberto?idnomeCaixa=1  
2021-03-25 11:34:52.348 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.CaixasController.GetCaixaAberto (FortalezaServer)'
2021-03-25 11:34:52.349 -03:00 [INF] Route matched with {action = "GetCaixaAberto", controller = "Caixas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FortalezaServer.Models.Caixa]] GetCaixaAberto(Int32, Boolean) on controller FortalezaServer.Controllers.CaixasController (FortalezaServer).
2021-03-25 11:34:52.356 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-03-25 11:34:52.360 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__idnomeCaixa_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`idcaixa`, `c`.`aberto`, `c`.`idnome_caixa`, `n`.`idnome_caixa`, `n`.`nome`, `a`.`idcaixa`, `a`.`hora`, `a`.`idpdv`, `a`.`idusuario`, `p`.`idpdv`, `p`.`nome`, `u`.`idusuario`, `u`.`cpf`, `u`.`idendereco`, `u`.`login`, `u`.`nome`, `u`.`senha`, `u`.`telefone1`, `u`.`telefone2`
FROM `caixa` AS `c`
INNER JOIN `nome_caixa` AS `n` ON `c`.`idnome_caixa` = `n`.`idnome_caixa`
LEFT JOIN `abertura` AS `a` ON `c`.`idcaixa` = `a`.`idcaixa`
LEFT JOIN `pdv` AS `p` ON `a`.`idpdv` = `p`.`idpdv`
LEFT JOIN `usuario` AS `u` ON `a`.`idusuario` = `u`.`idusuario`
WHERE (`c`.`aberto` = 1) AND (`c`.`idnome_caixa` = @__idnomeCaixa_0)
LIMIT 1
2021-03-25 11:34:52.366 -03:00 [INF] Executing ObjectResult, writing value of type 'FortalezaServer.Models.Caixa'.
2021-03-25 11:34:52.367 -03:00 [INF] Executed action FortalezaServer.Controllers.CaixasController.GetCaixaAberto (FortalezaServer) in 15.13ms
2021-03-25 11:34:52.368 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.CaixasController.GetCaixaAberto (FortalezaServer)'
2021-03-25 11:34:52.370 -03:00 [INF] Request finished in 23.0949ms 200 application/json; charset=utf-8
2021-03-25 11:34:52.402 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8000/api/vendas application/json; charset=utf-8 504
2021-03-25 11:34:52.403 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.VendasController.PostVenda (FortalezaServer)'
2021-03-25 11:34:52.404 -03:00 [INF] Route matched with {action = "PostVenda", controller = "Vendas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FortalezaServer.Models.Venda]] PostVenda(FortalezaServer.Models.Venda) on controller FortalezaServer.Controllers.VendasController (FortalezaServer).
2021-03-25 11:34:52.409 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-03-25 11:34:52.416 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `v`.`numero_venda`
FROM `venda` AS `v`
ORDER BY `v`.`idvenda` DESC
LIMIT 1
2021-03-25 11:34:52.428 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = SByte), @p1='?' (DbType = Decimal), @p2='?' (DbType = Decimal), @p3='?' (Size = 255), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = SByte), @p12='?' (DbType = Int32), @p13='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `venda` (`aberta`, `acrescimo`, `desconto`, `descricao`, `hora_entrada`, `hora_fechamento`, `idcaixa`, `idcliente`, `idpdv`, `idresponsavel`, `numero_venda`, `paga`, `tipo`, `valor_pago`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
SELECT `idvenda`
FROM `venda`
WHERE ROW_COUNT() = 1
 AND `idvenda`=LAST_INSERT_ID();
2021-03-25 11:34:52.435 -03:00 [INF] Executing ObjectResult, writing value of type 'FortalezaServer.Models.Venda'.
2021-03-25 11:34:52.437 -03:00 [INF] Executed action FortalezaServer.Controllers.VendasController.PostVenda (FortalezaServer) in 29.3263ms
2021-03-25 11:34:52.440 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.VendasController.PostVenda (FortalezaServer)'
2021-03-25 11:34:52.442 -03:00 [INF] Request finished in 44.0277ms 201 application/json; charset=utf-8
2021-03-25 11:34:52.451 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8000/api/vendas/2/itemvendas application/json; charset=utf-8 337
2021-03-25 11:34:52.453 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.VendasController.PostItemvenda (FortalezaServer)'
2021-03-25 11:34:52.455 -03:00 [INF] Route matched with {action = "PostItemvenda", controller = "Vendas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FortalezaServer.Models.Venda]] PostItemvenda(Int32, FortalezaServer.Models.ItemVenda) on controller FortalezaServer.Controllers.VendasController (FortalezaServer).
2021-03-25 11:34:52.459 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-03-25 11:34:52.463 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `v`.`idvenda`, `v`.`aberta`, `v`.`acrescimo`, `v`.`desconto`, `v`.`descricao`, `v`.`hora_entrada`, `v`.`hora_fechamento`, `v`.`idcaixa`, `v`.`idcliente`, `v`.`idpdv`, `v`.`idresponsavel`, `v`.`numero_venda`, `v`.`paga`, `v`.`tipo`, `v`.`valor_pago`
FROM `venda` AS `v`
WHERE `v`.`idvenda` = @__p_0
LIMIT 1
2021-03-25 11:34:52.468 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`iditem`, `i`.`atacado`, `i`.`codigo_barras`, `i`.`descricao`, `i`.`disponivel`, `i`.`estoque`, `i`.`estoque_minimo`, `i`.`imagem`, `i`.`permite_combo`, `i`.`quantidade_atacado`, `i`.`tipo`, `i`.`unidade`, `i`.`unidade_inteira`, `i`.`valor`, `i`.`valor_atacado`, `i`.`visivel`
FROM `item` AS `i`
WHERE `i`.`iditem` = @__p_0
LIMIT 1
2021-03-25 11:34:52.475 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`iditem_venda`, `i`.`cancelado`, `i`.`custo`, `i`.`iditem`, `i`.`idvenda`, `i`.`indice`, `i`.`quantidade`, `i`.`valor`
FROM `item_venda` AS `i`
WHERE `i`.`idvenda` = @__p_0
2021-03-25 11:34:52.480 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Decimal), @p1='?' (DbType = AnsiString), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Decimal), @p6='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `item_venda` (`cancelado`, `custo`, `iditem`, `idvenda`, `indice`, `quantidade`, `valor`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `iditem_venda`
FROM `item_venda`
WHERE ROW_COUNT() = 1
 AND `iditem_venda`=LAST_INSERT_ID();
2021-03-25 11:34:52.487 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p14='?' (DbType = Int32), @p0='?' (DbType = SByte), @p1='?' (DbType = Decimal), @p2='?' (DbType = Decimal), @p3='?' (Size = 255), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = SByte), @p12='?' (DbType = Int32), @p13='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
UPDATE `venda` SET `aberta` = @p0, `acrescimo` = @p1, `desconto` = @p2, `descricao` = @p3, `hora_entrada` = @p4, `hora_fechamento` = @p5, `idcaixa` = @p6, `idcliente` = @p7, `idpdv` = @p8, `idresponsavel` = @p9, `numero_venda` = @p10, `paga` = @p11, `tipo` = @p12, `valor_pago` = @p13
WHERE `idvenda` = @p14;
SELECT ROW_COUNT();
2021-03-25 11:34:52.492 -03:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType2`2[[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-03-25 11:34:52.493 -03:00 [INF] Executed action FortalezaServer.Controllers.VendasController.PostItemvenda (FortalezaServer) in 35.2409ms
2021-03-25 11:34:52.495 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.VendasController.PostItemvenda (FortalezaServer)'
2021-03-25 11:34:52.497 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/vendas/2?itemvendas=true  
2021-03-25 11:34:52.498 -03:00 [INF] Request finished in 47.0734ms 201 application/json; charset=utf-8
2021-03-25 11:34:52.499 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer)'
2021-03-25 11:34:52.503 -03:00 [INF] Route matched with {action = "GetVenda", controller = "Vendas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FortalezaServer.Models.Venda]] GetVenda(Int32, Boolean, Boolean, Boolean) on controller FortalezaServer.Controllers.VendasController (FortalezaServer).
2021-03-25 11:34:52.508 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-03-25 11:34:52.511 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `v`.`idvenda`, `v`.`aberta`, `v`.`acrescimo`, `v`.`desconto`, `v`.`descricao`, `v`.`hora_entrada`, `v`.`hora_fechamento`, `v`.`idcaixa`, `v`.`idcliente`, `v`.`idpdv`, `v`.`idresponsavel`, `v`.`numero_venda`, `v`.`paga`, `v`.`tipo`, `v`.`valor_pago`
FROM `venda` AS `v`
WHERE `v`.`idvenda` = @__p_0
LIMIT 1
2021-03-25 11:34:52.520 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`iditem_venda`, `i`.`cancelado`, `i`.`custo`, `i`.`iditem`, `i`.`idvenda`, `i`.`indice`, `i`.`quantidade`, `i`.`valor`, `i0`.`iditem`, `i0`.`atacado`, `i0`.`codigo_barras`, `i0`.`descricao`, `i0`.`disponivel`, `i0`.`estoque`, `i0`.`estoque_minimo`, `i0`.`imagem`, `i0`.`permite_combo`, `i0`.`quantidade_atacado`, `i0`.`tipo`, `i0`.`unidade`, `i0`.`unidade_inteira`, `i0`.`valor`, `i0`.`valor_atacado`, `i0`.`visivel`
FROM `item_venda` AS `i`
INNER JOIN `item` AS `i0` ON `i`.`iditem` = `i0`.`iditem`
WHERE `i`.`idvenda` = @__p_0
2021-03-25 11:34:52.524 -03:00 [INF] Executing ObjectResult, writing value of type 'FortalezaServer.Models.Venda'.
2021-03-25 11:34:52.525 -03:00 [INF] Executed action FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer) in 18.1825ms
2021-03-25 11:34:52.527 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer)'
2021-03-25 11:34:52.529 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/vendas/2?itemvendas=true  
2021-03-25 11:34:52.529 -03:00 [INF] Request finished in 32.4137ms 200 application/json; charset=utf-8
2021-03-25 11:34:52.530 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer)'
2021-03-25 11:34:52.534 -03:00 [INF] Route matched with {action = "GetVenda", controller = "Vendas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FortalezaServer.Models.Venda]] GetVenda(Int32, Boolean, Boolean, Boolean) on controller FortalezaServer.Controllers.VendasController (FortalezaServer).
2021-03-25 11:34:52.537 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-03-25 11:34:52.540 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `v`.`idvenda`, `v`.`aberta`, `v`.`acrescimo`, `v`.`desconto`, `v`.`descricao`, `v`.`hora_entrada`, `v`.`hora_fechamento`, `v`.`idcaixa`, `v`.`idcliente`, `v`.`idpdv`, `v`.`idresponsavel`, `v`.`numero_venda`, `v`.`paga`, `v`.`tipo`, `v`.`valor_pago`
FROM `venda` AS `v`
WHERE `v`.`idvenda` = @__p_0
LIMIT 1
2021-03-25 11:34:52.546 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`iditem_venda`, `i`.`cancelado`, `i`.`custo`, `i`.`iditem`, `i`.`idvenda`, `i`.`indice`, `i`.`quantidade`, `i`.`valor`, `i0`.`iditem`, `i0`.`atacado`, `i0`.`codigo_barras`, `i0`.`descricao`, `i0`.`disponivel`, `i0`.`estoque`, `i0`.`estoque_minimo`, `i0`.`imagem`, `i0`.`permite_combo`, `i0`.`quantidade_atacado`, `i0`.`tipo`, `i0`.`unidade`, `i0`.`unidade_inteira`, `i0`.`valor`, `i0`.`valor_atacado`, `i0`.`visivel`
FROM `item_venda` AS `i`
INNER JOIN `item` AS `i0` ON `i`.`iditem` = `i0`.`iditem`
WHERE `i`.`idvenda` = @__p_0
2021-03-25 11:34:52.551 -03:00 [INF] Executing ObjectResult, writing value of type 'FortalezaServer.Models.Venda'.
2021-03-25 11:34:52.553 -03:00 [INF] Executed action FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer) in 16.014ms
2021-03-25 11:34:52.554 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer)'
2021-03-25 11:34:52.555 -03:00 [INF] Request finished in 26.7043ms 200 application/json; charset=utf-8
2021-03-25 11:34:52.707 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8000/api/vendas/2/itemvendas application/json; charset=utf-8 337
2021-03-25 11:34:52.709 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.VendasController.PostItemvenda (FortalezaServer)'
2021-03-25 11:34:52.710 -03:00 [INF] Route matched with {action = "PostItemvenda", controller = "Vendas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FortalezaServer.Models.Venda]] PostItemvenda(Int32, FortalezaServer.Models.ItemVenda) on controller FortalezaServer.Controllers.VendasController (FortalezaServer).
2021-03-25 11:34:52.716 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-03-25 11:34:52.719 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `v`.`idvenda`, `v`.`aberta`, `v`.`acrescimo`, `v`.`desconto`, `v`.`descricao`, `v`.`hora_entrada`, `v`.`hora_fechamento`, `v`.`idcaixa`, `v`.`idcliente`, `v`.`idpdv`, `v`.`idresponsavel`, `v`.`numero_venda`, `v`.`paga`, `v`.`tipo`, `v`.`valor_pago`
FROM `venda` AS `v`
WHERE `v`.`idvenda` = @__p_0
LIMIT 1
2021-03-25 11:34:52.725 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`iditem`, `i`.`atacado`, `i`.`codigo_barras`, `i`.`descricao`, `i`.`disponivel`, `i`.`estoque`, `i`.`estoque_minimo`, `i`.`imagem`, `i`.`permite_combo`, `i`.`quantidade_atacado`, `i`.`tipo`, `i`.`unidade`, `i`.`unidade_inteira`, `i`.`valor`, `i`.`valor_atacado`, `i`.`visivel`
FROM `item` AS `i`
WHERE `i`.`iditem` = @__p_0
LIMIT 1
2021-03-25 11:34:52.735 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`iditem_venda`, `i`.`cancelado`, `i`.`custo`, `i`.`iditem`, `i`.`idvenda`, `i`.`indice`, `i`.`quantidade`, `i`.`valor`
FROM `item_venda` AS `i`
WHERE `i`.`idvenda` = @__p_0
2021-03-25 11:34:52.742 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Decimal), @p1='?' (DbType = AnsiString), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Decimal), @p6='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `item_venda` (`cancelado`, `custo`, `iditem`, `idvenda`, `indice`, `quantidade`, `valor`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `iditem_venda`
FROM `item_venda`
WHERE ROW_COUNT() = 1
 AND `iditem_venda`=LAST_INSERT_ID();
2021-03-25 11:34:52.751 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p14='?' (DbType = Int32), @p0='?' (DbType = SByte), @p1='?' (DbType = Decimal), @p2='?' (DbType = Decimal), @p3='?' (Size = 255), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = SByte), @p12='?' (DbType = Int32), @p13='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
UPDATE `venda` SET `aberta` = @p0, `acrescimo` = @p1, `desconto` = @p2, `descricao` = @p3, `hora_entrada` = @p4, `hora_fechamento` = @p5, `idcaixa` = @p6, `idcliente` = @p7, `idpdv` = @p8, `idresponsavel` = @p9, `numero_venda` = @p10, `paga` = @p11, `tipo` = @p12, `valor_pago` = @p13
WHERE `idvenda` = @p14;
SELECT ROW_COUNT();
2021-03-25 11:34:52.759 -03:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType2`2[[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-03-25 11:34:52.760 -03:00 [INF] Executed action FortalezaServer.Controllers.VendasController.PostItemvenda (FortalezaServer) in 45.253ms
2021-03-25 11:34:52.762 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.VendasController.PostItemvenda (FortalezaServer)'
2021-03-25 11:34:52.764 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/vendas/2?itemvendas=true  
2021-03-25 11:34:52.764 -03:00 [INF] Request finished in 57.1076ms 201 application/json; charset=utf-8
2021-03-25 11:34:52.766 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer)'
2021-03-25 11:34:52.768 -03:00 [INF] Route matched with {action = "GetVenda", controller = "Vendas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FortalezaServer.Models.Venda]] GetVenda(Int32, Boolean, Boolean, Boolean) on controller FortalezaServer.Controllers.VendasController (FortalezaServer).
2021-03-25 11:34:52.773 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-03-25 11:34:52.776 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `v`.`idvenda`, `v`.`aberta`, `v`.`acrescimo`, `v`.`desconto`, `v`.`descricao`, `v`.`hora_entrada`, `v`.`hora_fechamento`, `v`.`idcaixa`, `v`.`idcliente`, `v`.`idpdv`, `v`.`idresponsavel`, `v`.`numero_venda`, `v`.`paga`, `v`.`tipo`, `v`.`valor_pago`
FROM `venda` AS `v`
WHERE `v`.`idvenda` = @__p_0
LIMIT 1
2021-03-25 11:34:52.783 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`iditem_venda`, `i`.`cancelado`, `i`.`custo`, `i`.`iditem`, `i`.`idvenda`, `i`.`indice`, `i`.`quantidade`, `i`.`valor`, `i0`.`iditem`, `i0`.`atacado`, `i0`.`codigo_barras`, `i0`.`descricao`, `i0`.`disponivel`, `i0`.`estoque`, `i0`.`estoque_minimo`, `i0`.`imagem`, `i0`.`permite_combo`, `i0`.`quantidade_atacado`, `i0`.`tipo`, `i0`.`unidade`, `i0`.`unidade_inteira`, `i0`.`valor`, `i0`.`valor_atacado`, `i0`.`visivel`
FROM `item_venda` AS `i`
INNER JOIN `item` AS `i0` ON `i`.`iditem` = `i0`.`iditem`
WHERE `i`.`idvenda` = @__p_0
2021-03-25 11:34:52.789 -03:00 [INF] Executing ObjectResult, writing value of type 'FortalezaServer.Models.Venda'.
2021-03-25 11:34:52.790 -03:00 [INF] Executed action FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer) in 18.1803ms
2021-03-25 11:34:52.792 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer)'
2021-03-25 11:34:52.794 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/vendas/2?itemvendas=true  
2021-03-25 11:34:52.794 -03:00 [INF] Request finished in 30.4773ms 200 application/json; charset=utf-8
2021-03-25 11:34:52.796 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer)'
2021-03-25 11:34:52.799 -03:00 [INF] Route matched with {action = "GetVenda", controller = "Vendas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FortalezaServer.Models.Venda]] GetVenda(Int32, Boolean, Boolean, Boolean) on controller FortalezaServer.Controllers.VendasController (FortalezaServer).
2021-03-25 11:34:52.805 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-03-25 11:34:52.808 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `v`.`idvenda`, `v`.`aberta`, `v`.`acrescimo`, `v`.`desconto`, `v`.`descricao`, `v`.`hora_entrada`, `v`.`hora_fechamento`, `v`.`idcaixa`, `v`.`idcliente`, `v`.`idpdv`, `v`.`idresponsavel`, `v`.`numero_venda`, `v`.`paga`, `v`.`tipo`, `v`.`valor_pago`
FROM `venda` AS `v`
WHERE `v`.`idvenda` = @__p_0
LIMIT 1
2021-03-25 11:34:52.817 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`iditem_venda`, `i`.`cancelado`, `i`.`custo`, `i`.`iditem`, `i`.`idvenda`, `i`.`indice`, `i`.`quantidade`, `i`.`valor`, `i0`.`iditem`, `i0`.`atacado`, `i0`.`codigo_barras`, `i0`.`descricao`, `i0`.`disponivel`, `i0`.`estoque`, `i0`.`estoque_minimo`, `i0`.`imagem`, `i0`.`permite_combo`, `i0`.`quantidade_atacado`, `i0`.`tipo`, `i0`.`unidade`, `i0`.`unidade_inteira`, `i0`.`valor`, `i0`.`valor_atacado`, `i0`.`visivel`
FROM `item_venda` AS `i`
INNER JOIN `item` AS `i0` ON `i`.`iditem` = `i0`.`iditem`
WHERE `i`.`idvenda` = @__p_0
2021-03-25 11:34:52.823 -03:00 [INF] Executing ObjectResult, writing value of type 'FortalezaServer.Models.Venda'.
2021-03-25 11:34:52.826 -03:00 [INF] Executed action FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer) in 21.4755ms
2021-03-25 11:34:52.827 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer)'
2021-03-25 11:34:52.829 -03:00 [INF] Request finished in 35.1493ms 200 application/json; charset=utf-8
2021-03-25 11:34:53.022 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8000/api/vendas/2/itemvendas application/json; charset=utf-8 337
2021-03-25 11:34:53.023 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.VendasController.PostItemvenda (FortalezaServer)'
2021-03-25 11:34:53.025 -03:00 [INF] Route matched with {action = "PostItemvenda", controller = "Vendas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FortalezaServer.Models.Venda]] PostItemvenda(Int32, FortalezaServer.Models.ItemVenda) on controller FortalezaServer.Controllers.VendasController (FortalezaServer).
2021-03-25 11:34:53.035 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-03-25 11:34:53.040 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `v`.`idvenda`, `v`.`aberta`, `v`.`acrescimo`, `v`.`desconto`, `v`.`descricao`, `v`.`hora_entrada`, `v`.`hora_fechamento`, `v`.`idcaixa`, `v`.`idcliente`, `v`.`idpdv`, `v`.`idresponsavel`, `v`.`numero_venda`, `v`.`paga`, `v`.`tipo`, `v`.`valor_pago`
FROM `venda` AS `v`
WHERE `v`.`idvenda` = @__p_0
LIMIT 1
2021-03-25 11:34:53.049 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`iditem`, `i`.`atacado`, `i`.`codigo_barras`, `i`.`descricao`, `i`.`disponivel`, `i`.`estoque`, `i`.`estoque_minimo`, `i`.`imagem`, `i`.`permite_combo`, `i`.`quantidade_atacado`, `i`.`tipo`, `i`.`unidade`, `i`.`unidade_inteira`, `i`.`valor`, `i`.`valor_atacado`, `i`.`visivel`
FROM `item` AS `i`
WHERE `i`.`iditem` = @__p_0
LIMIT 1
2021-03-25 11:34:53.058 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`iditem_venda`, `i`.`cancelado`, `i`.`custo`, `i`.`iditem`, `i`.`idvenda`, `i`.`indice`, `i`.`quantidade`, `i`.`valor`
FROM `item_venda` AS `i`
WHERE `i`.`idvenda` = @__p_0
2021-03-25 11:34:53.068 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Decimal), @p1='?' (DbType = AnsiString), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Decimal), @p6='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `item_venda` (`cancelado`, `custo`, `iditem`, `idvenda`, `indice`, `quantidade`, `valor`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `iditem_venda`
FROM `item_venda`
WHERE ROW_COUNT() = 1
 AND `iditem_venda`=LAST_INSERT_ID();
2021-03-25 11:34:53.082 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p14='?' (DbType = Int32), @p0='?' (DbType = SByte), @p1='?' (DbType = Decimal), @p2='?' (DbType = Decimal), @p3='?' (Size = 255), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = SByte), @p12='?' (DbType = Int32), @p13='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
UPDATE `venda` SET `aberta` = @p0, `acrescimo` = @p1, `desconto` = @p2, `descricao` = @p3, `hora_entrada` = @p4, `hora_fechamento` = @p5, `idcaixa` = @p6, `idcliente` = @p7, `idpdv` = @p8, `idresponsavel` = @p9, `numero_venda` = @p10, `paga` = @p11, `tipo` = @p12, `valor_pago` = @p13
WHERE `idvenda` = @p14;
SELECT ROW_COUNT();
2021-03-25 11:34:53.092 -03:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType2`2[[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-03-25 11:34:53.095 -03:00 [INF] Executed action FortalezaServer.Controllers.VendasController.PostItemvenda (FortalezaServer) in 62.708ms
2021-03-25 11:34:53.096 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.VendasController.PostItemvenda (FortalezaServer)'
2021-03-25 11:34:53.098 -03:00 [INF] Request finished in 77.0086ms 201 application/json; charset=utf-8
2021-03-25 11:34:53.099 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/vendas/2?itemvendas=true  
2021-03-25 11:34:53.101 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer)'
2021-03-25 11:34:53.104 -03:00 [INF] Route matched with {action = "GetVenda", controller = "Vendas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FortalezaServer.Models.Venda]] GetVenda(Int32, Boolean, Boolean, Boolean) on controller FortalezaServer.Controllers.VendasController (FortalezaServer).
2021-03-25 11:34:53.107 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-03-25 11:34:53.112 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `v`.`idvenda`, `v`.`aberta`, `v`.`acrescimo`, `v`.`desconto`, `v`.`descricao`, `v`.`hora_entrada`, `v`.`hora_fechamento`, `v`.`idcaixa`, `v`.`idcliente`, `v`.`idpdv`, `v`.`idresponsavel`, `v`.`numero_venda`, `v`.`paga`, `v`.`tipo`, `v`.`valor_pago`
FROM `venda` AS `v`
WHERE `v`.`idvenda` = @__p_0
LIMIT 1
2021-03-25 11:34:53.118 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`iditem_venda`, `i`.`cancelado`, `i`.`custo`, `i`.`iditem`, `i`.`idvenda`, `i`.`indice`, `i`.`quantidade`, `i`.`valor`, `i0`.`iditem`, `i0`.`atacado`, `i0`.`codigo_barras`, `i0`.`descricao`, `i0`.`disponivel`, `i0`.`estoque`, `i0`.`estoque_minimo`, `i0`.`imagem`, `i0`.`permite_combo`, `i0`.`quantidade_atacado`, `i0`.`tipo`, `i0`.`unidade`, `i0`.`unidade_inteira`, `i0`.`valor`, `i0`.`valor_atacado`, `i0`.`visivel`
FROM `item_venda` AS `i`
INNER JOIN `item` AS `i0` ON `i`.`iditem` = `i0`.`iditem`
WHERE `i`.`idvenda` = @__p_0
2021-03-25 11:34:53.123 -03:00 [INF] Executing ObjectResult, writing value of type 'FortalezaServer.Models.Venda'.
2021-03-25 11:34:53.125 -03:00 [INF] Executed action FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer) in 19.117ms
2021-03-25 11:34:53.127 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer)'
2021-03-25 11:34:53.128 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/vendas/2?itemvendas=true  
2021-03-25 11:34:53.129 -03:00 [INF] Request finished in 30.0787ms 200 application/json; charset=utf-8
2021-03-25 11:34:53.130 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer)'
2021-03-25 11:34:53.134 -03:00 [INF] Route matched with {action = "GetVenda", controller = "Vendas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FortalezaServer.Models.Venda]] GetVenda(Int32, Boolean, Boolean, Boolean) on controller FortalezaServer.Controllers.VendasController (FortalezaServer).
2021-03-25 11:34:53.141 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-03-25 11:34:53.145 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `v`.`idvenda`, `v`.`aberta`, `v`.`acrescimo`, `v`.`desconto`, `v`.`descricao`, `v`.`hora_entrada`, `v`.`hora_fechamento`, `v`.`idcaixa`, `v`.`idcliente`, `v`.`idpdv`, `v`.`idresponsavel`, `v`.`numero_venda`, `v`.`paga`, `v`.`tipo`, `v`.`valor_pago`
FROM `venda` AS `v`
WHERE `v`.`idvenda` = @__p_0
LIMIT 1
2021-03-25 11:34:53.152 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`iditem_venda`, `i`.`cancelado`, `i`.`custo`, `i`.`iditem`, `i`.`idvenda`, `i`.`indice`, `i`.`quantidade`, `i`.`valor`, `i0`.`iditem`, `i0`.`atacado`, `i0`.`codigo_barras`, `i0`.`descricao`, `i0`.`disponivel`, `i0`.`estoque`, `i0`.`estoque_minimo`, `i0`.`imagem`, `i0`.`permite_combo`, `i0`.`quantidade_atacado`, `i0`.`tipo`, `i0`.`unidade`, `i0`.`unidade_inteira`, `i0`.`valor`, `i0`.`valor_atacado`, `i0`.`visivel`
FROM `item_venda` AS `i`
INNER JOIN `item` AS `i0` ON `i`.`iditem` = `i0`.`iditem`
WHERE `i`.`idvenda` = @__p_0
2021-03-25 11:34:53.156 -03:00 [INF] Executing ObjectResult, writing value of type 'FortalezaServer.Models.Venda'.
2021-03-25 11:34:53.157 -03:00 [INF] Executed action FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer) in 17.0281ms
2021-03-25 11:34:53.159 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer)'
2021-03-25 11:34:53.161 -03:00 [INF] Request finished in 32.0715ms 200 application/json; charset=utf-8
2021-03-25 11:34:55.242 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/caixas/actions/aberto?idnomeCaixa=1  
2021-03-25 11:34:55.243 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.CaixasController.GetCaixaAberto (FortalezaServer)'
2021-03-25 11:34:55.244 -03:00 [INF] Route matched with {action = "GetCaixaAberto", controller = "Caixas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FortalezaServer.Models.Caixa]] GetCaixaAberto(Int32, Boolean) on controller FortalezaServer.Controllers.CaixasController (FortalezaServer).
2021-03-25 11:34:55.251 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-03-25 11:34:55.255 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__idnomeCaixa_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`idcaixa`, `c`.`aberto`, `c`.`idnome_caixa`, `n`.`idnome_caixa`, `n`.`nome`, `a`.`idcaixa`, `a`.`hora`, `a`.`idpdv`, `a`.`idusuario`, `p`.`idpdv`, `p`.`nome`, `u`.`idusuario`, `u`.`cpf`, `u`.`idendereco`, `u`.`login`, `u`.`nome`, `u`.`senha`, `u`.`telefone1`, `u`.`telefone2`
FROM `caixa` AS `c`
INNER JOIN `nome_caixa` AS `n` ON `c`.`idnome_caixa` = `n`.`idnome_caixa`
LEFT JOIN `abertura` AS `a` ON `c`.`idcaixa` = `a`.`idcaixa`
LEFT JOIN `pdv` AS `p` ON `a`.`idpdv` = `p`.`idpdv`
LEFT JOIN `usuario` AS `u` ON `a`.`idusuario` = `u`.`idusuario`
WHERE (`c`.`aberto` = 1) AND (`c`.`idnome_caixa` = @__idnomeCaixa_0)
LIMIT 1
2021-03-25 11:34:55.260 -03:00 [INF] Executing ObjectResult, writing value of type 'FortalezaServer.Models.Caixa'.
2021-03-25 11:34:55.263 -03:00 [INF] Executed action FortalezaServer.Controllers.CaixasController.GetCaixaAberto (FortalezaServer) in 13.7209ms
2021-03-25 11:34:55.267 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.CaixasController.GetCaixaAberto (FortalezaServer)'
2021-03-25 11:34:55.268 -03:00 [INF] Request finished in 26.5023ms 200 application/json; charset=utf-8
2021-03-25 11:34:55.283 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/vendas/2?pagamentos=true  
2021-03-25 11:34:55.284 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer)'
2021-03-25 11:34:55.286 -03:00 [INF] Route matched with {action = "GetVenda", controller = "Vendas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FortalezaServer.Models.Venda]] GetVenda(Int32, Boolean, Boolean, Boolean) on controller FortalezaServer.Controllers.VendasController (FortalezaServer).
2021-03-25 11:34:55.290 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-03-25 11:34:55.294 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `v`.`idvenda`, `v`.`aberta`, `v`.`acrescimo`, `v`.`desconto`, `v`.`descricao`, `v`.`hora_entrada`, `v`.`hora_fechamento`, `v`.`idcaixa`, `v`.`idcliente`, `v`.`idpdv`, `v`.`idresponsavel`, `v`.`numero_venda`, `v`.`paga`, `v`.`tipo`, `v`.`valor_pago`
FROM `venda` AS `v`
WHERE `v`.`idvenda` = @__p_0
LIMIT 1
2021-03-25 11:34:55.300 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`iditem_venda`, `i`.`cancelado`, `i`.`custo`, `i`.`iditem`, `i`.`idvenda`, `i`.`indice`, `i`.`quantidade`, `i`.`valor`
FROM `item_venda` AS `i`
WHERE `i`.`idvenda` = @__p_0
2021-03-25 11:34:55.306 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`idvenda`, `p`.`idmovimento`, `m`.`idmovimento`, `m`.`descricao`, `m`.`hora_entrada`, `m`.`idbandeira`, `m`.`idcaixa`, `m`.`idforma_pagamento`, `m`.`idpdv`, `m`.`idusuario`, `m`.`tipo`, `m`.`valor`, `f`.`idforma_pagamento`, `f`.`bandeira`, `f`.`debitar_cliente`, `f`.`debito`, `f`.`gerar_contas_receber`, `f`.`nome`, `f`.`ordem`
FROM `pagamento` AS `p`
INNER JOIN `movimento` AS `m` ON `p`.`idmovimento` = `m`.`idmovimento`
LEFT JOIN `forma_pagamento` AS `f` ON `m`.`idforma_pagamento` = `f`.`idforma_pagamento`
WHERE `p`.`idvenda` = @__p_0
2021-03-25 11:34:55.314 -03:00 [INF] Executing ObjectResult, writing value of type 'FortalezaServer.Models.Venda'.
2021-03-25 11:34:55.315 -03:00 [INF] Executed action FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer) in 25.8043ms
2021-03-25 11:34:55.316 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer)'
2021-03-25 11:34:55.322 -03:00 [INF] Request finished in 38.7369ms 200 application/json; charset=utf-8
2021-03-25 11:34:55.374 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/caixas/actions/aberto?idnomeCaixa=1  
2021-03-25 11:34:55.376 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.CaixasController.GetCaixaAberto (FortalezaServer)'
2021-03-25 11:34:55.378 -03:00 [INF] Route matched with {action = "GetCaixaAberto", controller = "Caixas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FortalezaServer.Models.Caixa]] GetCaixaAberto(Int32, Boolean) on controller FortalezaServer.Controllers.CaixasController (FortalezaServer).
2021-03-25 11:34:55.384 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-03-25 11:34:55.387 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__idnomeCaixa_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`idcaixa`, `c`.`aberto`, `c`.`idnome_caixa`, `n`.`idnome_caixa`, `n`.`nome`, `a`.`idcaixa`, `a`.`hora`, `a`.`idpdv`, `a`.`idusuario`, `p`.`idpdv`, `p`.`nome`, `u`.`idusuario`, `u`.`cpf`, `u`.`idendereco`, `u`.`login`, `u`.`nome`, `u`.`senha`, `u`.`telefone1`, `u`.`telefone2`
FROM `caixa` AS `c`
INNER JOIN `nome_caixa` AS `n` ON `c`.`idnome_caixa` = `n`.`idnome_caixa`
LEFT JOIN `abertura` AS `a` ON `c`.`idcaixa` = `a`.`idcaixa`
LEFT JOIN `pdv` AS `p` ON `a`.`idpdv` = `p`.`idpdv`
LEFT JOIN `usuario` AS `u` ON `a`.`idusuario` = `u`.`idusuario`
WHERE (`c`.`aberto` = 1) AND (`c`.`idnome_caixa` = @__idnomeCaixa_0)
LIMIT 1
2021-03-25 11:34:55.392 -03:00 [INF] Executing ObjectResult, writing value of type 'FortalezaServer.Models.Caixa'.
2021-03-25 11:34:55.395 -03:00 [INF] Executed action FortalezaServer.Controllers.CaixasController.GetCaixaAberto (FortalezaServer) in 12.131ms
2021-03-25 11:34:55.397 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.CaixasController.GetCaixaAberto (FortalezaServer)'
2021-03-25 11:34:55.398 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/formapagamentos  
2021-03-25 11:34:55.399 -03:00 [INF] Request finished in 25.1488ms 200 application/json; charset=utf-8
2021-03-25 11:34:55.400 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.FormaPagamentosController.GetFormaPagamento (FortalezaServer)'
2021-03-25 11:34:55.403 -03:00 [INF] Route matched with {action = "GetFormaPagamento", controller = "FormaPagamentos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[FortalezaServer.Models.FormaPagamento]]] GetFormaPagamento() on controller FortalezaServer.Controllers.FormaPagamentosController (FortalezaServer).
2021-03-25 11:34:55.406 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-03-25 11:34:55.409 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `f`.`idforma_pagamento`, `f`.`bandeira`, `f`.`debitar_cliente`, `f`.`debito`, `f`.`gerar_contas_receber`, `f`.`nome`, `f`.`ordem`
FROM `forma_pagamento` AS `f`
ORDER BY `f`.`ordem`
2021-03-25 11:34:55.415 -03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[FortalezaServer.Models.FormaPagamento, FortalezaServer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-03-25 11:34:55.416 -03:00 [INF] Executed action FortalezaServer.Controllers.FormaPagamentosController.GetFormaPagamento (FortalezaServer) in 10.5337ms
2021-03-25 11:34:55.420 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.FormaPagamentosController.GetFormaPagamento (FortalezaServer)'
2021-03-25 11:34:55.421 -03:00 [INF] Request finished in 22.9206ms 200 application/json; charset=utf-8
2021-03-25 11:34:58.019 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8000/api/vendas/2/pagamentos application/json; charset=utf-8 730
2021-03-25 11:34:58.021 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.VendasController.PostPagamento (FortalezaServer)'
2021-03-25 11:34:58.023 -03:00 [INF] Route matched with {action = "PostPagamento", controller = "Vendas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FortalezaServer.Models.Venda]] PostPagamento(Int32, FortalezaServer.Models.Pagamento) on controller FortalezaServer.Controllers.VendasController (FortalezaServer).
2021-03-25 11:34:58.038 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-03-25 11:34:58.043 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`idvenda`, `t`.`aberta`, `t`.`acrescimo`, `t`.`desconto`, `t`.`descricao`, `t`.`hora_entrada`, `t`.`hora_fechamento`, `t`.`idcaixa`, `t`.`idcliente`, `t`.`idpdv`, `t`.`idresponsavel`, `t`.`numero_venda`, `t`.`paga`, `t`.`tipo`, `t`.`valor_pago`, `t`.`idcliente0`, `t`.`celular`, `t`.`cpf`, `t`.`email`, `t`.`idendereco`, `t`.`nome`, `t`.`rg`, `t`.`telefone`, `i`.`iditem_venda`, `i`.`cancelado`, `i`.`custo`, `i`.`iditem`, `i`.`idvenda`, `i`.`indice`, `i`.`quantidade`, `i`.`valor`, `t0`.`idcliente`, `t0`.`idmovimento`, `t0`.`idmovimento0`, `t0`.`descricao`, `t0`.`hora_entrada`, `t0`.`idbandeira`, `t0`.`idcaixa`, `t0`.`idforma_pagamento`, `t0`.`idpdv`, `t0`.`idusuario`, `t0`.`tipo`, `t0`.`valor`
FROM (
    SELECT `v`.`idvenda`, `v`.`aberta`, `v`.`acrescimo`, `v`.`desconto`, `v`.`descricao`, `v`.`hora_entrada`, `v`.`hora_fechamento`, `v`.`idcaixa`, `v`.`idcliente`, `v`.`idpdv`, `v`.`idresponsavel`, `v`.`numero_venda`, `v`.`paga`, `v`.`tipo`, `v`.`valor_pago`, `c`.`idcliente` AS `idcliente0`, `c`.`celular`, `c`.`cpf`, `c`.`email`, `c`.`idendereco`, `c`.`nome`, `c`.`rg`, `c`.`telefone`
    FROM `venda` AS `v`
    LEFT JOIN `cliente` AS `c` ON `v`.`idcliente` = `c`.`idcliente`
    WHERE `v`.`idvenda` = @__id_0
    LIMIT 1
) AS `t`
LEFT JOIN `item_venda` AS `i` ON `t`.`idvenda` = `i`.`idvenda`
LEFT JOIN (
    SELECT `c0`.`idcliente`, `c0`.`idmovimento`, `m`.`idmovimento` AS `idmovimento0`, `m`.`descricao`, `m`.`hora_entrada`, `m`.`idbandeira`, `m`.`idcaixa`, `m`.`idforma_pagamento`, `m`.`idpdv`, `m`.`idusuario`, `m`.`tipo`, `m`.`valor`
    FROM `cliente_has_movimento` AS `c0`
    INNER JOIN `movimento` AS `m` ON `c0`.`idmovimento` = `m`.`idmovimento`
) AS `t0` ON `t`.`idcliente0` = `t0`.`idcliente`
ORDER BY `t`.`idvenda`, `i`.`iditem_venda`, `t0`.`idcliente`, `t0`.`idmovimento`, `t0`.`idmovimento0`
2021-03-25 11:34:58.060 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `movimento` (`descricao`, `hora_entrada`, `idbandeira`, `idcaixa`, `idforma_pagamento`, `idpdv`, `idusuario`, `tipo`, `valor`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT `idmovimento`
FROM `movimento`
WHERE ROW_COUNT() = 1
 AND `idmovimento`=LAST_INSERT_ID();
2021-03-25 11:34:58.069 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p14='?' (DbType = Int32), @p0='?' (DbType = SByte), @p1='?' (DbType = Decimal), @p2='?' (DbType = Decimal), @p3='?' (Size = 255), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = SByte), @p12='?' (DbType = Int32), @p13='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
UPDATE `venda` SET `aberta` = @p0, `acrescimo` = @p1, `desconto` = @p2, `descricao` = @p3, `hora_entrada` = @p4, `hora_fechamento` = @p5, `idcaixa` = @p6, `idcliente` = @p7, `idpdv` = @p8, `idresponsavel` = @p9, `numero_venda` = @p10, `paga` = @p11, `tipo` = @p12, `valor_pago` = @p13
WHERE `idvenda` = @p14;
SELECT ROW_COUNT();
2021-03-25 11:34:58.075 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p15='?' (DbType = Int32), @p16='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `pagamento` (`idvenda`, `idmovimento`)
VALUES (@p15, @p16);
2021-03-25 11:34:58.085 -03:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`3[[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-03-25 11:34:58.087 -03:00 [INF] Executed action FortalezaServer.Controllers.VendasController.PostPagamento (FortalezaServer) in 51.4283ms
2021-03-25 11:34:58.089 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.VendasController.PostPagamento (FortalezaServer)'
2021-03-25 11:34:58.092 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/vendas/2?pagamentos=true  
2021-03-25 11:34:58.095 -03:00 [INF] Request finished in 75.511ms 201 application/json; charset=utf-8
2021-03-25 11:34:58.097 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer)'
2021-03-25 11:34:58.102 -03:00 [INF] Route matched with {action = "GetVenda", controller = "Vendas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FortalezaServer.Models.Venda]] GetVenda(Int32, Boolean, Boolean, Boolean) on controller FortalezaServer.Controllers.VendasController (FortalezaServer).
2021-03-25 11:34:58.115 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-03-25 11:34:58.121 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `v`.`idvenda`, `v`.`aberta`, `v`.`acrescimo`, `v`.`desconto`, `v`.`descricao`, `v`.`hora_entrada`, `v`.`hora_fechamento`, `v`.`idcaixa`, `v`.`idcliente`, `v`.`idpdv`, `v`.`idresponsavel`, `v`.`numero_venda`, `v`.`paga`, `v`.`tipo`, `v`.`valor_pago`
FROM `venda` AS `v`
WHERE `v`.`idvenda` = @__p_0
LIMIT 1
2021-03-25 11:34:58.129 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`iditem_venda`, `i`.`cancelado`, `i`.`custo`, `i`.`iditem`, `i`.`idvenda`, `i`.`indice`, `i`.`quantidade`, `i`.`valor`
FROM `item_venda` AS `i`
WHERE `i`.`idvenda` = @__p_0
2021-03-25 11:34:58.134 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`idvenda`, `p`.`idmovimento`, `m`.`idmovimento`, `m`.`descricao`, `m`.`hora_entrada`, `m`.`idbandeira`, `m`.`idcaixa`, `m`.`idforma_pagamento`, `m`.`idpdv`, `m`.`idusuario`, `m`.`tipo`, `m`.`valor`, `f`.`idforma_pagamento`, `f`.`bandeira`, `f`.`debitar_cliente`, `f`.`debito`, `f`.`gerar_contas_receber`, `f`.`nome`, `f`.`ordem`
FROM `pagamento` AS `p`
INNER JOIN `movimento` AS `m` ON `p`.`idmovimento` = `m`.`idmovimento`
LEFT JOIN `forma_pagamento` AS `f` ON `m`.`idforma_pagamento` = `f`.`idforma_pagamento`
WHERE `p`.`idvenda` = @__p_0
2021-03-25 11:34:58.139 -03:00 [INF] Executing ObjectResult, writing value of type 'FortalezaServer.Models.Venda'.
2021-03-25 11:34:58.145 -03:00 [INF] Executed action FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer) in 30.2846ms
2021-03-25 11:34:58.147 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer)'
2021-03-25 11:34:58.149 -03:00 [INF] Request finished in 56.8809ms 200 application/json; charset=utf-8
2021-03-25 11:34:58.149 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/vendas/2?pagamentos=true  
2021-03-25 11:34:58.151 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer)'
2021-03-25 11:34:58.153 -03:00 [INF] Route matched with {action = "GetVenda", controller = "Vendas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FortalezaServer.Models.Venda]] GetVenda(Int32, Boolean, Boolean, Boolean) on controller FortalezaServer.Controllers.VendasController (FortalezaServer).
2021-03-25 11:34:58.159 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-03-25 11:34:58.162 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `v`.`idvenda`, `v`.`aberta`, `v`.`acrescimo`, `v`.`desconto`, `v`.`descricao`, `v`.`hora_entrada`, `v`.`hora_fechamento`, `v`.`idcaixa`, `v`.`idcliente`, `v`.`idpdv`, `v`.`idresponsavel`, `v`.`numero_venda`, `v`.`paga`, `v`.`tipo`, `v`.`valor_pago`
FROM `venda` AS `v`
WHERE `v`.`idvenda` = @__p_0
LIMIT 1
2021-03-25 11:34:58.167 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`iditem_venda`, `i`.`cancelado`, `i`.`custo`, `i`.`iditem`, `i`.`idvenda`, `i`.`indice`, `i`.`quantidade`, `i`.`valor`
FROM `item_venda` AS `i`
WHERE `i`.`idvenda` = @__p_0
2021-03-25 11:34:58.173 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`idvenda`, `p`.`idmovimento`, `m`.`idmovimento`, `m`.`descricao`, `m`.`hora_entrada`, `m`.`idbandeira`, `m`.`idcaixa`, `m`.`idforma_pagamento`, `m`.`idpdv`, `m`.`idusuario`, `m`.`tipo`, `m`.`valor`, `f`.`idforma_pagamento`, `f`.`bandeira`, `f`.`debitar_cliente`, `f`.`debito`, `f`.`gerar_contas_receber`, `f`.`nome`, `f`.`ordem`
FROM `pagamento` AS `p`
INNER JOIN `movimento` AS `m` ON `p`.`idmovimento` = `m`.`idmovimento`
LEFT JOIN `forma_pagamento` AS `f` ON `m`.`idforma_pagamento` = `f`.`idforma_pagamento`
WHERE `p`.`idvenda` = @__p_0
2021-03-25 11:34:58.177 -03:00 [INF] Executing ObjectResult, writing value of type 'FortalezaServer.Models.Venda'.
2021-03-25 11:34:58.179 -03:00 [INF] Executed action FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer) in 20.6075ms
2021-03-25 11:34:58.180 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer)'
2021-03-25 11:34:58.182 -03:00 [INF] Request finished in 32.6419ms 200 application/json; charset=utf-8
2021-03-25 11:34:58.574 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/vendas/2/actions/fechar  
2021-03-25 11:34:58.576 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.VendasController.FecharVenda (FortalezaServer)'
2021-03-25 11:34:58.577 -03:00 [INF] Route matched with {action = "FecharVenda", controller = "Vendas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FortalezaServer.Models.Venda]] FecharVenda(Int32) on controller FortalezaServer.Controllers.VendasController (FortalezaServer).
2021-03-25 11:34:58.581 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-03-25 11:34:58.585 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `v`.`idvenda`, `v`.`aberta`, `v`.`acrescimo`, `v`.`desconto`, `v`.`descricao`, `v`.`hora_entrada`, `v`.`hora_fechamento`, `v`.`idcaixa`, `v`.`idcliente`, `v`.`idpdv`, `v`.`idresponsavel`, `v`.`numero_venda`, `v`.`paga`, `v`.`tipo`, `v`.`valor_pago`
FROM `venda` AS `v`
WHERE `v`.`idvenda` = @__p_0
LIMIT 1
2021-03-25 11:34:58.590 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`iditem_venda`, `i`.`cancelado`, `i`.`custo`, `i`.`iditem`, `i`.`idvenda`, `i`.`indice`, `i`.`quantidade`, `i`.`valor`
FROM `item_venda` AS `i`
WHERE `i`.`idvenda` = @__p_0
2021-03-25 11:34:58.596 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`iditem`, `i`.`atacado`, `i`.`codigo_barras`, `i`.`descricao`, `i`.`disponivel`, `i`.`estoque`, `i`.`estoque_minimo`, `i`.`imagem`, `i`.`permite_combo`, `i`.`quantidade_atacado`, `i`.`tipo`, `i`.`unidade`, `i`.`unidade_inteira`, `i`.`valor`, `i`.`valor_atacado`, `i`.`visivel`
FROM `item` AS `i`
WHERE `i`.`iditem` = @__p_0
2021-03-25 11:34:58.603 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`iditem`, `i`.`atacado`, `i`.`codigo_barras`, `i`.`descricao`, `i`.`disponivel`, `i`.`estoque`, `i`.`estoque_minimo`, `i`.`imagem`, `i`.`permite_combo`, `i`.`quantidade_atacado`, `i`.`tipo`, `i`.`unidade`, `i`.`unidade_inteira`, `i`.`valor`, `i`.`valor_atacado`, `i`.`visivel`
FROM `item` AS `i`
WHERE `i`.`iditem` = @__p_0
2021-03-25 11:34:58.607 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`iditem`, `i`.`atacado`, `i`.`codigo_barras`, `i`.`descricao`, `i`.`disponivel`, `i`.`estoque`, `i`.`estoque_minimo`, `i`.`imagem`, `i`.`permite_combo`, `i`.`quantidade_atacado`, `i`.`tipo`, `i`.`unidade`, `i`.`unidade_inteira`, `i`.`valor`, `i`.`valor_atacado`, `i`.`visivel`
FROM `item` AS `i`
WHERE `i`.`iditem` = @__p_0
2021-03-25 11:34:58.613 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p14='?' (DbType = Int32), @p0='?' (DbType = SByte), @p1='?' (DbType = Decimal), @p2='?' (DbType = Decimal), @p3='?' (Size = 255), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = SByte), @p12='?' (DbType = Int32), @p13='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
UPDATE `venda` SET `aberta` = @p0, `acrescimo` = @p1, `desconto` = @p2, `descricao` = @p3, `hora_entrada` = @p4, `hora_fechamento` = @p5, `idcaixa` = @p6, `idcliente` = @p7, `idpdv` = @p8, `idresponsavel` = @p9, `numero_venda` = @p10, `paga` = @p11, `tipo` = @p12, `valor_pago` = @p13
WHERE `idvenda` = @p14;
SELECT ROW_COUNT();
2021-03-25 11:34:58.619 -03:00 [INF] Executing HttpStatusCodeResult, setting HTTP status code 204
2021-03-25 11:34:58.620 -03:00 [INF] Executed action FortalezaServer.Controllers.VendasController.FecharVenda (FortalezaServer) in 39.6126ms
2021-03-25 11:34:58.621 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.VendasController.FecharVenda (FortalezaServer)'
2021-03-25 11:34:58.623 -03:00 [INF] Request finished in 48.9951ms 204 
2021-03-25 11:34:59.442 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/informacoesempresa/1  
2021-03-25 11:34:59.443 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.InformacoesEmpresaController.GetInformacoesEmpresa (FortalezaServer)'
2021-03-25 11:34:59.444 -03:00 [INF] Route matched with {action = "GetInformacoesEmpresa", controller = "InformacoesEmpresa"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FortalezaServer.Models.InformacoesEmpresa]] GetInformacoesEmpresa(Int32) on controller FortalezaServer.Controllers.InformacoesEmpresaController (FortalezaServer).
2021-03-25 11:34:59.448 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-03-25 11:34:59.451 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`idinformacoes_empresa`, `i`.`cnae`, `i`.`cpf`, `i`.`idendereco`, `i`.`logo`, `i`.`nome_fantasia`, `i`.`razao_social`, `i`.`regime_tributario`, `i`.`rg`
FROM `informacoes_empresa` AS `i`
WHERE `i`.`idinformacoes_empresa` = @__p_0
LIMIT 1
2021-03-25 11:34:59.460 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `e`.`idendereco`, `e`.`bairro`, `e`.`cep`, `e`.`complemento`, `e`.`descricao`, `e`.`logradouro`, `e`.`municipio`, `e`.`numero`, `e`.`tipo`, `e`.`UF`
FROM `endereco` AS `e`
WHERE `e`.`idendereco` = @__p_0
2021-03-25 11:34:59.470 -03:00 [INF] Executing ObjectResult, writing value of type 'FortalezaServer.Models.InformacoesEmpresa'.
2021-03-25 11:34:59.474 -03:00 [INF] Executed action FortalezaServer.Controllers.InformacoesEmpresaController.GetInformacoesEmpresa (FortalezaServer) in 26.5602ms
2021-03-25 11:34:59.477 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.InformacoesEmpresaController.GetInformacoesEmpresa (FortalezaServer)'
2021-03-25 11:34:59.486 -03:00 [INF] Request finished in 44.2598ms 200 application/json; charset=utf-8
2021-03-25 11:35:05.203 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/vendas  
2021-03-25 11:35:05.204 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer)'
2021-03-25 11:35:05.206 -03:00 [INF] Route matched with {action = "GetVenda", controller = "Vendas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[FortalezaServer.Models.Venda]]] GetVenda(Int32, Boolean, Boolean, System.String, System.String, System.String) on controller FortalezaServer.Controllers.VendasController (FortalezaServer).
2021-03-25 11:35:05.209 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-03-25 11:35:05.213 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `v`.`idvenda`, `v`.`aberta`, `v`.`acrescimo`, `v`.`desconto`, `v`.`descricao`, `v`.`hora_entrada`, `v`.`hora_fechamento`, `v`.`idcaixa`, `v`.`idcliente`, `v`.`idpdv`, `v`.`idresponsavel`, `v`.`numero_venda`, `v`.`paga`, `v`.`tipo`, `v`.`valor_pago`, `i`.`iditem_venda`, `i`.`cancelado`, `i`.`custo`, `i`.`iditem`, `i`.`idvenda`, `i`.`indice`, `i`.`quantidade`, `i`.`valor`
FROM `venda` AS `v`
LEFT JOIN `item_venda` AS `i` ON `v`.`idvenda` = `i`.`idvenda`
ORDER BY `v`.`idvenda`, `i`.`iditem_venda`
2021-03-25 11:35:05.217 -03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[FortalezaServer.Models.Venda, FortalezaServer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-03-25 11:35:05.221 -03:00 [INF] Executed action FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer) in 12.1765ms
2021-03-25 11:35:05.222 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer)'
2021-03-25 11:35:05.224 -03:00 [INF] Request finished in 20.6412ms 200 application/json; charset=utf-8
2021-03-25 11:35:16.975 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/vendas/2  
2021-03-25 11:35:16.977 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer)'
2021-03-25 11:35:16.982 -03:00 [INF] Route matched with {action = "GetVenda", controller = "Vendas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FortalezaServer.Models.Venda]] GetVenda(Int32, Boolean, Boolean, Boolean) on controller FortalezaServer.Controllers.VendasController (FortalezaServer).
2021-03-25 11:35:16.986 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-03-25 11:35:16.991 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `v`.`idvenda`, `v`.`aberta`, `v`.`acrescimo`, `v`.`desconto`, `v`.`descricao`, `v`.`hora_entrada`, `v`.`hora_fechamento`, `v`.`idcaixa`, `v`.`idcliente`, `v`.`idpdv`, `v`.`idresponsavel`, `v`.`numero_venda`, `v`.`paga`, `v`.`tipo`, `v`.`valor_pago`
FROM `venda` AS `v`
WHERE `v`.`idvenda` = @__p_0
LIMIT 1
2021-03-25 11:35:17.004 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`iditem_venda`, `i`.`cancelado`, `i`.`custo`, `i`.`iditem`, `i`.`idvenda`, `i`.`indice`, `i`.`quantidade`, `i`.`valor`
FROM `item_venda` AS `i`
WHERE `i`.`idvenda` = @__p_0
2021-03-25 11:35:17.007 -03:00 [INF] Executing ObjectResult, writing value of type 'FortalezaServer.Models.Venda'.
2021-03-25 11:35:17.009 -03:00 [INF] Executed action FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer) in 22.9396ms
2021-03-25 11:35:17.012 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer)'
2021-03-25 11:35:17.014 -03:00 [INF] Request finished in 38.3313ms 200 application/json; charset=utf-8
2021-03-25 11:35:32.724 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/fiscal/2  
2021-03-25 11:35:32.725 -03:00 [INF] Request finished in 1.2922ms 404 
2021-03-25 11:35:44.394 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/fiscal/cfe-venda/2  
2021-03-25 11:35:44.396 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.FiscalController.GetAsync (FortalezaServer)'
2021-03-25 11:35:44.401 -03:00 [INF] Route matched with {action = "Get", controller = "Fiscal"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.String] GetAsync(Int32) on controller FortalezaServer.Controllers.FiscalController (FortalezaServer).
2021-03-25 11:35:44.406 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-03-25 11:35:44.409 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `v`.`idvenda`, `v`.`aberta`, `v`.`acrescimo`, `v`.`desconto`, `v`.`descricao`, `v`.`hora_entrada`, `v`.`hora_fechamento`, `v`.`idcaixa`, `v`.`idcliente`, `v`.`idpdv`, `v`.`idresponsavel`, `v`.`numero_venda`, `v`.`paga`, `v`.`tipo`, `v`.`valor_pago`
FROM `venda` AS `v`
WHERE `v`.`idvenda` = @__p_0
LIMIT 1
2021-03-25 11:35:44.493 -03:00 [INF] Executed action FortalezaServer.Controllers.FiscalController.GetAsync (FortalezaServer) in 89.4585ms
2021-03-25 11:35:44.496 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.FiscalController.GetAsync (FortalezaServer)'
2021-03-25 11:35:44.500 -03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The specified node cannot be inserted as the valid child of this node, because the specified node is the wrong type.
   at System.Xml.XmlNode.AppendChild(XmlNode newChild)
   at FortalezaServer.Controllers.FiscalController.GerarCfe(Venda venda) in C:\Users\felip\source\repos\FortalezaServer\Controllers\FiscalController.cs:line 29
   at FortalezaServer.Controllers.FiscalController.GetAsync(Int32 id) in C:\Users\felip\source\repos\FortalezaServer\Controllers\FiscalController.cs:line 40
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-03-25 11:35:44.602 -03:00 [INF] Request finished in 207.7425ms 500 text/html; charset=utf-8
