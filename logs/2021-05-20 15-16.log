2021-05-20 15:16:56.963 -03:00 [INF] Starting web host
2021-05-20 15:16:58.526 -03:00 [INF] Now listening on: http://[::]:8000
2021-05-20 15:16:58.532 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-05-20 15:16:58.534 -03:00 [INF] Hosting environment: Development
2021-05-20 15:16:58.537 -03:00 [INF] Content root path: C:\Users\felip\source\repos\FortalezaServer
2021-05-20 15:17:02.797 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/fiscal/cfe-venda/1  
2021-05-20 15:17:02.846 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.FiscalController.GetCfeVendaAsync (FortalezaServer)'
2021-05-20 15:17:02.890 -03:00 [INF] Route matched with {action = "GetCfeVenda", controller = "Fiscal"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] GetCfeVendaAsync(Int32) on controller FortalezaServer.Controllers.FiscalController (FortalezaServer).
2021-05-20 15:17:03.700 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-05-20 15:17:04.337 -03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`idvenda`, `t`.`aberta`, `t`.`acrescimo`, `t`.`desconto`, `t`.`descricao`, `t`.`hora_entrada`, `t`.`hora_fechamento`, `t`.`idcaixa`, `t`.`idcliente`, `t`.`idpdv`, `t`.`idresponsavel`, `t`.`numero_venda`, `t`.`paga`, `t`.`tipo`, `t`.`valor_pago`, `t`.`idcaixa0`, `t`.`aberto`, `t`.`idnome_caixa`, `t`.`idnome_caixa0`, `t`.`nome`, `t`.`idcliente0`, `t`.`celular`, `t`.`cpf`, `t`.`email`, `t`.`idendereco`, `t`.`nome0`, `t`.`rg`, `t`.`telefone`, `t`.`idendereco0`, `t`.`bairro`, `t`.`cep`, `t`.`complemento`, `t`.`descricao0`, `t`.`logradouro`, `t`.`municipio`, `t`.`numero`, `t`.`tipo0`, `t`.`UF`, `t0`.`iditem_venda`, `t0`.`acrescimo`, `t0`.`cancelado`, `t0`.`custo`, `t0`.`desconto`, `t0`.`iditem`, `t0`.`idvenda`, `t0`.`indice`, `t0`.`quantidade`, `t0`.`valor`, `t0`.`iditem0`, `t0`.`atacado`, `t0`.`codigo_barras`, `t0`.`descricao`, `t0`.`disponivel`, `t0`.`estoque`, `t0`.`estoque_minimo`, `t0`.`imagem`, `t0`.`permite_combo`, `t0`.`quantidade_atacado`, `t0`.`tipo`, `t0`.`unidade`, `t0`.`unidade_inteira`, `t0`.`valor0`, `t0`.`valor_atacado`, `t0`.`visivel`, `t0`.`iditem1`, `t0`.`aliquota_icms`, `t0`.`cest`, `t0`.`cfop`, `t0`.`cst_icms`, `t0`.`ncm`, `t0`.`origem`, `t1`.`idvenda`, `t1`.`idmovimento`, `t1`.`credenciadora`, `t1`.`idmovimento0`, `t1`.`descricao`, `t1`.`hora_entrada`, `t1`.`idbandeira`, `t1`.`idcaixa`, `t1`.`idforma_pagamento`, `t1`.`idpdv`, `t1`.`idusuario`, `t1`.`tipo`, `t1`.`valor`, `t1`.`idforma_pagamento0`, `t1`.`bandeira`, `t1`.`debitar_cliente`, `t1`.`debito`, `t1`.`gerar_contas_receber`, `t1`.`nome`, `t1`.`ordem`
FROM (
    SELECT `v`.`idvenda`, `v`.`aberta`, `v`.`acrescimo`, `v`.`desconto`, `v`.`descricao`, `v`.`hora_entrada`, `v`.`hora_fechamento`, `v`.`idcaixa`, `v`.`idcliente`, `v`.`idpdv`, `v`.`idresponsavel`, `v`.`numero_venda`, `v`.`paga`, `v`.`tipo`, `v`.`valor_pago`, `c`.`idcaixa` AS `idcaixa0`, `c`.`aberto`, `c`.`idnome_caixa`, `n`.`idnome_caixa` AS `idnome_caixa0`, `n`.`nome`, `c0`.`idcliente` AS `idcliente0`, `c0`.`celular`, `c0`.`cpf`, `c0`.`email`, `c0`.`idendereco`, `c0`.`nome` AS `nome0`, `c0`.`rg`, `c0`.`telefone`, `e`.`idendereco` AS `idendereco0`, `e`.`bairro`, `e`.`cep`, `e`.`complemento`, `e`.`descricao` AS `descricao0`, `e`.`logradouro`, `e`.`municipio`, `e`.`numero`, `e`.`tipo` AS `tipo0`, `e`.`UF`
    FROM `venda` AS `v`
    INNER JOIN `caixa` AS `c` ON `v`.`idcaixa` = `c`.`idcaixa`
    INNER JOIN `nome_caixa` AS `n` ON `c`.`idnome_caixa` = `n`.`idnome_caixa`
    LEFT JOIN `cliente` AS `c0` ON `v`.`idcliente` = `c0`.`idcliente`
    LEFT JOIN `endereco` AS `e` ON `c0`.`idendereco` = `e`.`idendereco`
    WHERE `v`.`idvenda` = @__id_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `i`.`iditem_venda`, `i`.`acrescimo`, `i`.`cancelado`, `i`.`custo`, `i`.`desconto`, `i`.`iditem`, `i`.`idvenda`, `i`.`indice`, `i`.`quantidade`, `i`.`valor`, `i0`.`iditem` AS `iditem0`, `i0`.`atacado`, `i0`.`codigo_barras`, `i0`.`descricao`, `i0`.`disponivel`, `i0`.`estoque`, `i0`.`estoque_minimo`, `i0`.`imagem`, `i0`.`permite_combo`, `i0`.`quantidade_atacado`, `i0`.`tipo`, `i0`.`unidade`, `i0`.`unidade_inteira`, `i0`.`valor` AS `valor0`, `i0`.`valor_atacado`, `i0`.`visivel`, `f`.`iditem` AS `iditem1`, `f`.`aliquota_icms`, `f`.`cest`, `f`.`cfop`, `f`.`cst_icms`, `f`.`ncm`, `f`.`origem`
    FROM `item_venda` AS `i`
    INNER JOIN `item` AS `i0` ON `i`.`iditem` = `i0`.`iditem`
    LEFT JOIN `fiscal` AS `f` ON `i0`.`iditem` = `f`.`iditem`
) AS `t0` ON `t`.`idvenda` = `t0`.`idvenda`
LEFT JOIN (
    SELECT `p`.`idvenda`, `p`.`idmovimento`, `p`.`credenciadora`, `m`.`idmovimento` AS `idmovimento0`, `m`.`descricao`, `m`.`hora_entrada`, `m`.`idbandeira`, `m`.`idcaixa`, `m`.`idforma_pagamento`, `m`.`idpdv`, `m`.`idusuario`, `m`.`tipo`, `m`.`valor`, `f0`.`idforma_pagamento` AS `idforma_pagamento0`, `f0`.`bandeira`, `f0`.`debitar_cliente`, `f0`.`debito`, `f0`.`gerar_contas_receber`, `f0`.`nome`, `f0`.`ordem`
    FROM `pagamento` AS `p`
    INNER JOIN `movimento` AS `m` ON `p`.`idmovimento` = `m`.`idmovimento`
    LEFT JOIN `forma_pagamento` AS `f0` ON `m`.`idforma_pagamento` = `f0`.`idforma_pagamento`
) AS `t1` ON `t`.`idvenda` = `t1`.`idvenda`
ORDER BY `t`.`idvenda`, `t`.`idcaixa0`, `t`.`idnome_caixa0`, `t0`.`iditem_venda`, `t0`.`iditem0`, `t1`.`idvenda`, `t1`.`idmovimento`, `t1`.`idmovimento0`
2021-05-20 15:17:04.534 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`idinformacoes_empresa`, `i`.`cnae`, `i`.`cpf`, `i`.`csosn`, `i`.`cst_pis`, `i`.`email`, `i`.`idendereco`, `i`.`indice_rateio_issqn`, `i`.`inscricao_estadual`, `i`.`inscricao_municipal`, `i`.`logo`, `i`.`nome_fantasia`, `i`.`razao_social`, `i`.`regime_tributario`, `i`.`rg`, `i`.`telefone`
FROM `informacoes_empresa` AS `i`
WHERE `i`.`idinformacoes_empresa` = 1
LIMIT 1
2021-05-20 15:17:04.559 -03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2021-05-20 15:17:04.568 -03:00 [INF] Executed action FortalezaServer.Controllers.FiscalController.GetCfeVendaAsync (FortalezaServer) in 1670.7498ms
2021-05-20 15:17:04.570 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.FiscalController.GetCfeVendaAsync (FortalezaServer)'
2021-05-20 15:17:04.576 -03:00 [INF] Request finished in 1780.6555ms 200 text/plain; charset=utf-8
2021-05-20 15:22:11.927 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/items?visibleOnly=false  
2021-05-20 15:22:11.933 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.ItemsController.GetItem (FortalezaServer)'
2021-05-20 15:22:11.943 -03:00 [INF] Route matched with {action = "GetItem", controller = "Items"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[FortalezaServer.Models.Item]]] GetItem(Boolean, Boolean, Boolean, System.String) on controller FortalezaServer.Controllers.ItemsController (FortalezaServer).
2021-05-20 15:22:11.988 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-05-20 15:22:12.015 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`iditem`, `i`.`atacado`, `i`.`codigo_barras`, `i`.`descricao`, `i`.`disponivel`, `i`.`estoque`, `i`.`estoque_minimo`, `i`.`imagem`, `i`.`permite_combo`, `i`.`quantidade_atacado`, `i`.`tipo`, `i`.`unidade`, `i`.`unidade_inteira`, `i`.`valor`, `i`.`valor_atacado`, `i`.`visivel`
FROM `item` AS `i`
WHERE `i`.`visivel` = 1
2021-05-20 15:22:12.050 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `f`.`iditem`, `f`.`aliquota_icms`, `f`.`cest`, `f`.`cfop`, `f`.`cst_icms`, `f`.`ncm`, `f`.`origem`
FROM `fiscal` AS `f`
WHERE `f`.`iditem` = @__p_0
2021-05-20 15:22:12.059 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `f`.`iditem`, `f`.`aliquota_icms`, `f`.`cest`, `f`.`cfop`, `f`.`cst_icms`, `f`.`ncm`, `f`.`origem`
FROM `fiscal` AS `f`
WHERE `f`.`iditem` = @__p_0
2021-05-20 15:22:12.071 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `f`.`iditem`, `f`.`aliquota_icms`, `f`.`cest`, `f`.`cfop`, `f`.`cst_icms`, `f`.`ncm`, `f`.`origem`
FROM `fiscal` AS `f`
WHERE `f`.`iditem` = @__p_0
2021-05-20 15:22:12.087 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `f`.`iditem`, `f`.`aliquota_icms`, `f`.`cest`, `f`.`cfop`, `f`.`cst_icms`, `f`.`ncm`, `f`.`origem`
FROM `fiscal` AS `f`
WHERE `f`.`iditem` = @__p_0
2021-05-20 15:22:12.101 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `f`.`iditem`, `f`.`aliquota_icms`, `f`.`cest`, `f`.`cfop`, `f`.`cst_icms`, `f`.`ncm`, `f`.`origem`
FROM `fiscal` AS `f`
WHERE `f`.`iditem` = @__p_0
2021-05-20 15:22:12.115 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `f`.`iditem`, `f`.`aliquota_icms`, `f`.`cest`, `f`.`cfop`, `f`.`cst_icms`, `f`.`ncm`, `f`.`origem`
FROM `fiscal` AS `f`
WHERE `f`.`iditem` = @__p_0
2021-05-20 15:22:12.122 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `f`.`iditem`, `f`.`aliquota_icms`, `f`.`cest`, `f`.`cfop`, `f`.`cst_icms`, `f`.`ncm`, `f`.`origem`
FROM `fiscal` AS `f`
WHERE `f`.`iditem` = @__p_0
2021-05-20 15:22:12.130 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `f`.`iditem`, `f`.`aliquota_icms`, `f`.`cest`, `f`.`cfop`, `f`.`cst_icms`, `f`.`ncm`, `f`.`origem`
FROM `fiscal` AS `f`
WHERE `f`.`iditem` = @__p_0
2021-05-20 15:22:12.136 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `f`.`iditem`, `f`.`aliquota_icms`, `f`.`cest`, `f`.`cfop`, `f`.`cst_icms`, `f`.`ncm`, `f`.`origem`
FROM `fiscal` AS `f`
WHERE `f`.`iditem` = @__p_0
2021-05-20 15:22:12.146 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `f`.`iditem`, `f`.`aliquota_icms`, `f`.`cest`, `f`.`cfop`, `f`.`cst_icms`, `f`.`ncm`, `f`.`origem`
FROM `fiscal` AS `f`
WHERE `f`.`iditem` = @__p_0
2021-05-20 15:22:12.151 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `f`.`iditem`, `f`.`aliquota_icms`, `f`.`cest`, `f`.`cfop`, `f`.`cst_icms`, `f`.`ncm`, `f`.`origem`
FROM `fiscal` AS `f`
WHERE `f`.`iditem` = @__p_0
2021-05-20 15:22:12.158 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `f`.`iditem`, `f`.`aliquota_icms`, `f`.`cest`, `f`.`cfop`, `f`.`cst_icms`, `f`.`ncm`, `f`.`origem`
FROM `fiscal` AS `f`
WHERE `f`.`iditem` = @__p_0
2021-05-20 15:22:12.166 -03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[FortalezaServer.Models.Item, FortalezaServer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-05-20 15:22:12.293 -03:00 [INF] Executed action FortalezaServer.Controllers.ItemsController.GetItem (FortalezaServer) in 338.3136ms
2021-05-20 15:22:12.295 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.ItemsController.GetItem (FortalezaServer)'
2021-05-20 15:22:12.297 -03:00 [INF] Request finished in 369.4223ms 200 application/json; charset=utf-8
2021-05-20 15:39:26.453 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/items?visibleOnly=false  
2021-05-20 15:39:26.456 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.ItemsController.GetItem (FortalezaServer)'
2021-05-20 15:39:26.460 -03:00 [INF] Route matched with {action = "GetItem", controller = "Items"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[FortalezaServer.Models.Item]]] GetItem(Boolean, Boolean, Boolean, System.String) on controller FortalezaServer.Controllers.ItemsController (FortalezaServer).
2021-05-20 15:39:26.481 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-05-20 15:39:26.501 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`iditem`, `i`.`atacado`, `i`.`codigo_barras`, `i`.`descricao`, `i`.`disponivel`, `i`.`estoque`, `i`.`estoque_minimo`, `i`.`imagem`, `i`.`permite_combo`, `i`.`quantidade_atacado`, `i`.`tipo`, `i`.`unidade`, `i`.`unidade_inteira`, `i`.`valor`, `i`.`valor_atacado`, `i`.`visivel`
FROM `item` AS `i`
WHERE `i`.`visivel` = 1
2021-05-20 15:39:26.507 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `f`.`iditem`, `f`.`aliquota_icms`, `f`.`cest`, `f`.`cfop`, `f`.`cst_icms`, `f`.`ncm`, `f`.`origem`
FROM `fiscal` AS `f`
WHERE `f`.`iditem` = @__p_0
2021-05-20 15:39:26.515 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `f`.`iditem`, `f`.`aliquota_icms`, `f`.`cest`, `f`.`cfop`, `f`.`cst_icms`, `f`.`ncm`, `f`.`origem`
FROM `fiscal` AS `f`
WHERE `f`.`iditem` = @__p_0
2021-05-20 15:39:26.523 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `f`.`iditem`, `f`.`aliquota_icms`, `f`.`cest`, `f`.`cfop`, `f`.`cst_icms`, `f`.`ncm`, `f`.`origem`
FROM `fiscal` AS `f`
WHERE `f`.`iditem` = @__p_0
2021-05-20 15:39:26.527 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `f`.`iditem`, `f`.`aliquota_icms`, `f`.`cest`, `f`.`cfop`, `f`.`cst_icms`, `f`.`ncm`, `f`.`origem`
FROM `fiscal` AS `f`
WHERE `f`.`iditem` = @__p_0
2021-05-20 15:39:26.534 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `f`.`iditem`, `f`.`aliquota_icms`, `f`.`cest`, `f`.`cfop`, `f`.`cst_icms`, `f`.`ncm`, `f`.`origem`
FROM `fiscal` AS `f`
WHERE `f`.`iditem` = @__p_0
2021-05-20 15:39:26.540 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `f`.`iditem`, `f`.`aliquota_icms`, `f`.`cest`, `f`.`cfop`, `f`.`cst_icms`, `f`.`ncm`, `f`.`origem`
FROM `fiscal` AS `f`
WHERE `f`.`iditem` = @__p_0
2021-05-20 15:39:26.546 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `f`.`iditem`, `f`.`aliquota_icms`, `f`.`cest`, `f`.`cfop`, `f`.`cst_icms`, `f`.`ncm`, `f`.`origem`
FROM `fiscal` AS `f`
WHERE `f`.`iditem` = @__p_0
2021-05-20 15:39:26.554 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `f`.`iditem`, `f`.`aliquota_icms`, `f`.`cest`, `f`.`cfop`, `f`.`cst_icms`, `f`.`ncm`, `f`.`origem`
FROM `fiscal` AS `f`
WHERE `f`.`iditem` = @__p_0
2021-05-20 15:39:26.558 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `f`.`iditem`, `f`.`aliquota_icms`, `f`.`cest`, `f`.`cfop`, `f`.`cst_icms`, `f`.`ncm`, `f`.`origem`
FROM `fiscal` AS `f`
WHERE `f`.`iditem` = @__p_0
2021-05-20 15:39:26.563 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `f`.`iditem`, `f`.`aliquota_icms`, `f`.`cest`, `f`.`cfop`, `f`.`cst_icms`, `f`.`ncm`, `f`.`origem`
FROM `fiscal` AS `f`
WHERE `f`.`iditem` = @__p_0
2021-05-20 15:39:26.569 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `f`.`iditem`, `f`.`aliquota_icms`, `f`.`cest`, `f`.`cfop`, `f`.`cst_icms`, `f`.`ncm`, `f`.`origem`
FROM `fiscal` AS `f`
WHERE `f`.`iditem` = @__p_0
2021-05-20 15:39:26.575 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `f`.`iditem`, `f`.`aliquota_icms`, `f`.`cest`, `f`.`cfop`, `f`.`cst_icms`, `f`.`ncm`, `f`.`origem`
FROM `fiscal` AS `f`
WHERE `f`.`iditem` = @__p_0
2021-05-20 15:39:26.579 -03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[FortalezaServer.Models.Item, FortalezaServer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-05-20 15:39:26.586 -03:00 [INF] Executed action FortalezaServer.Controllers.ItemsController.GetItem (FortalezaServer) in 112.5201ms
2021-05-20 15:39:26.587 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.ItemsController.GetItem (FortalezaServer)'
2021-05-20 15:39:26.591 -03:00 [INF] Request finished in 138.5339ms 200 application/json; charset=utf-8
2021-05-20 15:39:27.536 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api  
2021-05-20 15:39:27.539 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.IndexController.Get (FortalezaServer)'
2021-05-20 15:39:27.545 -03:00 [INF] Route matched with {action = "Get", controller = "Index"}. Executing controller action with signature System.String Get() on controller FortalezaServer.Controllers.IndexController (FortalezaServer).
2021-05-20 15:39:27.552 -03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2021-05-20 15:39:27.553 -03:00 [INF] Executed action FortalezaServer.Controllers.IndexController.Get (FortalezaServer) in 2.344ms
2021-05-20 15:39:27.557 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.IndexController.Get (FortalezaServer)'
2021-05-20 15:39:27.559 -03:00 [INF] Request finished in 23.648ms 200 text/plain; charset=utf-8
2021-05-20 15:39:27.570 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/vendas/actions/aberta  
2021-05-20 15:39:27.572 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.VendasController.GetVendaAberta (FortalezaServer)'
2021-05-20 15:39:27.576 -03:00 [INF] Route matched with {action = "GetVendaAberta", controller = "Vendas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Int32]] GetVendaAberta(Int32) on controller FortalezaServer.Controllers.VendasController (FortalezaServer).
2021-05-20 15:39:27.581 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-05-20 15:39:27.592 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tipo_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `v`.`idvenda`, `v`.`aberta`, `v`.`acrescimo`, `v`.`desconto`, `v`.`descricao`, `v`.`hora_entrada`, `v`.`hora_fechamento`, `v`.`idcaixa`, `v`.`idcliente`, `v`.`idpdv`, `v`.`idresponsavel`, `v`.`numero_venda`, `v`.`paga`, `v`.`tipo`, `v`.`valor_pago`
FROM `venda` AS `v`
WHERE (`v`.`aberta` = 1) & (`v`.`tipo` = @__tipo_0)
LIMIT 1
2021-05-20 15:39:27.607 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/grupos  
2021-05-20 15:39:27.607 -03:00 [INF] Executing ObjectResult, writing value of type 'System.Int32'.
2021-05-20 15:39:27.608 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.GruposController.GetGrupo (FortalezaServer)'
2021-05-20 15:39:27.610 -03:00 [INF] Executed action FortalezaServer.Controllers.VendasController.GetVendaAberta (FortalezaServer) in 31.7911ms
2021-05-20 15:39:27.615 -03:00 [INF] Route matched with {action = "GetGrupo", controller = "Grupos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[FortalezaServer.Models.Grupo]]] GetGrupo() on controller FortalezaServer.Controllers.GruposController (FortalezaServer).
2021-05-20 15:39:27.616 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.VendasController.GetVendaAberta (FortalezaServer)'
2021-05-20 15:39:27.624 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-05-20 15:39:27.626 -03:00 [INF] Request finished in 55.3025ms 200 application/json; charset=utf-8
2021-05-20 15:39:27.632 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`idgrupo`, `g`.`descricao`, `g`.`nome`, `g`.`visivel`
FROM `grupo` AS `g`
2021-05-20 15:39:27.643 -03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[FortalezaServer.Models.Grupo, FortalezaServer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-05-20 15:39:27.647 -03:00 [INF] Executed action FortalezaServer.Controllers.GruposController.GetGrupo (FortalezaServer) in 24.1204ms
2021-05-20 15:39:27.650 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/items  
2021-05-20 15:39:27.652 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.GruposController.GetGrupo (FortalezaServer)'
2021-05-20 15:39:27.655 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.ItemsController.GetItem (FortalezaServer)'
2021-05-20 15:39:27.658 -03:00 [INF] Request finished in 51.0774ms 200 application/json; charset=utf-8
2021-05-20 15:39:27.659 -03:00 [INF] Route matched with {action = "GetItem", controller = "Items"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[FortalezaServer.Models.Item]]] GetItem(Boolean, Boolean, Boolean, System.String) on controller FortalezaServer.Controllers.ItemsController (FortalezaServer).
2021-05-20 15:39:27.681 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-05-20 15:39:27.684 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`iditem`, `i`.`atacado`, `i`.`codigo_barras`, `i`.`descricao`, `i`.`disponivel`, `i`.`estoque`, `i`.`estoque_minimo`, `i`.`imagem`, `i`.`permite_combo`, `i`.`quantidade_atacado`, `i`.`tipo`, `i`.`unidade`, `i`.`unidade_inteira`, `i`.`valor`, `i`.`valor_atacado`, `i`.`visivel`
FROM `item` AS `i`
WHERE `i`.`visivel` = 1
2021-05-20 15:39:27.694 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `f`.`iditem`, `f`.`aliquota_icms`, `f`.`cest`, `f`.`cfop`, `f`.`cst_icms`, `f`.`ncm`, `f`.`origem`
FROM `fiscal` AS `f`
WHERE `f`.`iditem` = @__p_0
2021-05-20 15:39:27.701 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `f`.`iditem`, `f`.`aliquota_icms`, `f`.`cest`, `f`.`cfop`, `f`.`cst_icms`, `f`.`ncm`, `f`.`origem`
FROM `fiscal` AS `f`
WHERE `f`.`iditem` = @__p_0
2021-05-20 15:39:27.708 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `f`.`iditem`, `f`.`aliquota_icms`, `f`.`cest`, `f`.`cfop`, `f`.`cst_icms`, `f`.`ncm`, `f`.`origem`
FROM `fiscal` AS `f`
WHERE `f`.`iditem` = @__p_0
2021-05-20 15:39:27.714 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `f`.`iditem`, `f`.`aliquota_icms`, `f`.`cest`, `f`.`cfop`, `f`.`cst_icms`, `f`.`ncm`, `f`.`origem`
FROM `fiscal` AS `f`
WHERE `f`.`iditem` = @__p_0
2021-05-20 15:39:27.725 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `f`.`iditem`, `f`.`aliquota_icms`, `f`.`cest`, `f`.`cfop`, `f`.`cst_icms`, `f`.`ncm`, `f`.`origem`
FROM `fiscal` AS `f`
WHERE `f`.`iditem` = @__p_0
2021-05-20 15:39:27.731 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `f`.`iditem`, `f`.`aliquota_icms`, `f`.`cest`, `f`.`cfop`, `f`.`cst_icms`, `f`.`ncm`, `f`.`origem`
FROM `fiscal` AS `f`
WHERE `f`.`iditem` = @__p_0
2021-05-20 15:39:27.737 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `f`.`iditem`, `f`.`aliquota_icms`, `f`.`cest`, `f`.`cfop`, `f`.`cst_icms`, `f`.`ncm`, `f`.`origem`
FROM `fiscal` AS `f`
WHERE `f`.`iditem` = @__p_0
2021-05-20 15:39:27.743 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `f`.`iditem`, `f`.`aliquota_icms`, `f`.`cest`, `f`.`cfop`, `f`.`cst_icms`, `f`.`ncm`, `f`.`origem`
FROM `fiscal` AS `f`
WHERE `f`.`iditem` = @__p_0
2021-05-20 15:39:27.748 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `f`.`iditem`, `f`.`aliquota_icms`, `f`.`cest`, `f`.`cfop`, `f`.`cst_icms`, `f`.`ncm`, `f`.`origem`
FROM `fiscal` AS `f`
WHERE `f`.`iditem` = @__p_0
2021-05-20 15:39:27.753 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `f`.`iditem`, `f`.`aliquota_icms`, `f`.`cest`, `f`.`cfop`, `f`.`cst_icms`, `f`.`ncm`, `f`.`origem`
FROM `fiscal` AS `f`
WHERE `f`.`iditem` = @__p_0
2021-05-20 15:39:27.757 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `f`.`iditem`, `f`.`aliquota_icms`, `f`.`cest`, `f`.`cfop`, `f`.`cst_icms`, `f`.`ncm`, `f`.`origem`
FROM `fiscal` AS `f`
WHERE `f`.`iditem` = @__p_0
2021-05-20 15:39:27.762 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `f`.`iditem`, `f`.`aliquota_icms`, `f`.`cest`, `f`.`cfop`, `f`.`cst_icms`, `f`.`ncm`, `f`.`origem`
FROM `fiscal` AS `f`
WHERE `f`.`iditem` = @__p_0
2021-05-20 15:39:27.765 -03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[FortalezaServer.Models.Item, FortalezaServer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-05-20 15:39:27.767 -03:00 [INF] Executed action FortalezaServer.Controllers.ItemsController.GetItem (FortalezaServer) in 86.3454ms
2021-05-20 15:39:27.768 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.ItemsController.GetItem (FortalezaServer)'
2021-05-20 15:39:27.769 -03:00 [INF] Request finished in 119.0031ms 200 application/json; charset=utf-8
2021-05-20 15:39:34.062 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/fiscal/cfe-test  
2021-05-20 15:39:34.064 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.FiscalController.GetCfeTestAsync (FortalezaServer)'
2021-05-20 15:39:34.068 -03:00 [INF] Route matched with {action = "GetCfeTest", controller = "Fiscal"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.Xml.XmlDocument] GetCfeTestAsync() on controller FortalezaServer.Controllers.FiscalController (FortalezaServer).
2021-05-20 15:39:34.073 -03:00 [INF] Executing ObjectResult, writing value of type 'System.Xml.XmlDocument'.
2021-05-20 15:39:34.085 -03:00 [INF] Executed action FortalezaServer.Controllers.FiscalController.GetCfeTestAsync (FortalezaServer) in 14.7868ms
2021-05-20 15:39:34.086 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.FiscalController.GetCfeTestAsync (FortalezaServer)'
2021-05-20 15:39:34.087 -03:00 [INF] Request finished in 25.9297ms 200 application/json; charset=utf-8
2021-05-20 15:39:43.841 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api  
2021-05-20 15:39:43.842 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.IndexController.Get (FortalezaServer)'
2021-05-20 15:39:43.845 -03:00 [INF] Route matched with {action = "Get", controller = "Index"}. Executing controller action with signature System.String Get() on controller FortalezaServer.Controllers.IndexController (FortalezaServer).
2021-05-20 15:39:43.849 -03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2021-05-20 15:39:43.855 -03:00 [INF] Executed action FortalezaServer.Controllers.IndexController.Get (FortalezaServer) in 6.8882ms
2021-05-20 15:39:43.857 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.IndexController.Get (FortalezaServer)'
2021-05-20 15:39:43.858 -03:00 [INF] Request finished in 17.5076ms 200 text/plain; charset=utf-8
2021-05-20 15:39:43.870 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/vendas/actions/aberta  
2021-05-20 15:39:43.871 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.VendasController.GetVendaAberta (FortalezaServer)'
2021-05-20 15:39:43.873 -03:00 [INF] Route matched with {action = "GetVendaAberta", controller = "Vendas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Int32]] GetVendaAberta(Int32) on controller FortalezaServer.Controllers.VendasController (FortalezaServer).
2021-05-20 15:39:43.877 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-05-20 15:39:43.882 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tipo_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `v`.`idvenda`, `v`.`aberta`, `v`.`acrescimo`, `v`.`desconto`, `v`.`descricao`, `v`.`hora_entrada`, `v`.`hora_fechamento`, `v`.`idcaixa`, `v`.`idcliente`, `v`.`idpdv`, `v`.`idresponsavel`, `v`.`numero_venda`, `v`.`paga`, `v`.`tipo`, `v`.`valor_pago`
FROM `venda` AS `v`
WHERE (`v`.`aberta` = 1) & (`v`.`tipo` = @__tipo_0)
LIMIT 1
2021-05-20 15:39:43.888 -03:00 [INF] Executing ObjectResult, writing value of type 'System.Int32'.
2021-05-20 15:39:43.890 -03:00 [INF] Executed action FortalezaServer.Controllers.VendasController.GetVendaAberta (FortalezaServer) in 14.1774ms
2021-05-20 15:39:43.893 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.VendasController.GetVendaAberta (FortalezaServer)'
2021-05-20 15:39:43.895 -03:00 [INF] Request finished in 25.2359ms 200 application/json; charset=utf-8
2021-05-20 15:39:43.926 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/grupos  
2021-05-20 15:39:43.928 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.GruposController.GetGrupo (FortalezaServer)'
2021-05-20 15:39:43.930 -03:00 [INF] Route matched with {action = "GetGrupo", controller = "Grupos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[FortalezaServer.Models.Grupo]]] GetGrupo() on controller FortalezaServer.Controllers.GruposController (FortalezaServer).
2021-05-20 15:39:43.941 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-05-20 15:39:43.944 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`idgrupo`, `g`.`descricao`, `g`.`nome`, `g`.`visivel`
FROM `grupo` AS `g`
2021-05-20 15:39:43.948 -03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[FortalezaServer.Models.Grupo, FortalezaServer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-05-20 15:39:43.956 -03:00 [INF] Executed action FortalezaServer.Controllers.GruposController.GetGrupo (FortalezaServer) in 15.3393ms
2021-05-20 15:39:43.959 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.GruposController.GetGrupo (FortalezaServer)'
2021-05-20 15:39:43.959 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/items  
2021-05-20 15:39:43.960 -03:00 [INF] Request finished in 33.5907ms 200 application/json; charset=utf-8
2021-05-20 15:39:43.961 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.ItemsController.GetItem (FortalezaServer)'
2021-05-20 15:39:43.967 -03:00 [INF] Route matched with {action = "GetItem", controller = "Items"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[FortalezaServer.Models.Item]]] GetItem(Boolean, Boolean, Boolean, System.String) on controller FortalezaServer.Controllers.ItemsController (FortalezaServer).
2021-05-20 15:39:43.972 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-05-20 15:39:43.976 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`iditem`, `i`.`atacado`, `i`.`codigo_barras`, `i`.`descricao`, `i`.`disponivel`, `i`.`estoque`, `i`.`estoque_minimo`, `i`.`imagem`, `i`.`permite_combo`, `i`.`quantidade_atacado`, `i`.`tipo`, `i`.`unidade`, `i`.`unidade_inteira`, `i`.`valor`, `i`.`valor_atacado`, `i`.`visivel`
FROM `item` AS `i`
WHERE `i`.`visivel` = 1
2021-05-20 15:39:43.988 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `f`.`iditem`, `f`.`aliquota_icms`, `f`.`cest`, `f`.`cfop`, `f`.`cst_icms`, `f`.`ncm`, `f`.`origem`
FROM `fiscal` AS `f`
WHERE `f`.`iditem` = @__p_0
2021-05-20 15:39:43.994 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `f`.`iditem`, `f`.`aliquota_icms`, `f`.`cest`, `f`.`cfop`, `f`.`cst_icms`, `f`.`ncm`, `f`.`origem`
FROM `fiscal` AS `f`
WHERE `f`.`iditem` = @__p_0
2021-05-20 15:39:44.010 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `f`.`iditem`, `f`.`aliquota_icms`, `f`.`cest`, `f`.`cfop`, `f`.`cst_icms`, `f`.`ncm`, `f`.`origem`
FROM `fiscal` AS `f`
WHERE `f`.`iditem` = @__p_0
2021-05-20 15:39:44.015 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `f`.`iditem`, `f`.`aliquota_icms`, `f`.`cest`, `f`.`cfop`, `f`.`cst_icms`, `f`.`ncm`, `f`.`origem`
FROM `fiscal` AS `f`
WHERE `f`.`iditem` = @__p_0
2021-05-20 15:39:44.024 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `f`.`iditem`, `f`.`aliquota_icms`, `f`.`cest`, `f`.`cfop`, `f`.`cst_icms`, `f`.`ncm`, `f`.`origem`
FROM `fiscal` AS `f`
WHERE `f`.`iditem` = @__p_0
2021-05-20 15:39:44.032 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `f`.`iditem`, `f`.`aliquota_icms`, `f`.`cest`, `f`.`cfop`, `f`.`cst_icms`, `f`.`ncm`, `f`.`origem`
FROM `fiscal` AS `f`
WHERE `f`.`iditem` = @__p_0
2021-05-20 15:39:44.042 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `f`.`iditem`, `f`.`aliquota_icms`, `f`.`cest`, `f`.`cfop`, `f`.`cst_icms`, `f`.`ncm`, `f`.`origem`
FROM `fiscal` AS `f`
WHERE `f`.`iditem` = @__p_0
2021-05-20 15:39:44.048 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `f`.`iditem`, `f`.`aliquota_icms`, `f`.`cest`, `f`.`cfop`, `f`.`cst_icms`, `f`.`ncm`, `f`.`origem`
FROM `fiscal` AS `f`
WHERE `f`.`iditem` = @__p_0
2021-05-20 15:39:44.053 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `f`.`iditem`, `f`.`aliquota_icms`, `f`.`cest`, `f`.`cfop`, `f`.`cst_icms`, `f`.`ncm`, `f`.`origem`
FROM `fiscal` AS `f`
WHERE `f`.`iditem` = @__p_0
2021-05-20 15:39:44.058 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `f`.`iditem`, `f`.`aliquota_icms`, `f`.`cest`, `f`.`cfop`, `f`.`cst_icms`, `f`.`ncm`, `f`.`origem`
FROM `fiscal` AS `f`
WHERE `f`.`iditem` = @__p_0
2021-05-20 15:39:44.063 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `f`.`iditem`, `f`.`aliquota_icms`, `f`.`cest`, `f`.`cfop`, `f`.`cst_icms`, `f`.`ncm`, `f`.`origem`
FROM `fiscal` AS `f`
WHERE `f`.`iditem` = @__p_0
2021-05-20 15:39:44.068 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `f`.`iditem`, `f`.`aliquota_icms`, `f`.`cest`, `f`.`cfop`, `f`.`cst_icms`, `f`.`ncm`, `f`.`origem`
FROM `fiscal` AS `f`
WHERE `f`.`iditem` = @__p_0
2021-05-20 15:39:44.072 -03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[FortalezaServer.Models.Item, FortalezaServer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-05-20 15:39:44.075 -03:00 [INF] Executed action FortalezaServer.Controllers.ItemsController.GetItem (FortalezaServer) in 102.8493ms
2021-05-20 15:39:44.076 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.ItemsController.GetItem (FortalezaServer)'
2021-05-20 15:39:44.079 -03:00 [INF] Request finished in 120.3468ms 200 application/json; charset=utf-8
2021-05-20 15:39:50.668 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/caixas/actions/aberto?idnomeCaixa=1  
2021-05-20 15:39:50.670 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.CaixasController.GetCaixaAberto (FortalezaServer)'
2021-05-20 15:39:50.676 -03:00 [INF] Route matched with {action = "GetCaixaAberto", controller = "Caixas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FortalezaServer.Models.Caixa]] GetCaixaAberto(Int32, Boolean) on controller FortalezaServer.Controllers.CaixasController (FortalezaServer).
2021-05-20 15:39:50.684 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-05-20 15:39:50.704 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__idnomeCaixa_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`idcaixa`, `c`.`aberto`, `c`.`idnome_caixa`, `n`.`idnome_caixa`, `n`.`nome`, `a`.`idcaixa`, `a`.`hora`, `a`.`idpdv`, `a`.`idusuario`, `p`.`idpdv`, `p`.`nome`, `u`.`idusuario`, `u`.`cpf`, `u`.`idendereco`, `u`.`login`, `u`.`nome`, `u`.`senha`, `u`.`telefone1`, `u`.`telefone2`
FROM `caixa` AS `c`
INNER JOIN `nome_caixa` AS `n` ON `c`.`idnome_caixa` = `n`.`idnome_caixa`
LEFT JOIN `abertura` AS `a` ON `c`.`idcaixa` = `a`.`idcaixa`
LEFT JOIN `pdv` AS `p` ON `a`.`idpdv` = `p`.`idpdv`
LEFT JOIN `usuario` AS `u` ON `a`.`idusuario` = `u`.`idusuario`
WHERE (`c`.`aberto` = 1) AND (`c`.`idnome_caixa` = @__idnomeCaixa_0)
LIMIT 1
2021-05-20 15:39:50.730 -03:00 [INF] Executing ObjectResult, writing value of type 'FortalezaServer.Models.Caixa'.
2021-05-20 15:39:50.751 -03:00 [INF] Executed action FortalezaServer.Controllers.CaixasController.GetCaixaAberto (FortalezaServer) in 70.0669ms
2021-05-20 15:39:50.752 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.CaixasController.GetCaixaAberto (FortalezaServer)'
2021-05-20 15:39:50.754 -03:00 [INF] Request finished in 85.6689ms 200 application/json; charset=utf-8
2021-05-20 15:39:50.771 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8000/api/vendas application/json; charset=utf-8 504
2021-05-20 15:39:50.772 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.VendasController.PostVenda (FortalezaServer)'
2021-05-20 15:39:50.776 -03:00 [INF] Route matched with {action = "PostVenda", controller = "Vendas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FortalezaServer.Models.Venda]] PostVenda(FortalezaServer.Models.Venda) on controller FortalezaServer.Controllers.VendasController (FortalezaServer).
2021-05-20 15:39:50.858 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-05-20 15:39:50.871 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `v`.`numero_venda`
FROM `venda` AS `v`
ORDER BY `v`.`idvenda` DESC
LIMIT 1
2021-05-20 15:39:50.961 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = SByte), @p1='?' (DbType = Decimal), @p2='?' (DbType = Decimal), @p3='?' (Size = 255), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = SByte), @p12='?' (DbType = Int32), @p13='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `venda` (`aberta`, `acrescimo`, `desconto`, `descricao`, `hora_entrada`, `hora_fechamento`, `idcaixa`, `idcliente`, `idpdv`, `idresponsavel`, `numero_venda`, `paga`, `tipo`, `valor_pago`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
SELECT `idvenda`
FROM `venda`
WHERE ROW_COUNT() = 1
 AND `idvenda`=LAST_INSERT_ID();
2021-05-20 15:39:51.002 -03:00 [INF] Executing ObjectResult, writing value of type 'FortalezaServer.Models.Venda'.
2021-05-20 15:39:51.041 -03:00 [INF] Executed action FortalezaServer.Controllers.VendasController.PostVenda (FortalezaServer) in 262.161ms
2021-05-20 15:39:51.042 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.VendasController.PostVenda (FortalezaServer)'
2021-05-20 15:39:51.044 -03:00 [INF] Request finished in 273.227ms 201 application/json; charset=utf-8
2021-05-20 15:39:51.055 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8000/api/vendas/2/itemvendas application/json; charset=utf-8 370
2021-05-20 15:39:51.056 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.VendasController.PostItemvenda (FortalezaServer)'
2021-05-20 15:39:51.061 -03:00 [INF] Route matched with {action = "PostItemvenda", controller = "Vendas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FortalezaServer.Models.Venda]] PostItemvenda(Int32, FortalezaServer.Models.ItemVenda) on controller FortalezaServer.Controllers.VendasController (FortalezaServer).
2021-05-20 15:39:51.071 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-05-20 15:39:51.080 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `v`.`idvenda`, `v`.`aberta`, `v`.`acrescimo`, `v`.`desconto`, `v`.`descricao`, `v`.`hora_entrada`, `v`.`hora_fechamento`, `v`.`idcaixa`, `v`.`idcliente`, `v`.`idpdv`, `v`.`idresponsavel`, `v`.`numero_venda`, `v`.`paga`, `v`.`tipo`, `v`.`valor_pago`
FROM `venda` AS `v`
WHERE `v`.`idvenda` = @__p_0
LIMIT 1
2021-05-20 15:39:51.091 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`iditem`, `i`.`atacado`, `i`.`codigo_barras`, `i`.`descricao`, `i`.`disponivel`, `i`.`estoque`, `i`.`estoque_minimo`, `i`.`imagem`, `i`.`permite_combo`, `i`.`quantidade_atacado`, `i`.`tipo`, `i`.`unidade`, `i`.`unidade_inteira`, `i`.`valor`, `i`.`valor_atacado`, `i`.`visivel`
FROM `item` AS `i`
WHERE `i`.`iditem` = @__p_0
LIMIT 1
2021-05-20 15:39:51.101 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`iditem_venda`, `i`.`acrescimo`, `i`.`cancelado`, `i`.`custo`, `i`.`desconto`, `i`.`iditem`, `i`.`idvenda`, `i`.`indice`, `i`.`quantidade`, `i`.`valor`
FROM `item_venda` AS `i`
WHERE `i`.`idvenda` = @__p_0
2021-05-20 15:39:51.119 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = AnsiString), @p1='?' (DbType = Decimal), @p2='?' (DbType = AnsiString), @p3='?' (DbType = AnsiString), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Decimal), @p8='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `item_venda` (`acrescimo`, `cancelado`, `custo`, `desconto`, `iditem`, `idvenda`, `indice`, `quantidade`, `valor`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT `iditem_venda`
FROM `item_venda`
WHERE ROW_COUNT() = 1
 AND `iditem_venda`=LAST_INSERT_ID();
2021-05-20 15:39:51.139 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p14='?' (DbType = Int32), @p0='?' (DbType = SByte), @p1='?' (DbType = Decimal), @p2='?' (DbType = Decimal), @p3='?' (Size = 255), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = SByte), @p12='?' (DbType = Int32), @p13='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
UPDATE `venda` SET `aberta` = @p0, `acrescimo` = @p1, `desconto` = @p2, `descricao` = @p3, `hora_entrada` = @p4, `hora_fechamento` = @p5, `idcaixa` = @p6, `idcliente` = @p7, `idpdv` = @p8, `idresponsavel` = @p9, `numero_venda` = @p10, `paga` = @p11, `tipo` = @p12, `valor_pago` = @p13
WHERE `idvenda` = @p14;
SELECT ROW_COUNT();
2021-05-20 15:39:51.148 -03:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType2`2[[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-05-20 15:39:51.154 -03:00 [INF] Executed action FortalezaServer.Controllers.VendasController.PostItemvenda (FortalezaServer) in 90.2198ms
2021-05-20 15:39:51.156 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.VendasController.PostItemvenda (FortalezaServer)'
2021-05-20 15:39:51.157 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/vendas/2?itemvendas=true  
2021-05-20 15:39:51.158 -03:00 [INF] Request finished in 102.6973ms 201 application/json; charset=utf-8
2021-05-20 15:39:51.160 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer)'
2021-05-20 15:39:51.165 -03:00 [INF] Route matched with {action = "GetVenda", controller = "Vendas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FortalezaServer.Models.Venda]] GetVenda(Int32, Boolean, Boolean, Boolean) on controller FortalezaServer.Controllers.VendasController (FortalezaServer).
2021-05-20 15:39:51.170 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-05-20 15:39:51.173 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `v`.`idvenda`, `v`.`aberta`, `v`.`acrescimo`, `v`.`desconto`, `v`.`descricao`, `v`.`hora_entrada`, `v`.`hora_fechamento`, `v`.`idcaixa`, `v`.`idcliente`, `v`.`idpdv`, `v`.`idresponsavel`, `v`.`numero_venda`, `v`.`paga`, `v`.`tipo`, `v`.`valor_pago`
FROM `venda` AS `v`
WHERE `v`.`idvenda` = @__p_0
LIMIT 1
2021-05-20 15:39:51.184 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`iditem_venda`, `i`.`acrescimo`, `i`.`cancelado`, `i`.`custo`, `i`.`desconto`, `i`.`iditem`, `i`.`idvenda`, `i`.`indice`, `i`.`quantidade`, `i`.`valor`, `i0`.`iditem`, `i0`.`atacado`, `i0`.`codigo_barras`, `i0`.`descricao`, `i0`.`disponivel`, `i0`.`estoque`, `i0`.`estoque_minimo`, `i0`.`imagem`, `i0`.`permite_combo`, `i0`.`quantidade_atacado`, `i0`.`tipo`, `i0`.`unidade`, `i0`.`unidade_inteira`, `i0`.`valor`, `i0`.`valor_atacado`, `i0`.`visivel`
FROM `item_venda` AS `i`
INNER JOIN `item` AS `i0` ON `i`.`iditem` = `i0`.`iditem`
WHERE `i`.`idvenda` = @__p_0
2021-05-20 15:39:51.190 -03:00 [INF] Executing ObjectResult, writing value of type 'FortalezaServer.Models.Venda'.
2021-05-20 15:39:51.195 -03:00 [INF] Executed action FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer) in 27.2859ms
2021-05-20 15:39:51.196 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer)'
2021-05-20 15:39:51.202 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/vendas/2?itemvendas=true  
2021-05-20 15:39:51.202 -03:00 [INF] Request finished in 44.3764ms 200 application/json; charset=utf-8
2021-05-20 15:39:51.203 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer)'
2021-05-20 15:39:51.205 -03:00 [INF] Route matched with {action = "GetVenda", controller = "Vendas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FortalezaServer.Models.Venda]] GetVenda(Int32, Boolean, Boolean, Boolean) on controller FortalezaServer.Controllers.VendasController (FortalezaServer).
2021-05-20 15:39:51.209 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-05-20 15:39:51.213 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `v`.`idvenda`, `v`.`aberta`, `v`.`acrescimo`, `v`.`desconto`, `v`.`descricao`, `v`.`hora_entrada`, `v`.`hora_fechamento`, `v`.`idcaixa`, `v`.`idcliente`, `v`.`idpdv`, `v`.`idresponsavel`, `v`.`numero_venda`, `v`.`paga`, `v`.`tipo`, `v`.`valor_pago`
FROM `venda` AS `v`
WHERE `v`.`idvenda` = @__p_0
LIMIT 1
2021-05-20 15:39:51.219 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`iditem_venda`, `i`.`acrescimo`, `i`.`cancelado`, `i`.`custo`, `i`.`desconto`, `i`.`iditem`, `i`.`idvenda`, `i`.`indice`, `i`.`quantidade`, `i`.`valor`, `i0`.`iditem`, `i0`.`atacado`, `i0`.`codigo_barras`, `i0`.`descricao`, `i0`.`disponivel`, `i0`.`estoque`, `i0`.`estoque_minimo`, `i0`.`imagem`, `i0`.`permite_combo`, `i0`.`quantidade_atacado`, `i0`.`tipo`, `i0`.`unidade`, `i0`.`unidade_inteira`, `i0`.`valor`, `i0`.`valor_atacado`, `i0`.`visivel`
FROM `item_venda` AS `i`
INNER JOIN `item` AS `i0` ON `i`.`iditem` = `i0`.`iditem`
WHERE `i`.`idvenda` = @__p_0
2021-05-20 15:39:51.224 -03:00 [INF] Executing ObjectResult, writing value of type 'FortalezaServer.Models.Venda'.
2021-05-20 15:39:51.225 -03:00 [INF] Executed action FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer) in 16.4776ms
2021-05-20 15:39:51.230 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer)'
2021-05-20 15:39:51.232 -03:00 [INF] Request finished in 30.8394ms 200 application/json; charset=utf-8
2021-05-20 15:39:52.152 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8000/api/vendas/2/itemvendas application/json; charset=utf-8 370
2021-05-20 15:39:52.154 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.VendasController.PostItemvenda (FortalezaServer)'
2021-05-20 15:39:52.155 -03:00 [INF] Route matched with {action = "PostItemvenda", controller = "Vendas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FortalezaServer.Models.Venda]] PostItemvenda(Int32, FortalezaServer.Models.ItemVenda) on controller FortalezaServer.Controllers.VendasController (FortalezaServer).
2021-05-20 15:39:52.159 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-05-20 15:39:52.164 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `v`.`idvenda`, `v`.`aberta`, `v`.`acrescimo`, `v`.`desconto`, `v`.`descricao`, `v`.`hora_entrada`, `v`.`hora_fechamento`, `v`.`idcaixa`, `v`.`idcliente`, `v`.`idpdv`, `v`.`idresponsavel`, `v`.`numero_venda`, `v`.`paga`, `v`.`tipo`, `v`.`valor_pago`
FROM `venda` AS `v`
WHERE `v`.`idvenda` = @__p_0
LIMIT 1
2021-05-20 15:39:52.169 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`iditem`, `i`.`atacado`, `i`.`codigo_barras`, `i`.`descricao`, `i`.`disponivel`, `i`.`estoque`, `i`.`estoque_minimo`, `i`.`imagem`, `i`.`permite_combo`, `i`.`quantidade_atacado`, `i`.`tipo`, `i`.`unidade`, `i`.`unidade_inteira`, `i`.`valor`, `i`.`valor_atacado`, `i`.`visivel`
FROM `item` AS `i`
WHERE `i`.`iditem` = @__p_0
LIMIT 1
2021-05-20 15:39:52.176 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`iditem_venda`, `i`.`acrescimo`, `i`.`cancelado`, `i`.`custo`, `i`.`desconto`, `i`.`iditem`, `i`.`idvenda`, `i`.`indice`, `i`.`quantidade`, `i`.`valor`
FROM `item_venda` AS `i`
WHERE `i`.`idvenda` = @__p_0
2021-05-20 15:39:52.182 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = AnsiString), @p1='?' (DbType = Decimal), @p2='?' (DbType = AnsiString), @p3='?' (DbType = AnsiString), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Decimal), @p8='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `item_venda` (`acrescimo`, `cancelado`, `custo`, `desconto`, `iditem`, `idvenda`, `indice`, `quantidade`, `valor`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT `iditem_venda`
FROM `item_venda`
WHERE ROW_COUNT() = 1
 AND `iditem_venda`=LAST_INSERT_ID();
2021-05-20 15:39:52.191 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p14='?' (DbType = Int32), @p0='?' (DbType = SByte), @p1='?' (DbType = Decimal), @p2='?' (DbType = Decimal), @p3='?' (Size = 255), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = SByte), @p12='?' (DbType = Int32), @p13='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
UPDATE `venda` SET `aberta` = @p0, `acrescimo` = @p1, `desconto` = @p2, `descricao` = @p3, `hora_entrada` = @p4, `hora_fechamento` = @p5, `idcaixa` = @p6, `idcliente` = @p7, `idpdv` = @p8, `idresponsavel` = @p9, `numero_venda` = @p10, `paga` = @p11, `tipo` = @p12, `valor_pago` = @p13
WHERE `idvenda` = @p14;
SELECT ROW_COUNT();
2021-05-20 15:39:52.199 -03:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType2`2[[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-05-20 15:39:52.201 -03:00 [INF] Executed action FortalezaServer.Controllers.VendasController.PostItemvenda (FortalezaServer) in 42.8884ms
2021-05-20 15:39:52.204 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.VendasController.PostItemvenda (FortalezaServer)'
2021-05-20 15:39:52.204 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/vendas/2?itemvendas=true  
2021-05-20 15:39:52.206 -03:00 [INF] Request finished in 54.5209ms 201 application/json; charset=utf-8
2021-05-20 15:39:52.208 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer)'
2021-05-20 15:39:52.210 -03:00 [INF] Route matched with {action = "GetVenda", controller = "Vendas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FortalezaServer.Models.Venda]] GetVenda(Int32, Boolean, Boolean, Boolean) on controller FortalezaServer.Controllers.VendasController (FortalezaServer).
2021-05-20 15:39:52.215 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-05-20 15:39:52.218 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `v`.`idvenda`, `v`.`aberta`, `v`.`acrescimo`, `v`.`desconto`, `v`.`descricao`, `v`.`hora_entrada`, `v`.`hora_fechamento`, `v`.`idcaixa`, `v`.`idcliente`, `v`.`idpdv`, `v`.`idresponsavel`, `v`.`numero_venda`, `v`.`paga`, `v`.`tipo`, `v`.`valor_pago`
FROM `venda` AS `v`
WHERE `v`.`idvenda` = @__p_0
LIMIT 1
2021-05-20 15:39:52.223 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`iditem_venda`, `i`.`acrescimo`, `i`.`cancelado`, `i`.`custo`, `i`.`desconto`, `i`.`iditem`, `i`.`idvenda`, `i`.`indice`, `i`.`quantidade`, `i`.`valor`, `i0`.`iditem`, `i0`.`atacado`, `i0`.`codigo_barras`, `i0`.`descricao`, `i0`.`disponivel`, `i0`.`estoque`, `i0`.`estoque_minimo`, `i0`.`imagem`, `i0`.`permite_combo`, `i0`.`quantidade_atacado`, `i0`.`tipo`, `i0`.`unidade`, `i0`.`unidade_inteira`, `i0`.`valor`, `i0`.`valor_atacado`, `i0`.`visivel`
FROM `item_venda` AS `i`
INNER JOIN `item` AS `i0` ON `i`.`iditem` = `i0`.`iditem`
WHERE `i`.`idvenda` = @__p_0
2021-05-20 15:39:52.228 -03:00 [INF] Executing ObjectResult, writing value of type 'FortalezaServer.Models.Venda'.
2021-05-20 15:39:52.230 -03:00 [INF] Executed action FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer) in 15.7573ms
2021-05-20 15:39:52.232 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer)'
2021-05-20 15:39:52.234 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/vendas/2?itemvendas=true  
2021-05-20 15:39:52.235 -03:00 [INF] Request finished in 30.7693ms 200 application/json; charset=utf-8
2021-05-20 15:39:52.236 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer)'
2021-05-20 15:39:52.239 -03:00 [INF] Route matched with {action = "GetVenda", controller = "Vendas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FortalezaServer.Models.Venda]] GetVenda(Int32, Boolean, Boolean, Boolean) on controller FortalezaServer.Controllers.VendasController (FortalezaServer).
2021-05-20 15:39:52.245 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-05-20 15:39:52.249 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `v`.`idvenda`, `v`.`aberta`, `v`.`acrescimo`, `v`.`desconto`, `v`.`descricao`, `v`.`hora_entrada`, `v`.`hora_fechamento`, `v`.`idcaixa`, `v`.`idcliente`, `v`.`idpdv`, `v`.`idresponsavel`, `v`.`numero_venda`, `v`.`paga`, `v`.`tipo`, `v`.`valor_pago`
FROM `venda` AS `v`
WHERE `v`.`idvenda` = @__p_0
LIMIT 1
2021-05-20 15:39:52.255 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`iditem_venda`, `i`.`acrescimo`, `i`.`cancelado`, `i`.`custo`, `i`.`desconto`, `i`.`iditem`, `i`.`idvenda`, `i`.`indice`, `i`.`quantidade`, `i`.`valor`, `i0`.`iditem`, `i0`.`atacado`, `i0`.`codigo_barras`, `i0`.`descricao`, `i0`.`disponivel`, `i0`.`estoque`, `i0`.`estoque_minimo`, `i0`.`imagem`, `i0`.`permite_combo`, `i0`.`quantidade_atacado`, `i0`.`tipo`, `i0`.`unidade`, `i0`.`unidade_inteira`, `i0`.`valor`, `i0`.`valor_atacado`, `i0`.`visivel`
FROM `item_venda` AS `i`
INNER JOIN `item` AS `i0` ON `i`.`iditem` = `i0`.`iditem`
WHERE `i`.`idvenda` = @__p_0
2021-05-20 15:39:52.260 -03:00 [INF] Executing ObjectResult, writing value of type 'FortalezaServer.Models.Venda'.
2021-05-20 15:39:52.261 -03:00 [INF] Executed action FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer) in 16.3776ms
2021-05-20 15:39:52.265 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer)'
2021-05-20 15:39:52.267 -03:00 [INF] Request finished in 32.8807ms 200 application/json; charset=utf-8
2021-05-20 15:39:52.918 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8000/api/vendas/2/itemvendas application/json; charset=utf-8 370
2021-05-20 15:39:52.919 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.VendasController.PostItemvenda (FortalezaServer)'
2021-05-20 15:39:52.921 -03:00 [INF] Route matched with {action = "PostItemvenda", controller = "Vendas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FortalezaServer.Models.Venda]] PostItemvenda(Int32, FortalezaServer.Models.ItemVenda) on controller FortalezaServer.Controllers.VendasController (FortalezaServer).
2021-05-20 15:39:52.926 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-05-20 15:39:52.934 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `v`.`idvenda`, `v`.`aberta`, `v`.`acrescimo`, `v`.`desconto`, `v`.`descricao`, `v`.`hora_entrada`, `v`.`hora_fechamento`, `v`.`idcaixa`, `v`.`idcliente`, `v`.`idpdv`, `v`.`idresponsavel`, `v`.`numero_venda`, `v`.`paga`, `v`.`tipo`, `v`.`valor_pago`
FROM `venda` AS `v`
WHERE `v`.`idvenda` = @__p_0
LIMIT 1
2021-05-20 15:39:52.942 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`iditem`, `i`.`atacado`, `i`.`codigo_barras`, `i`.`descricao`, `i`.`disponivel`, `i`.`estoque`, `i`.`estoque_minimo`, `i`.`imagem`, `i`.`permite_combo`, `i`.`quantidade_atacado`, `i`.`tipo`, `i`.`unidade`, `i`.`unidade_inteira`, `i`.`valor`, `i`.`valor_atacado`, `i`.`visivel`
FROM `item` AS `i`
WHERE `i`.`iditem` = @__p_0
LIMIT 1
2021-05-20 15:39:52.950 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`iditem_venda`, `i`.`acrescimo`, `i`.`cancelado`, `i`.`custo`, `i`.`desconto`, `i`.`iditem`, `i`.`idvenda`, `i`.`indice`, `i`.`quantidade`, `i`.`valor`
FROM `item_venda` AS `i`
WHERE `i`.`idvenda` = @__p_0
2021-05-20 15:39:52.959 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = AnsiString), @p1='?' (DbType = Decimal), @p2='?' (DbType = AnsiString), @p3='?' (DbType = AnsiString), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Decimal), @p8='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `item_venda` (`acrescimo`, `cancelado`, `custo`, `desconto`, `iditem`, `idvenda`, `indice`, `quantidade`, `valor`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT `iditem_venda`
FROM `item_venda`
WHERE ROW_COUNT() = 1
 AND `iditem_venda`=LAST_INSERT_ID();
2021-05-20 15:39:52.969 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p14='?' (DbType = Int32), @p0='?' (DbType = SByte), @p1='?' (DbType = Decimal), @p2='?' (DbType = Decimal), @p3='?' (Size = 255), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = SByte), @p12='?' (DbType = Int32), @p13='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
UPDATE `venda` SET `aberta` = @p0, `acrescimo` = @p1, `desconto` = @p2, `descricao` = @p3, `hora_entrada` = @p4, `hora_fechamento` = @p5, `idcaixa` = @p6, `idcliente` = @p7, `idpdv` = @p8, `idresponsavel` = @p9, `numero_venda` = @p10, `paga` = @p11, `tipo` = @p12, `valor_pago` = @p13
WHERE `idvenda` = @p14;
SELECT ROW_COUNT();
2021-05-20 15:39:52.976 -03:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType2`2[[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-05-20 15:39:52.979 -03:00 [INF] Executed action FortalezaServer.Controllers.VendasController.PostItemvenda (FortalezaServer) in 54.949ms
2021-05-20 15:39:52.982 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/vendas/2?itemvendas=true  
2021-05-20 15:39:52.983 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.VendasController.PostItemvenda (FortalezaServer)'
2021-05-20 15:39:52.984 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer)'
2021-05-20 15:39:52.985 -03:00 [INF] Request finished in 67.1719ms 201 application/json; charset=utf-8
2021-05-20 15:39:52.986 -03:00 [INF] Route matched with {action = "GetVenda", controller = "Vendas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FortalezaServer.Models.Venda]] GetVenda(Int32, Boolean, Boolean, Boolean) on controller FortalezaServer.Controllers.VendasController (FortalezaServer).
2021-05-20 15:39:52.992 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-05-20 15:39:52.995 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `v`.`idvenda`, `v`.`aberta`, `v`.`acrescimo`, `v`.`desconto`, `v`.`descricao`, `v`.`hora_entrada`, `v`.`hora_fechamento`, `v`.`idcaixa`, `v`.`idcliente`, `v`.`idpdv`, `v`.`idresponsavel`, `v`.`numero_venda`, `v`.`paga`, `v`.`tipo`, `v`.`valor_pago`
FROM `venda` AS `v`
WHERE `v`.`idvenda` = @__p_0
LIMIT 1
2021-05-20 15:39:53.002 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`iditem_venda`, `i`.`acrescimo`, `i`.`cancelado`, `i`.`custo`, `i`.`desconto`, `i`.`iditem`, `i`.`idvenda`, `i`.`indice`, `i`.`quantidade`, `i`.`valor`, `i0`.`iditem`, `i0`.`atacado`, `i0`.`codigo_barras`, `i0`.`descricao`, `i0`.`disponivel`, `i0`.`estoque`, `i0`.`estoque_minimo`, `i0`.`imagem`, `i0`.`permite_combo`, `i0`.`quantidade_atacado`, `i0`.`tipo`, `i0`.`unidade`, `i0`.`unidade_inteira`, `i0`.`valor`, `i0`.`valor_atacado`, `i0`.`visivel`
FROM `item_venda` AS `i`
INNER JOIN `item` AS `i0` ON `i`.`iditem` = `i0`.`iditem`
WHERE `i`.`idvenda` = @__p_0
2021-05-20 15:39:53.007 -03:00 [INF] Executing ObjectResult, writing value of type 'FortalezaServer.Models.Venda'.
2021-05-20 15:39:53.010 -03:00 [INF] Executed action FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer) in 18.9412ms
2021-05-20 15:39:53.011 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer)'
2021-05-20 15:39:53.017 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/vendas/2?itemvendas=true  
2021-05-20 15:39:53.017 -03:00 [INF] Request finished in 35.0512ms 200 application/json; charset=utf-8
2021-05-20 15:39:53.018 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer)'
2021-05-20 15:39:53.021 -03:00 [INF] Route matched with {action = "GetVenda", controller = "Vendas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FortalezaServer.Models.Venda]] GetVenda(Int32, Boolean, Boolean, Boolean) on controller FortalezaServer.Controllers.VendasController (FortalezaServer).
2021-05-20 15:39:53.024 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-05-20 15:39:53.028 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `v`.`idvenda`, `v`.`aberta`, `v`.`acrescimo`, `v`.`desconto`, `v`.`descricao`, `v`.`hora_entrada`, `v`.`hora_fechamento`, `v`.`idcaixa`, `v`.`idcliente`, `v`.`idpdv`, `v`.`idresponsavel`, `v`.`numero_venda`, `v`.`paga`, `v`.`tipo`, `v`.`valor_pago`
FROM `venda` AS `v`
WHERE `v`.`idvenda` = @__p_0
LIMIT 1
2021-05-20 15:39:53.033 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`iditem_venda`, `i`.`acrescimo`, `i`.`cancelado`, `i`.`custo`, `i`.`desconto`, `i`.`iditem`, `i`.`idvenda`, `i`.`indice`, `i`.`quantidade`, `i`.`valor`, `i0`.`iditem`, `i0`.`atacado`, `i0`.`codigo_barras`, `i0`.`descricao`, `i0`.`disponivel`, `i0`.`estoque`, `i0`.`estoque_minimo`, `i0`.`imagem`, `i0`.`permite_combo`, `i0`.`quantidade_atacado`, `i0`.`tipo`, `i0`.`unidade`, `i0`.`unidade_inteira`, `i0`.`valor`, `i0`.`valor_atacado`, `i0`.`visivel`
FROM `item_venda` AS `i`
INNER JOIN `item` AS `i0` ON `i`.`iditem` = `i0`.`iditem`
WHERE `i`.`idvenda` = @__p_0
2021-05-20 15:39:53.040 -03:00 [INF] Executing ObjectResult, writing value of type 'FortalezaServer.Models.Venda'.
2021-05-20 15:39:53.041 -03:00 [INF] Executed action FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer) in 16.953ms
2021-05-20 15:39:53.042 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer)'
2021-05-20 15:39:53.044 -03:00 [INF] Request finished in 27.1569ms 200 application/json; charset=utf-8
2021-05-20 15:39:55.886 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/caixas/actions/aberto?idnomeCaixa=1  
2021-05-20 15:39:55.887 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.CaixasController.GetCaixaAberto (FortalezaServer)'
2021-05-20 15:39:55.889 -03:00 [INF] Route matched with {action = "GetCaixaAberto", controller = "Caixas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FortalezaServer.Models.Caixa]] GetCaixaAberto(Int32, Boolean) on controller FortalezaServer.Controllers.CaixasController (FortalezaServer).
2021-05-20 15:39:55.893 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-05-20 15:39:55.898 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__idnomeCaixa_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`idcaixa`, `c`.`aberto`, `c`.`idnome_caixa`, `n`.`idnome_caixa`, `n`.`nome`, `a`.`idcaixa`, `a`.`hora`, `a`.`idpdv`, `a`.`idusuario`, `p`.`idpdv`, `p`.`nome`, `u`.`idusuario`, `u`.`cpf`, `u`.`idendereco`, `u`.`login`, `u`.`nome`, `u`.`senha`, `u`.`telefone1`, `u`.`telefone2`
FROM `caixa` AS `c`
INNER JOIN `nome_caixa` AS `n` ON `c`.`idnome_caixa` = `n`.`idnome_caixa`
LEFT JOIN `abertura` AS `a` ON `c`.`idcaixa` = `a`.`idcaixa`
LEFT JOIN `pdv` AS `p` ON `a`.`idpdv` = `p`.`idpdv`
LEFT JOIN `usuario` AS `u` ON `a`.`idusuario` = `u`.`idusuario`
WHERE (`c`.`aberto` = 1) AND (`c`.`idnome_caixa` = @__idnomeCaixa_0)
LIMIT 1
2021-05-20 15:39:55.905 -03:00 [INF] Executing ObjectResult, writing value of type 'FortalezaServer.Models.Caixa'.
2021-05-20 15:39:55.907 -03:00 [INF] Executed action FortalezaServer.Controllers.CaixasController.GetCaixaAberto (FortalezaServer) in 14.8642ms
2021-05-20 15:39:55.909 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.CaixasController.GetCaixaAberto (FortalezaServer)'
2021-05-20 15:39:55.911 -03:00 [INF] Request finished in 25.0508ms 200 application/json; charset=utf-8
2021-05-20 15:39:55.914 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/vendas/2?pagamentos=true  
2021-05-20 15:39:55.915 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer)'
2021-05-20 15:39:55.917 -03:00 [INF] Route matched with {action = "GetVenda", controller = "Vendas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FortalezaServer.Models.Venda]] GetVenda(Int32, Boolean, Boolean, Boolean) on controller FortalezaServer.Controllers.VendasController (FortalezaServer).
2021-05-20 15:39:55.922 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-05-20 15:39:55.926 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `v`.`idvenda`, `v`.`aberta`, `v`.`acrescimo`, `v`.`desconto`, `v`.`descricao`, `v`.`hora_entrada`, `v`.`hora_fechamento`, `v`.`idcaixa`, `v`.`idcliente`, `v`.`idpdv`, `v`.`idresponsavel`, `v`.`numero_venda`, `v`.`paga`, `v`.`tipo`, `v`.`valor_pago`
FROM `venda` AS `v`
WHERE `v`.`idvenda` = @__p_0
LIMIT 1
2021-05-20 15:39:55.933 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`iditem_venda`, `i`.`acrescimo`, `i`.`cancelado`, `i`.`custo`, `i`.`desconto`, `i`.`iditem`, `i`.`idvenda`, `i`.`indice`, `i`.`quantidade`, `i`.`valor`
FROM `item_venda` AS `i`
WHERE `i`.`idvenda` = @__p_0
2021-05-20 15:39:55.951 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`idvenda`, `p`.`idmovimento`, `p`.`credenciadora`, `m`.`idmovimento`, `m`.`descricao`, `m`.`hora_entrada`, `m`.`idbandeira`, `m`.`idcaixa`, `m`.`idforma_pagamento`, `m`.`idpdv`, `m`.`idusuario`, `m`.`tipo`, `m`.`valor`, `f`.`idforma_pagamento`, `f`.`bandeira`, `f`.`debitar_cliente`, `f`.`debito`, `f`.`gerar_contas_receber`, `f`.`nome`, `f`.`ordem`
FROM `pagamento` AS `p`
INNER JOIN `movimento` AS `m` ON `p`.`idmovimento` = `m`.`idmovimento`
LEFT JOIN `forma_pagamento` AS `f` ON `m`.`idforma_pagamento` = `f`.`idforma_pagamento`
WHERE `p`.`idvenda` = @__p_0
2021-05-20 15:39:55.958 -03:00 [INF] Executing ObjectResult, writing value of type 'FortalezaServer.Models.Venda'.
2021-05-20 15:39:55.959 -03:00 [INF] Executed action FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer) in 38.1879ms
2021-05-20 15:39:55.961 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer)'
2021-05-20 15:39:55.971 -03:00 [INF] Request finished in 56.7318ms 200 application/json; charset=utf-8
2021-05-20 15:39:56.025 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/caixas/actions/aberto?idnomeCaixa=1  
2021-05-20 15:39:56.027 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.CaixasController.GetCaixaAberto (FortalezaServer)'
2021-05-20 15:39:56.031 -03:00 [INF] Route matched with {action = "GetCaixaAberto", controller = "Caixas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FortalezaServer.Models.Caixa]] GetCaixaAberto(Int32, Boolean) on controller FortalezaServer.Controllers.CaixasController (FortalezaServer).
2021-05-20 15:39:56.038 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-05-20 15:39:56.042 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__idnomeCaixa_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`idcaixa`, `c`.`aberto`, `c`.`idnome_caixa`, `n`.`idnome_caixa`, `n`.`nome`, `a`.`idcaixa`, `a`.`hora`, `a`.`idpdv`, `a`.`idusuario`, `p`.`idpdv`, `p`.`nome`, `u`.`idusuario`, `u`.`cpf`, `u`.`idendereco`, `u`.`login`, `u`.`nome`, `u`.`senha`, `u`.`telefone1`, `u`.`telefone2`
FROM `caixa` AS `c`
INNER JOIN `nome_caixa` AS `n` ON `c`.`idnome_caixa` = `n`.`idnome_caixa`
LEFT JOIN `abertura` AS `a` ON `c`.`idcaixa` = `a`.`idcaixa`
LEFT JOIN `pdv` AS `p` ON `a`.`idpdv` = `p`.`idpdv`
LEFT JOIN `usuario` AS `u` ON `a`.`idusuario` = `u`.`idusuario`
WHERE (`c`.`aberto` = 1) AND (`c`.`idnome_caixa` = @__idnomeCaixa_0)
LIMIT 1
2021-05-20 15:39:56.052 -03:00 [INF] Executing ObjectResult, writing value of type 'FortalezaServer.Models.Caixa'.
2021-05-20 15:39:56.057 -03:00 [INF] Executed action FortalezaServer.Controllers.CaixasController.GetCaixaAberto (FortalezaServer) in 19.5687ms
2021-05-20 15:39:56.066 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.CaixasController.GetCaixaAberto (FortalezaServer)'
2021-05-20 15:39:56.068 -03:00 [INF] Request finished in 42.5344ms 200 application/json; charset=utf-8
2021-05-20 15:39:56.161 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/formapagamentos  
2021-05-20 15:39:56.162 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.FormaPagamentosController.GetFormaPagamento (FortalezaServer)'
2021-05-20 15:39:56.174 -03:00 [INF] Route matched with {action = "GetFormaPagamento", controller = "FormaPagamentos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[FortalezaServer.Models.FormaPagamento]]] GetFormaPagamento() on controller FortalezaServer.Controllers.FormaPagamentosController (FortalezaServer).
2021-05-20 15:39:56.184 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-05-20 15:39:56.188 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `f`.`idforma_pagamento`, `f`.`bandeira`, `f`.`debitar_cliente`, `f`.`debito`, `f`.`gerar_contas_receber`, `f`.`nome`, `f`.`ordem`
FROM `forma_pagamento` AS `f`
ORDER BY `f`.`ordem`
2021-05-20 15:39:56.196 -03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[FortalezaServer.Models.FormaPagamento, FortalezaServer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-05-20 15:39:56.202 -03:00 [INF] Executed action FortalezaServer.Controllers.FormaPagamentosController.GetFormaPagamento (FortalezaServer) in 19.6397ms
2021-05-20 15:39:56.203 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.FormaPagamentosController.GetFormaPagamento (FortalezaServer)'
2021-05-20 15:39:56.205 -03:00 [INF] Request finished in 43.936ms 200 application/json; charset=utf-8
2021-05-20 15:39:59.331 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8000/api/vendas/2/pagamentos application/json; charset=utf-8 751
2021-05-20 15:39:59.333 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.VendasController.PostPagamento (FortalezaServer)'
2021-05-20 15:39:59.338 -03:00 [INF] Route matched with {action = "PostPagamento", controller = "Vendas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FortalezaServer.Models.Venda]] PostPagamento(Int32, FortalezaServer.Models.Pagamento) on controller FortalezaServer.Controllers.VendasController (FortalezaServer).
2021-05-20 15:39:59.361 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-05-20 15:39:59.387 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`idvenda`, `t`.`aberta`, `t`.`acrescimo`, `t`.`desconto`, `t`.`descricao`, `t`.`hora_entrada`, `t`.`hora_fechamento`, `t`.`idcaixa`, `t`.`idcliente`, `t`.`idpdv`, `t`.`idresponsavel`, `t`.`numero_venda`, `t`.`paga`, `t`.`tipo`, `t`.`valor_pago`, `t`.`idcliente0`, `t`.`celular`, `t`.`cpf`, `t`.`email`, `t`.`idendereco`, `t`.`nome`, `t`.`rg`, `t`.`telefone`, `i`.`iditem_venda`, `i`.`acrescimo`, `i`.`cancelado`, `i`.`custo`, `i`.`desconto`, `i`.`iditem`, `i`.`idvenda`, `i`.`indice`, `i`.`quantidade`, `i`.`valor`, `t0`.`idcliente`, `t0`.`idmovimento`, `t0`.`idmovimento0`, `t0`.`descricao`, `t0`.`hora_entrada`, `t0`.`idbandeira`, `t0`.`idcaixa`, `t0`.`idforma_pagamento`, `t0`.`idpdv`, `t0`.`idusuario`, `t0`.`tipo`, `t0`.`valor`
FROM (
    SELECT `v`.`idvenda`, `v`.`aberta`, `v`.`acrescimo`, `v`.`desconto`, `v`.`descricao`, `v`.`hora_entrada`, `v`.`hora_fechamento`, `v`.`idcaixa`, `v`.`idcliente`, `v`.`idpdv`, `v`.`idresponsavel`, `v`.`numero_venda`, `v`.`paga`, `v`.`tipo`, `v`.`valor_pago`, `c`.`idcliente` AS `idcliente0`, `c`.`celular`, `c`.`cpf`, `c`.`email`, `c`.`idendereco`, `c`.`nome`, `c`.`rg`, `c`.`telefone`
    FROM `venda` AS `v`
    LEFT JOIN `cliente` AS `c` ON `v`.`idcliente` = `c`.`idcliente`
    WHERE `v`.`idvenda` = @__id_0
    LIMIT 1
) AS `t`
LEFT JOIN `item_venda` AS `i` ON `t`.`idvenda` = `i`.`idvenda`
LEFT JOIN (
    SELECT `c0`.`idcliente`, `c0`.`idmovimento`, `m`.`idmovimento` AS `idmovimento0`, `m`.`descricao`, `m`.`hora_entrada`, `m`.`idbandeira`, `m`.`idcaixa`, `m`.`idforma_pagamento`, `m`.`idpdv`, `m`.`idusuario`, `m`.`tipo`, `m`.`valor`
    FROM `cliente_has_movimento` AS `c0`
    INNER JOIN `movimento` AS `m` ON `c0`.`idmovimento` = `m`.`idmovimento`
) AS `t0` ON `t`.`idcliente0` = `t0`.`idcliente`
ORDER BY `t`.`idvenda`, `i`.`iditem_venda`, `t0`.`idcliente`, `t0`.`idmovimento`, `t0`.`idmovimento0`
2021-05-20 15:39:59.422 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `movimento` (`descricao`, `hora_entrada`, `idbandeira`, `idcaixa`, `idforma_pagamento`, `idpdv`, `idusuario`, `tipo`, `valor`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT `idmovimento`
FROM `movimento`
WHERE ROW_COUNT() = 1
 AND `idmovimento`=LAST_INSERT_ID();
2021-05-20 15:39:59.435 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p14='?' (DbType = Int32), @p0='?' (DbType = SByte), @p1='?' (DbType = Decimal), @p2='?' (DbType = Decimal), @p3='?' (Size = 255), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = SByte), @p12='?' (DbType = Int32), @p13='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
UPDATE `venda` SET `aberta` = @p0, `acrescimo` = @p1, `desconto` = @p2, `descricao` = @p3, `hora_entrada` = @p4, `hora_fechamento` = @p5, `idcaixa` = @p6, `idcliente` = @p7, `idpdv` = @p8, `idresponsavel` = @p9, `numero_venda` = @p10, `paga` = @p11, `tipo` = @p12, `valor_pago` = @p13
WHERE `idvenda` = @p14;
SELECT ROW_COUNT();
2021-05-20 15:39:59.444 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `pagamento` (`idvenda`, `idmovimento`, `credenciadora`)
VALUES (@p15, @p16, @p17);
2021-05-20 15:39:59.456 -03:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`3[[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-05-20 15:39:59.462 -03:00 [INF] Executed action FortalezaServer.Controllers.VendasController.PostPagamento (FortalezaServer) in 119.4916ms
2021-05-20 15:39:59.464 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.VendasController.PostPagamento (FortalezaServer)'
2021-05-20 15:39:59.466 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/vendas/2?pagamentos=true  
2021-05-20 15:39:59.467 -03:00 [INF] Request finished in 135.5026ms 201 application/json; charset=utf-8
2021-05-20 15:39:59.470 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer)'
2021-05-20 15:39:59.474 -03:00 [INF] Route matched with {action = "GetVenda", controller = "Vendas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FortalezaServer.Models.Venda]] GetVenda(Int32, Boolean, Boolean, Boolean) on controller FortalezaServer.Controllers.VendasController (FortalezaServer).
2021-05-20 15:39:59.478 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-05-20 15:39:59.481 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `v`.`idvenda`, `v`.`aberta`, `v`.`acrescimo`, `v`.`desconto`, `v`.`descricao`, `v`.`hora_entrada`, `v`.`hora_fechamento`, `v`.`idcaixa`, `v`.`idcliente`, `v`.`idpdv`, `v`.`idresponsavel`, `v`.`numero_venda`, `v`.`paga`, `v`.`tipo`, `v`.`valor_pago`
FROM `venda` AS `v`
WHERE `v`.`idvenda` = @__p_0
LIMIT 1
2021-05-20 15:39:59.492 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`iditem_venda`, `i`.`acrescimo`, `i`.`cancelado`, `i`.`custo`, `i`.`desconto`, `i`.`iditem`, `i`.`idvenda`, `i`.`indice`, `i`.`quantidade`, `i`.`valor`
FROM `item_venda` AS `i`
WHERE `i`.`idvenda` = @__p_0
2021-05-20 15:39:59.500 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`idvenda`, `p`.`idmovimento`, `p`.`credenciadora`, `m`.`idmovimento`, `m`.`descricao`, `m`.`hora_entrada`, `m`.`idbandeira`, `m`.`idcaixa`, `m`.`idforma_pagamento`, `m`.`idpdv`, `m`.`idusuario`, `m`.`tipo`, `m`.`valor`, `f`.`idforma_pagamento`, `f`.`bandeira`, `f`.`debitar_cliente`, `f`.`debito`, `f`.`gerar_contas_receber`, `f`.`nome`, `f`.`ordem`
FROM `pagamento` AS `p`
INNER JOIN `movimento` AS `m` ON `p`.`idmovimento` = `m`.`idmovimento`
LEFT JOIN `forma_pagamento` AS `f` ON `m`.`idforma_pagamento` = `f`.`idforma_pagamento`
WHERE `p`.`idvenda` = @__p_0
2021-05-20 15:39:59.509 -03:00 [INF] Executing ObjectResult, writing value of type 'FortalezaServer.Models.Venda'.
2021-05-20 15:39:59.515 -03:00 [INF] Executed action FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer) in 37.7829ms
2021-05-20 15:39:59.516 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer)'
2021-05-20 15:39:59.522 -03:00 [INF] Request finished in 55.6493ms 200 application/json; charset=utf-8
2021-05-20 15:39:59.522 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/vendas/2?pagamentos=true  
2021-05-20 15:39:59.525 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer)'
2021-05-20 15:39:59.526 -03:00 [INF] Route matched with {action = "GetVenda", controller = "Vendas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FortalezaServer.Models.Venda]] GetVenda(Int32, Boolean, Boolean, Boolean) on controller FortalezaServer.Controllers.VendasController (FortalezaServer).
2021-05-20 15:39:59.531 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-05-20 15:39:59.539 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `v`.`idvenda`, `v`.`aberta`, `v`.`acrescimo`, `v`.`desconto`, `v`.`descricao`, `v`.`hora_entrada`, `v`.`hora_fechamento`, `v`.`idcaixa`, `v`.`idcliente`, `v`.`idpdv`, `v`.`idresponsavel`, `v`.`numero_venda`, `v`.`paga`, `v`.`tipo`, `v`.`valor_pago`
FROM `venda` AS `v`
WHERE `v`.`idvenda` = @__p_0
LIMIT 1
2021-05-20 15:39:59.545 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`iditem_venda`, `i`.`acrescimo`, `i`.`cancelado`, `i`.`custo`, `i`.`desconto`, `i`.`iditem`, `i`.`idvenda`, `i`.`indice`, `i`.`quantidade`, `i`.`valor`
FROM `item_venda` AS `i`
WHERE `i`.`idvenda` = @__p_0
2021-05-20 15:39:59.554 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`idvenda`, `p`.`idmovimento`, `p`.`credenciadora`, `m`.`idmovimento`, `m`.`descricao`, `m`.`hora_entrada`, `m`.`idbandeira`, `m`.`idcaixa`, `m`.`idforma_pagamento`, `m`.`idpdv`, `m`.`idusuario`, `m`.`tipo`, `m`.`valor`, `f`.`idforma_pagamento`, `f`.`bandeira`, `f`.`debitar_cliente`, `f`.`debito`, `f`.`gerar_contas_receber`, `f`.`nome`, `f`.`ordem`
FROM `pagamento` AS `p`
INNER JOIN `movimento` AS `m` ON `p`.`idmovimento` = `m`.`idmovimento`
LEFT JOIN `forma_pagamento` AS `f` ON `m`.`idforma_pagamento` = `f`.`idforma_pagamento`
WHERE `p`.`idvenda` = @__p_0
2021-05-20 15:39:59.560 -03:00 [INF] Executing ObjectResult, writing value of type 'FortalezaServer.Models.Venda'.
2021-05-20 15:39:59.562 -03:00 [INF] Executed action FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer) in 31.2635ms
2021-05-20 15:39:59.563 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer)'
2021-05-20 15:39:59.566 -03:00 [INF] Request finished in 44.0167ms 200 application/json; charset=utf-8
2021-05-20 15:40:00.033 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/vendas/2/actions/fechar  
2021-05-20 15:40:00.035 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.VendasController.FecharVenda (FortalezaServer)'
2021-05-20 15:40:00.040 -03:00 [INF] Route matched with {action = "FecharVenda", controller = "Vendas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FortalezaServer.Models.Venda]] FecharVenda(Int32) on controller FortalezaServer.Controllers.VendasController (FortalezaServer).
2021-05-20 15:40:00.046 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-05-20 15:40:00.050 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `v`.`idvenda`, `v`.`aberta`, `v`.`acrescimo`, `v`.`desconto`, `v`.`descricao`, `v`.`hora_entrada`, `v`.`hora_fechamento`, `v`.`idcaixa`, `v`.`idcliente`, `v`.`idpdv`, `v`.`idresponsavel`, `v`.`numero_venda`, `v`.`paga`, `v`.`tipo`, `v`.`valor_pago`
FROM `venda` AS `v`
WHERE `v`.`idvenda` = @__p_0
LIMIT 1
2021-05-20 15:40:00.058 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`iditem_venda`, `i`.`acrescimo`, `i`.`cancelado`, `i`.`custo`, `i`.`desconto`, `i`.`iditem`, `i`.`idvenda`, `i`.`indice`, `i`.`quantidade`, `i`.`valor`
FROM `item_venda` AS `i`
WHERE `i`.`idvenda` = @__p_0
2021-05-20 15:40:00.070 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`iditem`, `i`.`atacado`, `i`.`codigo_barras`, `i`.`descricao`, `i`.`disponivel`, `i`.`estoque`, `i`.`estoque_minimo`, `i`.`imagem`, `i`.`permite_combo`, `i`.`quantidade_atacado`, `i`.`tipo`, `i`.`unidade`, `i`.`unidade_inteira`, `i`.`valor`, `i`.`valor_atacado`, `i`.`visivel`
FROM `item` AS `i`
WHERE `i`.`iditem` = @__p_0
2021-05-20 15:40:00.077 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p14='?' (DbType = Int32), @p0='?' (DbType = SByte), @p1='?' (DbType = Decimal), @p2='?' (DbType = Decimal), @p3='?' (Size = 255), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = SByte), @p12='?' (DbType = Int32), @p13='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
UPDATE `venda` SET `aberta` = @p0, `acrescimo` = @p1, `desconto` = @p2, `descricao` = @p3, `hora_entrada` = @p4, `hora_fechamento` = @p5, `idcaixa` = @p6, `idcliente` = @p7, `idpdv` = @p8, `idresponsavel` = @p9, `numero_venda` = @p10, `paga` = @p11, `tipo` = @p12, `valor_pago` = @p13
WHERE `idvenda` = @p14;
SELECT ROW_COUNT();
2021-05-20 15:40:00.088 -03:00 [INF] Executing HttpStatusCodeResult, setting HTTP status code 204
2021-05-20 15:40:00.089 -03:00 [INF] Executed action FortalezaServer.Controllers.VendasController.FecharVenda (FortalezaServer) in 44.6745ms
2021-05-20 15:40:00.092 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.VendasController.FecharVenda (FortalezaServer)'
2021-05-20 15:40:00.093 -03:00 [INF] Request finished in 59.9579ms 204 
2021-05-20 15:40:05.982 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/vendas  
2021-05-20 15:40:05.983 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer)'
2021-05-20 15:40:05.988 -03:00 [INF] Route matched with {action = "GetVenda", controller = "Vendas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[FortalezaServer.Models.Venda]]] GetVenda(Int32, Boolean, Boolean, System.String, System.String, System.String) on controller FortalezaServer.Controllers.VendasController (FortalezaServer).
2021-05-20 15:40:05.996 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-05-20 15:40:06.007 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `v`.`idvenda`, `v`.`aberta`, `v`.`acrescimo`, `v`.`desconto`, `v`.`descricao`, `v`.`hora_entrada`, `v`.`hora_fechamento`, `v`.`idcaixa`, `v`.`idcliente`, `v`.`idpdv`, `v`.`idresponsavel`, `v`.`numero_venda`, `v`.`paga`, `v`.`tipo`, `v`.`valor_pago`, `i`.`iditem_venda`, `i`.`acrescimo`, `i`.`cancelado`, `i`.`custo`, `i`.`desconto`, `i`.`iditem`, `i`.`idvenda`, `i`.`indice`, `i`.`quantidade`, `i`.`valor`
FROM `venda` AS `v`
LEFT JOIN `item_venda` AS `i` ON `v`.`idvenda` = `i`.`idvenda`
ORDER BY `v`.`idvenda`, `i`.`iditem_venda`
2021-05-20 15:40:06.011 -03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[FortalezaServer.Models.Venda, FortalezaServer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-05-20 15:40:06.014 -03:00 [INF] Executed action FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer) in 24.4048ms
2021-05-20 15:40:06.016 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.VendasController.GetVenda (FortalezaServer)'
2021-05-20 15:40:06.019 -03:00 [INF] Request finished in 36.5285ms 200 application/json; charset=utf-8
2021-05-20 15:40:11.928 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/fiscal/cfe-venda/2  
2021-05-20 15:40:11.930 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.FiscalController.GetCfeVendaAsync (FortalezaServer)'
2021-05-20 15:40:11.934 -03:00 [INF] Route matched with {action = "GetCfeVenda", controller = "Fiscal"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] GetCfeVendaAsync(Int32) on controller FortalezaServer.Controllers.FiscalController (FortalezaServer).
2021-05-20 15:40:11.945 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-05-20 15:40:11.953 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`idvenda`, `t`.`aberta`, `t`.`acrescimo`, `t`.`desconto`, `t`.`descricao`, `t`.`hora_entrada`, `t`.`hora_fechamento`, `t`.`idcaixa`, `t`.`idcliente`, `t`.`idpdv`, `t`.`idresponsavel`, `t`.`numero_venda`, `t`.`paga`, `t`.`tipo`, `t`.`valor_pago`, `t`.`idcaixa0`, `t`.`aberto`, `t`.`idnome_caixa`, `t`.`idnome_caixa0`, `t`.`nome`, `t`.`idcliente0`, `t`.`celular`, `t`.`cpf`, `t`.`email`, `t`.`idendereco`, `t`.`nome0`, `t`.`rg`, `t`.`telefone`, `t`.`idendereco0`, `t`.`bairro`, `t`.`cep`, `t`.`complemento`, `t`.`descricao0`, `t`.`logradouro`, `t`.`municipio`, `t`.`numero`, `t`.`tipo0`, `t`.`UF`, `t0`.`iditem_venda`, `t0`.`acrescimo`, `t0`.`cancelado`, `t0`.`custo`, `t0`.`desconto`, `t0`.`iditem`, `t0`.`idvenda`, `t0`.`indice`, `t0`.`quantidade`, `t0`.`valor`, `t0`.`iditem0`, `t0`.`atacado`, `t0`.`codigo_barras`, `t0`.`descricao`, `t0`.`disponivel`, `t0`.`estoque`, `t0`.`estoque_minimo`, `t0`.`imagem`, `t0`.`permite_combo`, `t0`.`quantidade_atacado`, `t0`.`tipo`, `t0`.`unidade`, `t0`.`unidade_inteira`, `t0`.`valor0`, `t0`.`valor_atacado`, `t0`.`visivel`, `t0`.`iditem1`, `t0`.`aliquota_icms`, `t0`.`cest`, `t0`.`cfop`, `t0`.`cst_icms`, `t0`.`ncm`, `t0`.`origem`, `t1`.`idvenda`, `t1`.`idmovimento`, `t1`.`credenciadora`, `t1`.`idmovimento0`, `t1`.`descricao`, `t1`.`hora_entrada`, `t1`.`idbandeira`, `t1`.`idcaixa`, `t1`.`idforma_pagamento`, `t1`.`idpdv`, `t1`.`idusuario`, `t1`.`tipo`, `t1`.`valor`, `t1`.`idforma_pagamento0`, `t1`.`bandeira`, `t1`.`debitar_cliente`, `t1`.`debito`, `t1`.`gerar_contas_receber`, `t1`.`nome`, `t1`.`ordem`
FROM (
    SELECT `v`.`idvenda`, `v`.`aberta`, `v`.`acrescimo`, `v`.`desconto`, `v`.`descricao`, `v`.`hora_entrada`, `v`.`hora_fechamento`, `v`.`idcaixa`, `v`.`idcliente`, `v`.`idpdv`, `v`.`idresponsavel`, `v`.`numero_venda`, `v`.`paga`, `v`.`tipo`, `v`.`valor_pago`, `c`.`idcaixa` AS `idcaixa0`, `c`.`aberto`, `c`.`idnome_caixa`, `n`.`idnome_caixa` AS `idnome_caixa0`, `n`.`nome`, `c0`.`idcliente` AS `idcliente0`, `c0`.`celular`, `c0`.`cpf`, `c0`.`email`, `c0`.`idendereco`, `c0`.`nome` AS `nome0`, `c0`.`rg`, `c0`.`telefone`, `e`.`idendereco` AS `idendereco0`, `e`.`bairro`, `e`.`cep`, `e`.`complemento`, `e`.`descricao` AS `descricao0`, `e`.`logradouro`, `e`.`municipio`, `e`.`numero`, `e`.`tipo` AS `tipo0`, `e`.`UF`
    FROM `venda` AS `v`
    INNER JOIN `caixa` AS `c` ON `v`.`idcaixa` = `c`.`idcaixa`
    INNER JOIN `nome_caixa` AS `n` ON `c`.`idnome_caixa` = `n`.`idnome_caixa`
    LEFT JOIN `cliente` AS `c0` ON `v`.`idcliente` = `c0`.`idcliente`
    LEFT JOIN `endereco` AS `e` ON `c0`.`idendereco` = `e`.`idendereco`
    WHERE `v`.`idvenda` = @__id_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `i`.`iditem_venda`, `i`.`acrescimo`, `i`.`cancelado`, `i`.`custo`, `i`.`desconto`, `i`.`iditem`, `i`.`idvenda`, `i`.`indice`, `i`.`quantidade`, `i`.`valor`, `i0`.`iditem` AS `iditem0`, `i0`.`atacado`, `i0`.`codigo_barras`, `i0`.`descricao`, `i0`.`disponivel`, `i0`.`estoque`, `i0`.`estoque_minimo`, `i0`.`imagem`, `i0`.`permite_combo`, `i0`.`quantidade_atacado`, `i0`.`tipo`, `i0`.`unidade`, `i0`.`unidade_inteira`, `i0`.`valor` AS `valor0`, `i0`.`valor_atacado`, `i0`.`visivel`, `f`.`iditem` AS `iditem1`, `f`.`aliquota_icms`, `f`.`cest`, `f`.`cfop`, `f`.`cst_icms`, `f`.`ncm`, `f`.`origem`
    FROM `item_venda` AS `i`
    INNER JOIN `item` AS `i0` ON `i`.`iditem` = `i0`.`iditem`
    LEFT JOIN `fiscal` AS `f` ON `i0`.`iditem` = `f`.`iditem`
) AS `t0` ON `t`.`idvenda` = `t0`.`idvenda`
LEFT JOIN (
    SELECT `p`.`idvenda`, `p`.`idmovimento`, `p`.`credenciadora`, `m`.`idmovimento` AS `idmovimento0`, `m`.`descricao`, `m`.`hora_entrada`, `m`.`idbandeira`, `m`.`idcaixa`, `m`.`idforma_pagamento`, `m`.`idpdv`, `m`.`idusuario`, `m`.`tipo`, `m`.`valor`, `f0`.`idforma_pagamento` AS `idforma_pagamento0`, `f0`.`bandeira`, `f0`.`debitar_cliente`, `f0`.`debito`, `f0`.`gerar_contas_receber`, `f0`.`nome`, `f0`.`ordem`
    FROM `pagamento` AS `p`
    INNER JOIN `movimento` AS `m` ON `p`.`idmovimento` = `m`.`idmovimento`
    LEFT JOIN `forma_pagamento` AS `f0` ON `m`.`idforma_pagamento` = `f0`.`idforma_pagamento`
) AS `t1` ON `t`.`idvenda` = `t1`.`idvenda`
ORDER BY `t`.`idvenda`, `t`.`idcaixa0`, `t`.`idnome_caixa0`, `t0`.`iditem_venda`, `t0`.`iditem0`, `t1`.`idvenda`, `t1`.`idmovimento`, `t1`.`idmovimento0`
2021-05-20 15:40:11.981 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`idinformacoes_empresa`, `i`.`cnae`, `i`.`cpf`, `i`.`csosn`, `i`.`cst_pis`, `i`.`email`, `i`.`idendereco`, `i`.`indice_rateio_issqn`, `i`.`inscricao_estadual`, `i`.`inscricao_municipal`, `i`.`logo`, `i`.`nome_fantasia`, `i`.`razao_social`, `i`.`regime_tributario`, `i`.`rg`, `i`.`telefone`
FROM `informacoes_empresa` AS `i`
WHERE `i`.`idinformacoes_empresa` = 1
LIMIT 1
2021-05-20 15:40:11.988 -03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2021-05-20 15:40:11.990 -03:00 [INF] Executed action FortalezaServer.Controllers.FiscalController.GetCfeVendaAsync (FortalezaServer) in 45.6213ms
2021-05-20 15:40:11.991 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.FiscalController.GetCfeVendaAsync (FortalezaServer)'
2021-05-20 15:40:11.994 -03:00 [INF] Request finished in 66.0917ms 200 text/plain; charset=utf-8
2021-05-20 16:04:26.046 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api  
2021-05-20 16:04:26.050 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.IndexController.Get (FortalezaServer)'
2021-05-20 16:04:26.052 -03:00 [INF] Route matched with {action = "Get", controller = "Index"}. Executing controller action with signature System.String Get() on controller FortalezaServer.Controllers.IndexController (FortalezaServer).
2021-05-20 16:04:26.056 -03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2021-05-20 16:04:26.061 -03:00 [INF] Executed action FortalezaServer.Controllers.IndexController.Get (FortalezaServer) in 5.7348ms
2021-05-20 16:04:26.063 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.IndexController.Get (FortalezaServer)'
2021-05-20 16:04:26.066 -03:00 [INF] Request finished in 18.9685ms 200 text/plain; charset=utf-8
2021-05-20 16:04:26.078 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/vendas/actions/aberta  
2021-05-20 16:04:26.079 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.VendasController.GetVendaAberta (FortalezaServer)'
2021-05-20 16:04:26.081 -03:00 [INF] Route matched with {action = "GetVendaAberta", controller = "Vendas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Int32]] GetVendaAberta(Int32) on controller FortalezaServer.Controllers.VendasController (FortalezaServer).
2021-05-20 16:04:26.089 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-05-20 16:04:26.114 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tipo_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `v`.`idvenda`, `v`.`aberta`, `v`.`acrescimo`, `v`.`desconto`, `v`.`descricao`, `v`.`hora_entrada`, `v`.`hora_fechamento`, `v`.`idcaixa`, `v`.`idcliente`, `v`.`idpdv`, `v`.`idresponsavel`, `v`.`numero_venda`, `v`.`paga`, `v`.`tipo`, `v`.`valor_pago`
FROM `venda` AS `v`
WHERE (`v`.`aberta` = 1) & (`v`.`tipo` = @__tipo_0)
LIMIT 1
2021-05-20 16:04:26.122 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/grupos  
2021-05-20 16:04:26.124 -03:00 [INF] Executing ObjectResult, writing value of type 'System.Int32'.
2021-05-20 16:04:26.129 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.GruposController.GetGrupo (FortalezaServer)'
2021-05-20 16:04:26.133 -03:00 [INF] Executed action FortalezaServer.Controllers.VendasController.GetVendaAberta (FortalezaServer) in 45.8109ms
2021-05-20 16:04:26.139 -03:00 [INF] Route matched with {action = "GetGrupo", controller = "Grupos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[FortalezaServer.Models.Grupo]]] GetGrupo() on controller FortalezaServer.Controllers.GruposController (FortalezaServer).
2021-05-20 16:04:26.141 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.VendasController.GetVendaAberta (FortalezaServer)'
2021-05-20 16:04:26.153 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-05-20 16:04:26.154 -03:00 [INF] Request finished in 75.8848ms 200 application/json; charset=utf-8
2021-05-20 16:04:26.158 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`idgrupo`, `g`.`descricao`, `g`.`nome`, `g`.`visivel`
FROM `grupo` AS `g`
2021-05-20 16:04:26.167 -03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[FortalezaServer.Models.Grupo, FortalezaServer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-05-20 16:04:26.170 -03:00 [INF] Executed action FortalezaServer.Controllers.GruposController.GetGrupo (FortalezaServer) in 16.982ms
2021-05-20 16:04:26.174 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.GruposController.GetGrupo (FortalezaServer)'
2021-05-20 16:04:26.176 -03:00 [INF] Request finished in 54.1982ms 200 application/json; charset=utf-8
2021-05-20 16:04:26.180 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/items  
2021-05-20 16:04:26.185 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.ItemsController.GetItem (FortalezaServer)'
2021-05-20 16:04:26.187 -03:00 [INF] Route matched with {action = "GetItem", controller = "Items"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[FortalezaServer.Models.Item]]] GetItem(Boolean, Boolean, Boolean, System.String) on controller FortalezaServer.Controllers.ItemsController (FortalezaServer).
2021-05-20 16:04:26.195 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-05-20 16:04:26.205 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`iditem`, `i`.`atacado`, `i`.`codigo_barras`, `i`.`descricao`, `i`.`disponivel`, `i`.`estoque`, `i`.`estoque_minimo`, `i`.`imagem`, `i`.`permite_combo`, `i`.`quantidade_atacado`, `i`.`tipo`, `i`.`unidade`, `i`.`unidade_inteira`, `i`.`valor`, `i`.`valor_atacado`, `i`.`visivel`
FROM `item` AS `i`
WHERE `i`.`visivel` = 1
2021-05-20 16:04:26.214 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `f`.`iditem`, `f`.`aliquota_icms`, `f`.`cest`, `f`.`cfop`, `f`.`cst_icms`, `f`.`ncm`, `f`.`origem`
FROM `fiscal` AS `f`
WHERE `f`.`iditem` = @__p_0
2021-05-20 16:04:26.224 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `f`.`iditem`, `f`.`aliquota_icms`, `f`.`cest`, `f`.`cfop`, `f`.`cst_icms`, `f`.`ncm`, `f`.`origem`
FROM `fiscal` AS `f`
WHERE `f`.`iditem` = @__p_0
2021-05-20 16:04:26.235 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `f`.`iditem`, `f`.`aliquota_icms`, `f`.`cest`, `f`.`cfop`, `f`.`cst_icms`, `f`.`ncm`, `f`.`origem`
FROM `fiscal` AS `f`
WHERE `f`.`iditem` = @__p_0
2021-05-20 16:04:26.240 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `f`.`iditem`, `f`.`aliquota_icms`, `f`.`cest`, `f`.`cfop`, `f`.`cst_icms`, `f`.`ncm`, `f`.`origem`
FROM `fiscal` AS `f`
WHERE `f`.`iditem` = @__p_0
2021-05-20 16:04:26.246 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `f`.`iditem`, `f`.`aliquota_icms`, `f`.`cest`, `f`.`cfop`, `f`.`cst_icms`, `f`.`ncm`, `f`.`origem`
FROM `fiscal` AS `f`
WHERE `f`.`iditem` = @__p_0
2021-05-20 16:04:26.253 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `f`.`iditem`, `f`.`aliquota_icms`, `f`.`cest`, `f`.`cfop`, `f`.`cst_icms`, `f`.`ncm`, `f`.`origem`
FROM `fiscal` AS `f`
WHERE `f`.`iditem` = @__p_0
2021-05-20 16:04:26.259 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `f`.`iditem`, `f`.`aliquota_icms`, `f`.`cest`, `f`.`cfop`, `f`.`cst_icms`, `f`.`ncm`, `f`.`origem`
FROM `fiscal` AS `f`
WHERE `f`.`iditem` = @__p_0
2021-05-20 16:04:26.266 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `f`.`iditem`, `f`.`aliquota_icms`, `f`.`cest`, `f`.`cfop`, `f`.`cst_icms`, `f`.`ncm`, `f`.`origem`
FROM `fiscal` AS `f`
WHERE `f`.`iditem` = @__p_0
2021-05-20 16:04:26.271 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `f`.`iditem`, `f`.`aliquota_icms`, `f`.`cest`, `f`.`cfop`, `f`.`cst_icms`, `f`.`ncm`, `f`.`origem`
FROM `fiscal` AS `f`
WHERE `f`.`iditem` = @__p_0
2021-05-20 16:04:26.279 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `f`.`iditem`, `f`.`aliquota_icms`, `f`.`cest`, `f`.`cfop`, `f`.`cst_icms`, `f`.`ncm`, `f`.`origem`
FROM `fiscal` AS `f`
WHERE `f`.`iditem` = @__p_0
2021-05-20 16:04:26.284 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `f`.`iditem`, `f`.`aliquota_icms`, `f`.`cest`, `f`.`cfop`, `f`.`cst_icms`, `f`.`ncm`, `f`.`origem`
FROM `fiscal` AS `f`
WHERE `f`.`iditem` = @__p_0
2021-05-20 16:04:26.288 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `f`.`iditem`, `f`.`aliquota_icms`, `f`.`cest`, `f`.`cfop`, `f`.`cst_icms`, `f`.`ncm`, `f`.`origem`
FROM `fiscal` AS `f`
WHERE `f`.`iditem` = @__p_0
2021-05-20 16:04:26.296 -03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[FortalezaServer.Models.Item, FortalezaServer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-05-20 16:04:26.299 -03:00 [INF] Executed action FortalezaServer.Controllers.ItemsController.GetItem (FortalezaServer) in 105.1177ms
2021-05-20 16:04:26.301 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.ItemsController.GetItem (FortalezaServer)'
2021-05-20 16:04:26.304 -03:00 [INF] Request finished in 124.6702ms 200 application/json; charset=utf-8
2021-05-20 16:04:31.668 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/informacoesempresa/1  
2021-05-20 16:04:31.670 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.InformacoesEmpresaController.GetInformacoesEmpresa (FortalezaServer)'
2021-05-20 16:04:31.677 -03:00 [INF] Route matched with {action = "GetInformacoesEmpresa", controller = "InformacoesEmpresa"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FortalezaServer.Models.InformacoesEmpresa]] GetInformacoesEmpresa(Int32) on controller FortalezaServer.Controllers.InformacoesEmpresaController (FortalezaServer).
2021-05-20 16:04:31.689 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-05-20 16:04:31.706 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`idinformacoes_empresa`, `i`.`cnae`, `i`.`cpf`, `i`.`csosn`, `i`.`cst_pis`, `i`.`email`, `i`.`idendereco`, `i`.`indice_rateio_issqn`, `i`.`inscricao_estadual`, `i`.`inscricao_municipal`, `i`.`logo`, `i`.`nome_fantasia`, `i`.`razao_social`, `i`.`regime_tributario`, `i`.`rg`, `i`.`telefone`
FROM `informacoes_empresa` AS `i`
WHERE `i`.`idinformacoes_empresa` = @__p_0
LIMIT 1
2021-05-20 16:04:31.730 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `e`.`idendereco`, `e`.`bairro`, `e`.`cep`, `e`.`complemento`, `e`.`descricao`, `e`.`logradouro`, `e`.`municipio`, `e`.`numero`, `e`.`tipo`, `e`.`UF`
FROM `endereco` AS `e`
WHERE `e`.`idendereco` = @__p_0
2021-05-20 16:04:31.738 -03:00 [INF] Executing ObjectResult, writing value of type 'FortalezaServer.Models.InformacoesEmpresa'.
2021-05-20 16:04:31.749 -03:00 [INF] Executed action FortalezaServer.Controllers.InformacoesEmpresaController.GetInformacoesEmpresa (FortalezaServer) in 63.0912ms
2021-05-20 16:04:31.753 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.InformacoesEmpresaController.GetInformacoesEmpresa (FortalezaServer)'
2021-05-20 16:04:31.755 -03:00 [INF] Request finished in 86.3838ms 200 application/json; charset=utf-8
2021-05-20 16:04:31.862 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/images/logo-empresa.png  
2021-05-20 16:04:31.874 -03:00 [INF] Sending file. Request path: '/images/logo-empresa.png'. Physical path: 'C:\Users\felip\source\repos\FortalezaServer\wwwroot\images\logo-empresa.png'
2021-05-20 16:04:31.877 -03:00 [INF] Request finished in 14.7591ms 200 image/png
2021-05-20 16:07:18.820 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api  
2021-05-20 16:07:18.823 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.IndexController.Get (FortalezaServer)'
2021-05-20 16:07:18.824 -03:00 [INF] Route matched with {action = "Get", controller = "Index"}. Executing controller action with signature System.String Get() on controller FortalezaServer.Controllers.IndexController (FortalezaServer).
2021-05-20 16:07:18.826 -03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2021-05-20 16:07:18.828 -03:00 [INF] Executed action FortalezaServer.Controllers.IndexController.Get (FortalezaServer) in 1.8985ms
2021-05-20 16:07:18.832 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.IndexController.Get (FortalezaServer)'
2021-05-20 16:07:18.835 -03:00 [INF] Request finished in 14.8909ms 200 text/plain; charset=utf-8
2021-05-20 16:07:18.860 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/vendas/actions/aberta  
2021-05-20 16:07:18.862 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.VendasController.GetVendaAberta (FortalezaServer)'
2021-05-20 16:07:18.863 -03:00 [INF] Route matched with {action = "GetVendaAberta", controller = "Vendas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Int32]] GetVendaAberta(Int32) on controller FortalezaServer.Controllers.VendasController (FortalezaServer).
2021-05-20 16:07:18.878 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-05-20 16:07:18.887 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tipo_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `v`.`idvenda`, `v`.`aberta`, `v`.`acrescimo`, `v`.`desconto`, `v`.`descricao`, `v`.`hora_entrada`, `v`.`hora_fechamento`, `v`.`idcaixa`, `v`.`idcliente`, `v`.`idpdv`, `v`.`idresponsavel`, `v`.`numero_venda`, `v`.`paga`, `v`.`tipo`, `v`.`valor_pago`
FROM `venda` AS `v`
WHERE (`v`.`aberta` = 1) & (`v`.`tipo` = @__tipo_0)
LIMIT 1
2021-05-20 16:07:18.894 -03:00 [INF] Executing ObjectResult, writing value of type 'System.Int32'.
2021-05-20 16:07:18.896 -03:00 [INF] Executed action FortalezaServer.Controllers.VendasController.GetVendaAberta (FortalezaServer) in 19.8023ms
2021-05-20 16:07:18.897 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/grupos  
2021-05-20 16:07:18.898 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.VendasController.GetVendaAberta (FortalezaServer)'
2021-05-20 16:07:18.904 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.GruposController.GetGrupo (FortalezaServer)'
2021-05-20 16:07:18.906 -03:00 [INF] Request finished in 45.8612ms 200 application/json; charset=utf-8
2021-05-20 16:07:18.908 -03:00 [INF] Route matched with {action = "GetGrupo", controller = "Grupos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[FortalezaServer.Models.Grupo]]] GetGrupo() on controller FortalezaServer.Controllers.GruposController (FortalezaServer).
2021-05-20 16:07:18.923 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-05-20 16:07:18.926 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`idgrupo`, `g`.`descricao`, `g`.`nome`, `g`.`visivel`
FROM `grupo` AS `g`
2021-05-20 16:07:18.937 -03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[FortalezaServer.Models.Grupo, FortalezaServer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-05-20 16:07:18.939 -03:00 [INF] Executed action FortalezaServer.Controllers.GruposController.GetGrupo (FortalezaServer) in 15.7327ms
2021-05-20 16:07:18.940 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.GruposController.GetGrupo (FortalezaServer)'
2021-05-20 16:07:18.941 -03:00 [INF] Request finished in 44.1229ms 200 application/json; charset=utf-8
2021-05-20 16:07:18.947 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8000/api/items  
2021-05-20 16:07:18.948 -03:00 [INF] Executing endpoint 'FortalezaServer.Controllers.ItemsController.GetItem (FortalezaServer)'
2021-05-20 16:07:18.949 -03:00 [INF] Route matched with {action = "GetItem", controller = "Items"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[FortalezaServer.Models.Item]]] GetItem(Boolean, Boolean, Boolean, System.String) on controller FortalezaServer.Controllers.ItemsController (FortalezaServer).
2021-05-20 16:07:18.957 -03:00 [INF] Entity Framework Core 3.1.10 initialized 'fortalezaitdbContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2021-05-20 16:07:18.959 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`iditem`, `i`.`atacado`, `i`.`codigo_barras`, `i`.`descricao`, `i`.`disponivel`, `i`.`estoque`, `i`.`estoque_minimo`, `i`.`imagem`, `i`.`permite_combo`, `i`.`quantidade_atacado`, `i`.`tipo`, `i`.`unidade`, `i`.`unidade_inteira`, `i`.`valor`, `i`.`valor_atacado`, `i`.`visivel`
FROM `item` AS `i`
WHERE `i`.`visivel` = 1
2021-05-20 16:07:18.969 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `f`.`iditem`, `f`.`aliquota_icms`, `f`.`cest`, `f`.`cfop`, `f`.`cst_icms`, `f`.`ncm`, `f`.`origem`
FROM `fiscal` AS `f`
WHERE `f`.`iditem` = @__p_0
2021-05-20 16:07:18.974 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `f`.`iditem`, `f`.`aliquota_icms`, `f`.`cest`, `f`.`cfop`, `f`.`cst_icms`, `f`.`ncm`, `f`.`origem`
FROM `fiscal` AS `f`
WHERE `f`.`iditem` = @__p_0
2021-05-20 16:07:18.980 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `f`.`iditem`, `f`.`aliquota_icms`, `f`.`cest`, `f`.`cfop`, `f`.`cst_icms`, `f`.`ncm`, `f`.`origem`
FROM `fiscal` AS `f`
WHERE `f`.`iditem` = @__p_0
2021-05-20 16:07:18.990 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `f`.`iditem`, `f`.`aliquota_icms`, `f`.`cest`, `f`.`cfop`, `f`.`cst_icms`, `f`.`ncm`, `f`.`origem`
FROM `fiscal` AS `f`
WHERE `f`.`iditem` = @__p_0
2021-05-20 16:07:18.994 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `f`.`iditem`, `f`.`aliquota_icms`, `f`.`cest`, `f`.`cfop`, `f`.`cst_icms`, `f`.`ncm`, `f`.`origem`
FROM `fiscal` AS `f`
WHERE `f`.`iditem` = @__p_0
2021-05-20 16:07:19.000 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `f`.`iditem`, `f`.`aliquota_icms`, `f`.`cest`, `f`.`cfop`, `f`.`cst_icms`, `f`.`ncm`, `f`.`origem`
FROM `fiscal` AS `f`
WHERE `f`.`iditem` = @__p_0
2021-05-20 16:07:19.004 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `f`.`iditem`, `f`.`aliquota_icms`, `f`.`cest`, `f`.`cfop`, `f`.`cst_icms`, `f`.`ncm`, `f`.`origem`
FROM `fiscal` AS `f`
WHERE `f`.`iditem` = @__p_0
2021-05-20 16:07:19.012 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `f`.`iditem`, `f`.`aliquota_icms`, `f`.`cest`, `f`.`cfop`, `f`.`cst_icms`, `f`.`ncm`, `f`.`origem`
FROM `fiscal` AS `f`
WHERE `f`.`iditem` = @__p_0
2021-05-20 16:07:19.017 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `f`.`iditem`, `f`.`aliquota_icms`, `f`.`cest`, `f`.`cfop`, `f`.`cst_icms`, `f`.`ncm`, `f`.`origem`
FROM `fiscal` AS `f`
WHERE `f`.`iditem` = @__p_0
2021-05-20 16:07:19.023 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `f`.`iditem`, `f`.`aliquota_icms`, `f`.`cest`, `f`.`cfop`, `f`.`cst_icms`, `f`.`ncm`, `f`.`origem`
FROM `fiscal` AS `f`
WHERE `f`.`iditem` = @__p_0
2021-05-20 16:07:19.029 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `f`.`iditem`, `f`.`aliquota_icms`, `f`.`cest`, `f`.`cfop`, `f`.`cst_icms`, `f`.`ncm`, `f`.`origem`
FROM `fiscal` AS `f`
WHERE `f`.`iditem` = @__p_0
2021-05-20 16:07:19.033 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `f`.`iditem`, `f`.`aliquota_icms`, `f`.`cest`, `f`.`cfop`, `f`.`cst_icms`, `f`.`ncm`, `f`.`origem`
FROM `fiscal` AS `f`
WHERE `f`.`iditem` = @__p_0
2021-05-20 16:07:19.038 -03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[FortalezaServer.Models.Item, FortalezaServer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-05-20 16:07:19.041 -03:00 [INF] Executed action FortalezaServer.Controllers.ItemsController.GetItem (FortalezaServer) in 84.8343ms
2021-05-20 16:07:19.043 -03:00 [INF] Executed endpoint 'FortalezaServer.Controllers.ItemsController.GetItem (FortalezaServer)'
2021-05-20 16:07:19.044 -03:00 [INF] Request finished in 97.7473ms 200 application/json; charset=utf-8
2021-05-20 18:14:06.386 -03:00 [INF] Application is shutting down...
